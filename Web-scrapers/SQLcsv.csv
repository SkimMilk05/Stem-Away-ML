,Title,Categories,Tags,Replies,Post,Comment
0,[README] Learn SQL,"Get Help,SQL",,2,"
Welcome to Learn SQL

SQL (Structured Query Language) is the standard data-management language, enabling you to communicate with databases. This forum category covers broader discussion about SQL related topics.
This course contains the following Sections/Lessons:

Manipulation

Manipulation


Queries

Queries


Aggregate Functions

Aggregate Functions


Multiple Tables

Multiple Tables




Topics in this course, By section:

Manipulation
Queries
Aggregate Functions
Multiple Tables

Projects in SQL

All Project topics belong in the category #project
Sort By:

Create a Table
How to Hack Hacker News

Usage Funnels with Parker
Just to mention a few


FAQ’s
View all
Q & A’s
View all
More resources from Codecademy
Module Key Concepts

Manipulation
Queries
Aggregate Functions
Multiple Tables

Articles:

What is SQLite?

","
"
1,X-Press Publishing / DB path,"Get Help,SQL",general,3,"
Hi there!
I am working on the project X-press publishing: https://www.codecademy.com/paths/web-development/tracks/building-a-persistent-api/modules/persistent-api-cumulative-projects/projects/x-press-publishing
I can’t understand why should we declare DB path as ‘./database.sqlite’ in files artists, issues and serias. This path points at the current api directory, but our DB is not in the current directory.

Xpress - Visual Studio Code949×792 61.4 KB

","
I’ve found the answer in the other project:
https://www.codecademy.com/paths/web-development/tracks/building-a-persistent-api/modules/persistent-api-cumulative-projects/informationals/cumulative-project-expresso
"" Note:  When loading  database.sqlite  in your JavaScript files, sqlite3 will always try to load  database.sqlite  from the root directory path,  ./database.sqlite , regardless of where the current file is located. Therefore your code will always be  new sqlite3.Database(process.env.TEST_DATABASE || './database.sqlite')  regardless of the file you are writing in""

I had the same thought about the filepath and found the same answer on the expresso page, but I’m testing it now in my own environment and instead of looking in the root directory sqlite3 is just creating a new database seemingly without checking the root directory which is contradictory to what the answer says. I have to specify exactly where the database is, EG (’…/database.sqlite’).

OK so after a bit of Googling and experimentation I think I understand it’s behaviour. Sqlite3 will search for the database RELATIVE TO WHERE THE PROGRAM IS EXECUTED FROM.
For example, if I am in the root directory of a project and execute a program that’s nested a few directories down that is looking for a sqlite database with the line:
const db = new sqlite3.Database(’./database.sqlite’);
The program will check my current location (AKA the root directory) for the sqlite database, as that’s where the program was executed from.
If I were to cd into a nested directory and execute the same program, sqlite3 would now check the new directory I am located in, thus it wouldn’t find the sqlite database in the root directory and will proceed to create a new one in the nested directory.
Hopefully this helps some people, and if anybody has anything to correct or improve upon what I’ve said please do so!
"
2,Simple query... but I'm stuck,"Get Help,SQL","general,quiz",5,"
Hey all,
I’m going back and practicing some of the beginner courses of SQL and I keep getting stuck writing a query for the following:
"" Given a  cities  table, write the query to select only the cities with  temperature  less than 75.""
The practice sessions don’t let you submit an answer until it’s correct so I’m not sure where I’m going wrong; it’s also difficult to tell what the parameters of the hypothetical table are.
Assuming temperature is an integer, I would think it’s a simple “WHERE” exercise:
SELECT *
FROM cities
WHERE temperature < 75;
Where am I going wrong?  Or rather, what answer is the question wanting me to enter?
Thanks!
You must select a tag to post in this category. Please find the tag relating to the section of the course you are on E.g. loops, learn-compatibility
When you ask a question, don’t forget to include a link to the exercise or project you’re dealing with!
If you want to have the best chances of getting a useful answer quickly, make sure you follow our guidelines about how to ask a good question.  That way you’ll be helping everyone – helping people to answer your question and helping others who are stuck to find the question and answer! 
","
What’s the schema of the table?
“select only the cities” might mean to select only the cities column if there is such a thing (where temp<75).

The schema isn’t given in the practice sessions - that’s where it’s a bit confusing.

it usually shows on the right hand side in the codecademy environment. If you run any command like select * for example it’ll show.


I know what you’re saying.
I can’t screen record but it doesn’t let you enter any code, only “submit answer” which will stay grayed out with a red do not enter looking cursor until the correct code has been entered - then it’ll turn green and allow you to “submit answer.”
It’s under the second chapter of the SQL syllabus - under practice.
Unless “ctrl+enter” isn’t how submitting code works…??
"
3,SQL on computer,"Get Help,SQL",aggregate-functions,8,"
Hi,
So several SQL resources on this website suggest you try them on a PC, yet there is no clear article detailing how to accomplish this. So I’ve installed Gitbash, all grand. I’ve installed SQLite on there as well, also grand.
Yet there’s no advice as to how to open things in this program. A vague YT video from this website indeed illustrates how to open a database, grand, yet this is assuming you know the names and the tables you can draw from. What if you’ve opened a database and don’t know where to draw from: you’re just there with sitting ducks with your terminal open.
Say, the World Populations exercise on this website. How would one go about and do this in a Github terminal with SQLite installed?
Thanks
T
PS:  no clue what’s meant with these tags on this forum, so I just picked something.
","
Hello,
I am in the same boat here. I’m ready to do the SQL World Populations project from my terminal (Git Bash). I have downloaded the zip file but there are two documents. There is no instruction to say which file we need, nor is there any indication as to how we can use Git Bash successfully and then move our code to GitHub.
Any help on this would be really appreciated!
Cheers!

Hey, I gave up on SQLite here on Codecademy due to inactivity. I’ve since switched to MySQL which has a pretty intuitive program to run it on your PC. There’s some excellent courses for that on Udemy.

Hi @jwelly91,
Welcome to the Codecademy Forums.
If you follow the instructions on this page you can get DB Browswer for SQLite set up.  In my opinion, this is a much more user-friendly way to explore a SQLite database than through the command line interface.
There are numerous other ways to explore and interact with a SQLite database, but as @twan4188 mentioned, there’s surprisingly little instruction on how to do so on Codecademy.  I figured it out on my own when I was starting off a few years ago, but it does take some time.  Because I’ve see posts related to this somewhat frequently on here, I’ve started to write a blog post (I might actually split it into two — CLI and non-CLI) explaining the various options to set up SQLite on your own computer and how to interact with it.  Once I’m done, I’ll link it here on the forums to help other beginners who feel a little overwhelmed when transitioning to running SQLite locally.

Thanks a lot for your response, mate. Much appreciated. I’ll certainly take on board your advice regarding DB Browser.
Using that I will figure out how to interact with GitHub.

Hi! Did you figure it out how to link the terminal sqlite to github?

Hi! Do you also have a link explaining how to link the sqlite on terminal to github? I managed to open the populations query and get answers but I can’t find how I am supposed to push it to Github.
Please help.
Thanks.

If you are are yet to do the Intro to Git course, download Github Desktop - official software for syncing your local Git repositories with Github. Next, check out the Intro to Git course.
"
4,Division in SQL with SUM(),"Get Help,SQL","aggregate-functions,quiz",2,"
Hello,
I am following this task
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-hackernews
Number 4.
Then, we want to add these users’  score s together and divide by the total to get the percentage.
Add their scores together and divide it by the total sum. Like so:
SELECT (1.0 + 2.0 + 3.0) / 6.0;
So, is Hacker News dominated by these users?
HERE IS THE HINT: SELECT (517 + 309 + 304 + 282) / 6366.0;
I do not want to manually type the numbers for the division so I used these syntax to get Sum
of Score from the group by
WITH each_s AS ( SELECT user, SUM(score) as each_score
FROM hacker_news
GROUP BY user
HAVING each_score > 200), TOTAL AS( SELECT SUM(score) FROM hacker_news)
SELECT SUM(each_score) FROM each_s;
The final syntax gives: 1412 is correct
Now I need to take 1412 to divide for Total score (6366) BUT I do not want to manually type 6366 in
Syntax to get the total is SELECT SUM(score) FROM hacker_news;
Is there anyway to do this math automatically and got  22% as result INSTEAD OF typing 517 + 309 + 304 + 282 and 6366?
my code: https://gist.github.com/4afce3b27f48aad5fd3a92ea02e8dc96
","
Hi @davidvietnam, welcome to the forums!
One way to accomplish what you’re trying to do would be to use subqueries.  Subqueries are just regular queries that are nested inside a specific clause of your main query.
Here, we would want to avoid using this phrase:
TOTAL AS( SELECT SUM(score) FROM hacker_news)

…as this creates a Common Table Expression (or CTE), which is a type of temporary table.  Because we only want the value and not a table with the value, we should not use the WITH...AS syntax to retrieve the total.  Instead, what we can do is use a subquery inside of the in the SELECT clause:
WITH each_s AS (
  SELECT user, SUM(score) as each_score
  FROM hacker_news
  GROUP BY user
  HAVING each_score > 200
)
SELECT SUM(each_score) / (SELECT SUM(score) * 1.0 FROM hacker_news) FROM each_s;

If you are interested in learning more about subqueries, Codecademy has a short course on them here:
https://www.codecademy.com/learn/sql-table-transformation
This course probably needs to be re-worked  to be more learner-friendly, but it should get you started.
P.S., in the future if you post your code here in the forums, please use this button to format it so that it’s easier for all to read:

After pressing that button, you will see a prompt that looks like this appear in your editor:

Just copy and paste your code directly from the editor into that highlighted portion, and all of the nicely-readable formatting will be preserved! Moreover, it will be in a format that can be directly copied and pasted into an IDE for testing.
Happy coding!
"
5,Cumulative API projects,"Get Help,SQL",queries,1,"
Hey guys, anyone done the Cumulative API projects yet? Expresso in this case. This is the link
https://www.codecademy.com/paths/web-development/tracks/building-a-persistent-api/modules/persistent-api-cumulative-projects/informationals/cumulative-project-expresso
I have passed all the CRUD tests but I get a SQLITE CONSTRAINT ERROR: NOT NULL constraint failed. Employee.name.
This is my code below
const express = require(‘express’);
const employeesRouter = express.Router();
const timeSheetsRouter = require(’./timesheets’);
const sqlite3 = require(‘sqlite3’);
const db = new sqlite3.Database(process.env.TEST_DATABASE || ‘./database.sqlite’);
employeesRouter.param(‘employeeId’, (req, res, next, employeeId) => {
db.get('SELECT * FROM Employee WHERE Employee.id = $employeeId',

{

    $employeeId : employeeId

}, (error, employee) => {

    if(error) {

        next(error)

    } else if(employee) {

        req.employee = employee;

        next()

    } else {

        res.status(404).send()

    }

}

)

});
employeesRouter.use(’/:employeeId/timesheets’, timeSheetsRouter);
employeesRouter.get(’/’, (req, res, next) => {
db.all('SELECT * FROM Employee WHERE Employee.is_current_employee = 1', 

(err, employees) => {

    if(err) {

        next(err)

    } else {

        res.status(200).json({ employees : employees })

    }

}

)

});
employeesRouter.get(’/:employeeId’, (req, res, next) => {
res.status(200).json({employee : req.employee})

});
employeesRouter.post(’/’, (req, res, next) => {
const name = req.body.employee.name;

const position = req.body.employee.position;

const wage = req.body.employee.wage;

const isCurrentEmployee = req.body.employee.isCurrentEmployee === 0 ? 0 : 1;

if(!name || !position || !wage) {

    res.sendStatus(400)

}

db.run(`INSERT INTO Employee (name, position, wage, is_current_employee) VALUES ($name, $position, $wage, $isCurrentEmployee)`, {

    $name : name,

    $position : position,

    $wage : wage,

    $isCurrentEmployee : isCurrentEmployee

},

function(error) {

    if(error) {

        next(error)

    } else {

        db.get(`SELECT * FROM Employee WHERE id = ${this.lastID}`, (error, employee) => {

            res.status(201).json({employee : employee})

        })

    }

}

)

});
employeesRouter.put(’/:employeeId’, (req, res, next) => {
const name = req.body.employee.name,

      position = req.body.employee.position,

      wage = req.body.employee.wage,

      isCurrentEmployee = req.body.employee.isCurrentEmployee === 0 ? 0 : 1;

if(!name || !position || !wage) {

    return res.sendStatus(400);

}

db.run('UPDATE Employee SET name = $name, position = $position, wage = $wage, is_current_employee = $isCurrentEmployee WHERE Employee.id = $employeeId', 

{

    $name : name,

    $position : position,

    $wage : wage,

    $isCurrentEmployee : isCurrentEmployee,

    $employeeId : req.params.employeeId

},

(error) => {

    if(error) {

        next(error)

    } else {

        db.get(`SELECT * FROM Employee WHERE Employee.id = ${req.params.employeeId}`,

        (error, employee) => {

            res.status(200).json({ employee : employee})

        });

    };

}

)

});
employeesRouter.delete(’/:employeeId’, (req, res, next) => {
db.run('UPDATE Employee SET is_current_employee = 0 WHERE Employee.id = $employeeId', {

    $employeeId : req.params.employeeId

}, (error) => {

    if(error) { next(error) } else {

        db.get(`SELECT * FROM Employee WHERE Employee.id = ${req.params.employeeId}`, 

        (error, employee) => {

            res.status(200).json({employee : employee})

        })

    }

}

);

});
module.exports = employeesRouter;
",
6,Calculating Churn Rate (Code review/ feedback),"Get Help,SQL",queries,3,"
Hello, community. I was hoping to get feedback on the Calculating Churn Rate project that I just completed. Codecademy did not provide a solution, so I am hoping to see whether or not my queries are correct. Please advise.


gist.github.com


https://gist.github.com/codecademydev/5aab473b3f41d2d2a03f96c3bc35ca2c
test.sqlite
WITH months AS
(SELECT
  '2017-01-01' AS first_date,
  '2017-01-31' AS last_date
  UNION
  SELECT
  '2017-02-01' AS first_date,
  '2017-02-28' AS last_date
  UNION
  SELECT
This file has been truncated. show original







","
Hi @arc6497970400, welcome to the forums!
This is for the DS Path, right? (Codeflix?)
Did you happen to watch the “Get Unstuck” video to verify that your code is correct?
The console won’t print out your entire solution b/c you’re creating CTEs in steps 3-7 and you’re not directly querying those so you won’t see any output until step 8.
One way to see your results is right after you create the CTE (WITH statement) you could query it (like is done in the video) with a SELECT * FROM months.
I hope this helps.

Also, there is a FAQ for this lesson here:
https://discuss.codecademy.com/t/faq-calculating-churn-multiple-month-churn-rate-calculation/373464/46
"
7,SQL - Structured Query Language,"Get Help,SQL",general,2,"
Is SQL programming language?
","
SQL, as far as I know, is a programming language, as such, but it is usually considered a database querying language, or a domain specific language (DSL), as it can only work on certain platforms. You can read more here.
"
8,User Churn Code not working,"Get Help,SQL",multiple-tables,16,"
I have written the following code for the Codeflix User Churn project, and while it doesn’t generate any errors I am also not seeing any results for the query, can someone help me understand what am I doing wrong?
WITH months AS
(
SELECT ‘2016-12-01’ as first_day,
‘2016-12-31’ as last_day
UNION
SELECT ‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT ‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
UNION
SELECT ‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join AS
(
SELECT months.,subscriptions.
FROM months
CROSS JOIN subscriptions
),
status AS
(
SELECT id, first_day AS month,
CASE
WHEN ((subscription_start<first_day)
AND (segment = 87)
AND (subscription_end>=last_day)
OR (subscription_end IS NULL))
THEN 1
ELSE 0
END as is_active_37
CASE
WHEN ((subscription_start<first_day)
AND (segment = 37)
AND (subscription_end>=last_day)
OR (subscription_end IS NULL))
THEN 1
ELSE 0
END as is_active_37
CASE
WHEN
((subscription_end BETWEEN first_day AND last_day) AND (segment = 87))
THEN 1
ELSE 0
END as is_cancelled_87
CASE
WHEN
((subscription_end BETWEEN first_day AND last_day) AND (segment = 37))
THEN 1
ELSE 0
END as is_cancelled_37
),
status_aggregate AS
(
SELECT
SUM(is_active_87) AS sum_active_87,
SUM(is_active_37) AS sum_active_37,
SUM(is_canceled_87) AS sum_canceled_87,
SUM(is_canceled_37) AS sum_canceled_37,
FROM status
)
SELECT 1.0 * (sum_canceled_87/sum_active_87) AS 87_churn,
1.0 * (sum_canceled_37/sum_active_37) AS 37_churn
FROM status_aggregate;
","
Hi @babylongbot ,
You have two “END AS is is active 37”
In your CASE statements above.

Hi, thanks for pointing that out.
I have made the change but it is still not working




 babylongbot:

SELECT months. ,subscriptions.
FROM months
CROSS JOIN subscriptions


There is also a small typo above. There’s an inadvertent comma after the period in months.subsriptions

This is Q3, right?
"" You’ll be calculating the churn rate for both segments ( 87  and  30 ) over the first 3 months of 2017 (you can’t calculate it for December, since there are no  subscription_end  values yet). To get started, create a temporary table of  months .""
Double check the dates in your WITH months CTE.

Thanks so much for all your help and insight I have made the edits as you have pointed out but unfortunately it is still not executing, I am pasting the code here again, as maybe the updated code may be of better use.
WITH months AS
(
SELECT ‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT ‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
UNION
SELECT ‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join AS
(
SELECT *
FROM months
CROSS JOIN subscriptions
),
status AS
(
SELECT id, first_day AS month,
CASE
WHEN ((subscription_start<first_day)
AND (segment = 87)
AND (subscription_end>=last_day)
OR (subscription_end IS NULL))
THEN 1
ELSE 0
END as is_active_87
CASE
WHEN ((subscription_start<first_day)
AND (segment = 30)
AND (subscription_end>=last_day)
OR (subscription_end IS NULL))
THEN 1
ELSE 0
END as is_active_30
CASE
WHEN
((subscription_end BETWEEN first_day AND last_day) AND (segment = 87))
THEN 1
ELSE 0
END as is_cancelled_87
CASE
WHEN
((subscription_end BETWEEN first_day AND last_day) AND (segment = 30))
THEN 1
ELSE 0
END as is_cancelled_30
),
status_aggregate AS
(
SELECT
SUM(is_active_87) AS sum_active_87,
SUM(is_active_30) AS sum_active_30,
SUM(is_canceled_87) AS sum_canceled_87,
SUM(is_canceled_30) AS sum_canceled_30,
FROM status
)
SELECT 1.0 * (sum_canceled_87/sum_active_87),
1.0 * (sum_canceled_30/sum_active_30)
FROM status_aggregate;

Sure! no problem! 
I also read/check my code from the bottom up to catch any errors. Sometimes that helps. Personal preference, I suppose.
Let’s see…



 babylongbot:

cross_join AS
(
SELECT *
FROM months
CROSS JOIN subscriptions
),


Try swapping the tables in this part. (the FROM and CROSS JOIN part.
The Q asks: ’ Create a temporary table,  cross_join , from  subscriptions  and your  months . Be sure to  SELECT  every column.""

as before, Thanks for this tip too, I tried it yet the code doesn’t seem to be working for some reason, I tried running it in my Mac’s terminal and it points out an error near the ‘CASE’ syntax. Anyway I am going to try to write the code again from the beginning hopefully, clearing any errors, thanks again for your help. The coding community is great 

I give up !
WITH months AS
(
SELECT ‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT ‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
UNION
SELECT ‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join AS
(
SELECT subscriptions.,months.
FROM subscriptions
CROSS JOIN months
),
status AS
(
SELECT id,
first_day AS month,
CASE
WHEN
(
(segment = 87)
AND
(subscription_start < first_day)
AND
(subscription_end >= last_day)
OR
(subscription_end IS NULL)
)
THEN 1
ELSE 0
END AS is_active_87
CASE
WHEN
(
(segment = 30)
AND
(subscription_start < first_day)
AND
(subscription_end >= last_day)
OR
(subscription_end IS NULL)
)
THEN 1
ELSE 0
END AS is_active_30
CASE
WHEN
(
(segment = 87)
AND
(subscription_start < first_day)
AND
(WHERE subscription_end BETWEEN first_day AND last_day)
THEN 1
ELSE 0
END AS is_canceled_87
)
CASE
WHEN
(
(segment = 30)
AND
(subscription_start < first_day)
AND
(WHERE subscription_end BETWEEN first_day AND last_day)
THEN 1
ELSE 0
END AS is_canceled_30
)
),
status_aggregate AS
(
SELECT
SUM(is_active_87) AS sum_active_87,
SUM(is_active_37) AS sum_active_37,
SUM(is_canceled_87) AS sum_canceled_87,
SUM(is_canceled_30) AS sum_canceled_30
)
SELECT
1.0 * (sum_canceled_87/sum_active_87) AS churn87,
1.0 * (sum_canceled_30/sum_active_87) AS churn30
FROM status_aggregate;
Still not working…




 babylongbot:

cross_join AS
(
SELECT subscriptions. ,months.
FROM subscriptions
CROSS JOIN months
),


The Q says to ‘select every column’. You also have a stray comma there.
Did you happen to watch the help video? I think this is the one I went through recently b/c all my queries weren’t showing results. I erased/reset my code, followed the video and did each step (and saw the results in the output window), and it worked that way, but if I put all the queries in the terminal window (in the lesson) it didn’t work. By that, I mean, all the results didn’t appear. The video also says “deprecated SQL Project” So, I wonder if it won’t work? Maybe this is a bug?

I knew I had encountered this before.
Here’s the thread:
https://discuss.codecademy.com/t/churn-rate-part-5-please-help/514690

I edited out the comma, and I have experienced the same thing, the snippets of code work individually but when it’s all put together for some reason the queries are not returned.
ultimately It’s okay as my goal was to get the concept which, after writing the code 3 times, I am sure I do hahaha regardless, thanks for all your help @lisalisaj
p.s. Ill see the thread you’ve posted below.

Sure, anytime! 
Are you able to complete the lesson? do you get a badge for it?

Yes, I have completed the lesson and the one after it too.
I received badges for both of them and am now about to start Python.
If possible I would love to remain connected with you through a platform such as Github, etc. as I am a newbie to coding and don’t really know a lot about the same 
Although, I understand if you are not comfortable sharing your id

Good to know!
I submitted a Bug Report so, I’ll see if anything gets resolved with the lesson/project.
I’m usually around here on the forums. If you ever have issues, you can always search for a topic or post here and I or anyone else can try to help out. Lots of helpful learners here. 
And, if you can ever help anyone else out, that’s great too b/c that’s what this whole journey & community is about.  

Sure, I’ll try to help all the coders I can if I ever come across a problem that could use my input
"
9,Churn rate part 5 please help,"Get Help,SQL",manipulation,6,"
Hi,
I am having a huge amount of trouble with part five of the codeflix churn rate exercise
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj
, specifically at part 5
I’ve redone it multiple times, copied directly from the video and looked for answers in the forum but I just can’t get it to work
Here’s my code, can someone please tell me where I’ve gone wrong
WITH months AS
(SELECT
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT
‘2017-02-01’ as first_day,
‘2017-02-31’ as last_day
UNION
SELECT
‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months),
status AS
(SELECT id, first_day AS month,
CASE
WHEN (subscription_start < first_day)
AND
(subscription_end > first_day OR subscription_end IS NULL)

AND
(segment = 87)

THEN 1
ELSE 0
END AS is_active_87
)
SELECT *
FROM status
LIMIT 5
;
many thanks for any help.
","
Hi, welcome to the forums!
Do you mean Q5-“create a temporary table, status from the cross join table you created…”?
Re-read the question. I think there is a 2nd CASE statement that you’re missing in the query. Hint: is_active_30
Try that and see if it works.

That’s the one
I’ve tried with the segment 30 bit, but I’m still not getting anything

Also, in your dates…there aren’t 31 days in February.



 data0816435152:

SELECT
‘2017-02-01’ as first_day,
‘2017-02-31’ as last_day


Copy all your code, paste it elsewhere temporarily. then try resetting the workspace. and paste your code back into the console…
maybe that will work?
(I’m trying that now…)

I just followed the video just in case I’d made a mistake and when I queried each part, every single part I got results. However, when all the code is there, you don’t get every query’s result. The only results that print out are 3-- the 1st, 2nd and last Q’s.
It might be b/c it’s a deprecated lesson(?) That is what the title says in the video.
Are you able to move past and the lesson shows as completed?

I am experiencing a very similar issue and even though I have re-written the code 3 times (from the video too), it’s still not working I guess it is a bug, but since the concept is clear I suggest you move on and continue to marketing attribution 
"
10,Metropolitan Museum of Art - Step 2,"Get Help,SQL","queries,general",2,"
Hi, I had a general query question on this step. Here is what I typed:
SELECT COUNT(*)
FROM met;
The return was 3948.
When I write out the original selection command:
SELECT *
FROM met;
It clearly returns 4257 rows:
Screen Shot 2020-07-24 at 9.51.26 AM939×479 53.7 KB
I have not added an argument to this aggregate function so I figured it would return every row. Am I missing something obvious or is it a limitation of what the project wants you to count? I originally thought to write it out this way because I felt that with so many rows it would be better to be specific. I was not sure if there was more than one department.

Anyway, any clarification would be appreciated.
Thank you in advance,
William
","
This is working and counting correctly. If we run
 SELECT *
 FROM met
 LIMIT 20;

Then we see that the id’s listed go from 1-38. This is because looking at it, there are no rows with id 15-32. Therefore it is safe to assume that the id isn’t a consistent count and the MAX(id) being 4257 is not indicative of the number of rows in the database.
"
11,Off-Plattform SQLite,"Get Help,SQL",general,11,"
Currently doing the Data Science Path - but am a bit irritated by the lack of information that comes with the “Go Off-Plattform with SQL” part. Can anyone further explore on the following questions or reference me to good background information on the topics:

Why do we need Git Bash? Is it just a tool to send commands to SQLite?
Is the DB Browser an alternativ to Git Bash? Or is it something completely different? (I just read about others recommending DB Browner instead)
Why do I need something like the DB Browser (to organize commands) to begin with? Or better stated: Why is this “feature” not incorporated in SQlite? (Yeah, I do not quite get how all of the things are interwined)
The instructions on Codeacademy state "" Download the sqlite-tools-win32-x86-3200100.zip file and unzip it"" but there is no such file on die sqlite download website. I guess the file on the download page is a newer version (sqlite-tools-win32-x86-3310100.zip) and the Codeacademy page is not quite up to date?

Big thanks in advance!
","
Hi @micro1106492109, welcome to the forums!
I’m nearly done putting together a couple of blog posts providing guidance on this issue for newcomers, as I see this come up more and more frequently on the forums and I — like yourself — am less than pleased with Codecademy’s information in this particular area.  For now, I’ll do my best to answer your questions here.



 micro1106492109:

Why do we need Git Bash? Is it just a tool to send commands to SQLite?


You absolutely do not need Git Bash to use SQLite unless you want to use Bash on your Windows computer.  All you need is a terminal of some kind.  However, the command line interface is not the best way to interact with SQLite if you are exploring data.  I usually use either Python/Jupyter notebooks, VS Code or DB Browser to explore a SQLite database, but there are numerous other ways as well.



 micro1106492109:

Is the DB Browser an alternativ to Git Bash? Or is it something completely different? (I just read about others recommending DB Browner instead)


No, it is not an alternative to Git Bash.  Git Bash provides a Bash shell terminal on Windows, while DB Browser is a GUI program for interacting with SQLite specifically.



 micro1106492109:

Why do I need something like the DB Browser (to organize commands) to begin with? Or better stated: Why is this “feature” not incorporated in SQlite? (Yeah, I do not quite get how all of the things are interwined)


You do not need DB Browser if you don’t want it.  You can interact with SQLite directly from the command line or in any of the ways I mentioned above.  DB Browser is simply the easiest way for a beginner to get set up to practice SQL on their own computer as it is mostly point-and-click, but with the option to write your own SQL queries if you choose.



 micro1106492109:

The instructions on Codeacademy state "" Download the sqlite-tools-win32-x86-3200100.zip file and unzip it"" but there is no such file on die sqlite download website. I guess the file on the download page is a newer version (sqlite-tools-win32-x86-3310100.zip) and the Codeacademy page is not quite up to date?


You are correct here, the Codecademy article was written prior to the most recent version of SQLite being released.  The current download file is sqlite-tools-win32-x86-3310100.zip
Hope this helps!

Thank you very much for clarifying!
Let us know when you posted your posts 




 el_cocodrilo:

You do not need DB Browser if you don’t want it. You can interact with SQLite directly from the command line or in any of the ways I mentioned above. DB Browser is simply the easiest way for a beginner to get set up to practice SQL on their own computer as it is mostly point-and-click, but with the option to write your own SQL queries if you choose.


Hi,
If the command line interface is not the best way to interact with SQLite, Why are we being asked to start working with gitbash?
I have found this really stage very confusing I have been following the datascience path. And we went from just using the web to practice to being asked to install git bash and use command line interface (something that we have not been taught to use at all). While it was not super complex it came out of nowhere (especially if there is a better way to use SQLITE)
Further,  in the video explaining how to proceed with the installation the instructor does not use gitbash based on personal preference (what is the point of recommending one program if you don´t ask the instructor to use it).  To add to my frustration the way to add a path to easily access SQLite taught in the video only works for CMD not for Gitbash.

@raimundomiralles7720,



 raimundomiralles7720:

If the command line interface is not the best way to interact with SQLite, Why are we being asked to start working with gitbash?


Since I don’t work for Codecademy I’d have to speculate.  But, I think it’s a fair guess that they are trying to introduce students to command line use since if you want to do any decent amount of programming you should be comfortable navigating the command line and working with CLIs.  Also, every computer has some command line terminal so there is minimal software installation using this option.



 raimundomiralles7720:

I have found this really stage very confusing I have been following the datascience path. And we went from just using the web to practice to being asked to install git bash and use command line interface (something that we have not been taught to use at all). While it was not super complex it came out of nowhere (especially if there is a better way to use SQLITE)


I agree and I felt your frustration when I went through the SQL course a few years back.  It’s not cohesive at all, and while I understand the logic behind it I think it’s a questionable decision to throw the SQLite CLI into the curriculum the way they did.  I think it would have made more sense to have this article in the Data Science path instead.



 raimundomiralles7720:

Further, in the video explaining how to proceed with the installation the instructor does not use gitbash based on personal preference (what is the point of recommending one program if you don´t ask the instructor to use it).


100 percent agree here.



 raimundomiralles7720:

To add to my frustration the way to add a path to easily access SQLite taught in the video only works for CMD not for Gitbash.


So I haven’t personally verified this, but if this is true it is likely an honest mistake since there are two version of Cmder, one of which includes all the git-for-windows functionality.  It may be the case that since Cmder Full includes git-for-windows functionality, the instructor believed that the two could both be set up by adding the sqlite3 executable to the Windows path like he did in the video.  If that doesn’t work for Git Bash, it is probably because Cmder is built on ConEmu and Clink, whereas Git Bash defaults to using the mintty terminal and thus may not recognize your normal Windows path automatically.
That being said, if you follow the written instructions above the video, it works perfectly (other than the file name which is not up to date).  Notice in these instructions, you add an alias to the .bashrc file and not the Windows path:
image751×760 48.4 KB

Hi, I’m also super confused on how to use SQLite off platform  . I’m on a mac.
In the course we are just told to download it and access it from the terminal, and yes that worked, it’s installed, but now what? Am I running the commands inside the terminal? And if so where do I see the results? Am I suppose to download some GUI to support this or what should I do? The amount of information provided by codecademy here is really not sufficient.
I’ve googled and there seems to be a lot of consoles around, most for mySQL that is apparently another type of SQL language, but I’m still confused on what to do.  R for example, comes with it’s own console and works from there, but that doesn’t seem to be the case here. I tried creating tables in the terminal window after installing SQLite (after the sqlite prompt but it just returns errors). And even if this is possible is there another more user friendly way to go about this? Thanks!
EDIT: ok so I found a guy who explained in a neat way how to use sql in the terminal, might as well share it here : link to youtube
But I still wonder if there’s a more user friendly way to do it, I would like to see the results separately like at codecademy, and in general something with more overview and usability…

@claraii,
Yes, you can do pretty much anything with SQLite in the terminal.  However, I find it hard to actually explore data in the terminal, as it is not presented in a visually appealing manner.  As I mentioned above, there are multiple ways to interact with SQLite and it’s all about preference.  If you’re just starting out, though, DB Browser is a great way to go.
Here is a link to the Codecademy video for how to set it up:





I also linked to the original article containing this video in my response above.
Hope this helps!

Great thanks! DB browser looks good so far so I’ll try that out  

Also a newbie here with a few follow up questions:


Do you need to already have SQLite installed to run DB browser or does DB Browser come with a version of SQLite built-in?


If #1 above is not true, how does DB browser “know” where SQLite is installed on the machine?


Would we be better off running the off platform work on the free versions of MySQL or SQL server?



@xfactor83,
I don’t believe DB Browser comes with SQLite, my guess is that on installing it searches your computer for the SQLite executable, but I don’t know.  However, you don’t need to set up SQLite with a bash alias to use it with DB Browser.  All you have to do is download SQLite from the website and then unzip the folder.  Then you download the DB Browser installer and run it and you’re ready to go.
If you don’t want to use SQLite, you can set up whichever DBMS you want for your own computer – MySQL, SQL server, PostgreSQL, etc.  However, keep in mind that depending on your skill level those may be more work to set up (though there are plenty of Youtube walk-throughs).  Also keep in mind that some commands will be different depending on the DBMS you use, so you may have to learn different commands than you learned on Codecademy (Codecademy teaches with SQLite).
Ultimately it’s up to you and your goals.  If you want to build a web app that uses PostgreSQL on the backend, it might be beneficial to work through the off platform assignments with that, since you’ll have to learn it anyway down the line.  However, I still think the quickest way to get up and running practicing SQL in an offline, local environment is to download SQLite and use DB Browser.

Awesome thanks for the reply!
"
12,"AVG, MIN, MAX Aggregate Function Use","Get Help,SQL","aggregate-functions,general",4,"
Here is the link of the project I am working on:
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-calculate-and-summarize-data/modules/analyze-data-sql-practice-aggregate-functions/projects/sql-the-met
What would be returned from these queries:
The  MIN()  aggregate function returns the smallest value in a column.
SELECT title, medium, MIN(date)
FROM met;
Agree!
The  MAX()  aggregate function takes the name of a column as an argument and returns the largest value in a column.
SELECT title, medium, MAX(date)
FROM met;
Agree!
The  AVG()  aggregate function returns the average value in a column.
SELECT title, medium, AVG(date)
FROM met;
Question: How does that compute a result for title and medium when the AVG returned doesn’t have value that matches it?
","
Hi, Welcome to the forums.
Dates are tricky sometimes!
You cannot use AVG on that date column in the same way you’d use MAX & MIN in this exercise (same way you couldn’t use SUM here).
If you check out the table’s schema at the bottom of the lesson, you’ll see that it’s data type is TEXT.
You’d have to convert it using CAST or possibly  DATEDIFF & DATEADD (I’m not sure which one, specifically. You’d have to test them out in that lesson)
Ex: CAST(expression AS datatype(length))
See here:
https://stackoverflow.com/questions/13031850/how-to-find-the-average-value-in-a-column-of-dates-in-sql-server
and here for reference:
https://sqlsunday.com/2019/10/10/aggregating-date-and-time-values/

I understand it better now, Thank you for the answer and for this tip. I think it will be useful in the future and I hope it will be helpful for others.

You’re welcome.
Happy coding!
"
13,Datetime() function,"Get Help,SQL",manipulation,3,"
1 Day Retention 3 - Exercise
Hi!
In this exercise, a datetime() function was used by I am not sure what it does.
It seems to take in 2 parameters but can anyone tell me what it returns?

Blockquote
date(g1.created_at) = date(datetime(g2.created_at, ‘-1 day’))
Isolating datetime(g2.created_at, ‘-1 day’) itself,
can anyone tell me, in the context of this exercise, what will it return before it is passed on to the date() function which will return then return a date?

","
Hi there.
Ah, I recall this from awhile ago when I took this as it was part of a SQL Intensive (a six week course when they [CC] offered intensives).
Let’s see…I believe you’re trying to find out how retention rates for each DISTINCT user and how long they have played each game and joining the table on itself.
"" Now we’ll join  gameplays  on itself so that we can have access to all gameplays for each player, for each of their gameplays.
This is known as a  self-join  and will let us connect the players on Day N to the players on Day N+1. In order to join a table to itself, it must be aliased so we can access each copy separately.""
and, "" Now that we have retained users as  count(distinct g2.user_id)  and total users as  count(distinct g1.user_id) , divide retained users by total users to calculate 1 day retention!""




 viciouscode:

s used by I am not sure what it does.
It seems to take in 2 parameters but can an


thanks for the reply lisalisaj!
I have learnt what the datetime() function is about in another SQL course and it makes it much clearer how it connects the players on Day N to the players on Day N+1 by equating date(g1.created_at) = date( datetime(g2.created_at, ‘-1 day’) ).
I believe it says g1 date (this is Day N) = g2 date minus 1 day (essentially this is Day N + 1)  
"
14,How to read a database scheme?,"Get Help,SQL",general,3,"
Hi,
I wanted to ask if anyone could explain to me how to read a database scheme that looks like the one on the picture?
The relations drawn by lines within the tables I do partially understand - if there’s a fork it means that the entity can have 1 or more of the other entity (for example HR departments can only have one HR location however locations can have several HR departments). But I do not understand why are they not connected with a full line?
I also do not understand what does the arrow coming from HR employees pointing back the HR employees mean?
Thank you for any help
k pohovoru1920×1080 289 KB
","
I’m not sure b/c I’m not familiar w/Oracle SQl  server. I would assume it’s PRIMARY and FOREIGN KEY ?
@coffeencake is the expert on Oracle…perhaps she can offer some insights? 

Hello!
Yes @lisalisaj  that is correct, p is for PRIMARY key, f for FOREIGN key and u for UNIQUE key.
Yes @kira7271370673 that is also correct.  The fork means or “crows feet” that there is a 1 to Many relationship between HR.Locations and HR Departments.  The full lines show a mandatory relationship between the tables.  The dotted lines are an optional relationship.
Sometimes it helps to look at the data in the table too.
I hope that helps.  Let me know if you have any more questions.
"
15,Temporary Tables - SQL,"Get Help,SQL",manipulation,2,"
Hi everyone,
I see that some SQL code contains quite a number of temporary tables before performing some final calculations based on the results of the last temporary table.
What is one of the most common reasons for building a number of them?
Are we able to perform our desired query in just one single SELECT statement instead?
Would appreciate some enlightenment! 
","
Hello! I believe the reason for temporary tables is to allow you to run complex queries, so you get data in a specific way. Here is a good article on it.
"
16,> Why we cannot replace `COUNT(*)` by `3`?,"Get Help,SQL","aggregate-functions,general,quiz",2,"
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates/lessons/aggregate-functions/exercises/having


SELECT price
       ROUND(AVG(downloads)),
       COUNT(*)
FROM fake_apps
GROUP BY price
HAVING  COUNT(*) > 10;

In 6th row of the query above, Why we can not replace COUNT(*) by 3, so our code will be something like this  
SELECT price,
       ROUND(AVG(downloads)),
       COUNT(*)
FROM fake_apps
GROUP BY price
HAVING  3 > 10;


Why we cannot replace COUNT(*) by 3?

","
Because it’s an aggregate. You can’t use ordinals with the HAVING clause. You can use it with ORDER BY & GROUP BY.
HAVING filters groups (WHERE filters rows).
https://stackoverflow.com/questions/2253040/benefits-of-using-sql-ordinal-position-notation
"
17,RDBMS and Databases,"Get Help,SQL",general,1,"
Hi everyone,
I am not sure why some people call MySQL a database (a container for data) and Wikipedia calls MySQL a RDBMS (a software that allows users to manage these containers for data). Also, is MySQL workbench the official RDBMS by it’s developers?
Wikipedia - SQL
Website that calls MySQL a database
Would appreciate some enlightenment and correct me if any part of my understanding is wrong. 
",
18,SQLite Setup,"Get Help,SQL",general,3,"
I’m currently trying to get SQLite set up on my machine following the steps in this lesson https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-go-off-platform/modules/analyze-data-sql-learn-off-platform/articles/what-is-sqlite
However, I have the same issue over and over again when I try to create the shortcut as described towards the end.  I do not understand what I am getting wrong. 
sqlite setup error1.PNG1466×834 66.1 KB

Can someone please help? The article does not discuss what to do if something fails.
","
Hi did you get any help with this? or could you solve it?
I have the same issue! 

So, I figured out what the issue was. The path kept breaking because it doesn’t recognize a space as character.  This was a problem since my user account on my computer includes a space.  Instead of reading the full path, the terminal would break at the space in my name.  You need to include a \ before the space for it to recognize the character.  I got the solution here https://apple.stackexchange.com/questions/14683/how-to-cd-to-a-directory-with-a-name-containing-spaces-in-bash
"
19,Calculating Churn Rates,"Get Help,SQL",manipulation,1,"
Churn Project
Hi everyone!
I have attempted the bonus question - #9 on this exercise but am not sure if I am right.
Can anyone help to see if I did the appropriate thing?

Question:
How would you modify this code to support a large number of segments?

I edited the code to get this result below, where I added a new column for segments and grouped it.

",
20,Setting Up SQLite,"Get Help,SQL",general,7,"
What is SQLite?

Setting Up SQLite

https://www.codecademy.com/courses/learn-sql/articles/what-is-sqlite
The text AND the video do a terrible job at getting everything set up.
I need a super dumbed-down step-by-step guide on how to get everything going.
From the video, the guy talks about using a different CMDER system due to preference… okay. But MUST I download that? Well, I did. I tried copying everything he did in the video and it was just a mess.
I contacted CodeAcademy help and no one there can or will do anything.
This is not a good start for me and I am seeking help.
Note to the moderators: Yes, someone else has a forum on this. However, they seem quite adept in the SQL knowledge… as I am not. So, I am making a new post in hopes someone can just help me understand the information that CodeAcademy has rather than point me in an offsite direction.
TIA!!!
","
@ryanfelton6315614374,
Welcome to the forums!
You do not need to download CMDer to run SQLite from the command line.  You can make it work with any terminal (CMD, Powershell, Git Bash, CMDer, Anaconda Prompt, etc.).  That being said, each one will require a different setup.
If you are really set on using SQLite on the command line, try walking through the written Codecademy instructions (not the video) and then reply to this thread exactly which step you are having trouble with.
However, if you are open to trying DB Browser instead I think you will find it both easier to install and easier to use.  Here is the Codecademy video on how to use and get started with DB Browser in case you want to try it: https://www.codecademy.com/articles/setting-up-db-browser

Sorry you’re having such a hard time with the setup process. Which operating system do you have?

Windows 10 Home Edition

Thank you. However, I am really looking at getting a complete walk-through using the application that are already on my computer. I took a look and the DB Browser and it is made by the same person who skips over details. So I am trying to avoid that route.




 ryanfelton6315614374:

a complete walk-through using the application that are already on my computer.


Which application are you referring to that is “already on your computer”?
Also, are you looking for a walk-through on the set-up or the usage of SQLite?
As I mentioned above, if you want to use SQLite on the command line using Git Bash, follow the Codecademy written instructions for setting it up and if you have problems we can walk you through what went wrong.  I’ve tested the written instructions and they work perfectly so long as a) you use the name of the file you downloaded on your computer (the instructions say cd ~/Downloads/sqlite-tools-win32-x86-3200100/sqlite-tools-win32-x86-3200100/ but you’ll have to change 3200100 to the number you see on your own downloaded folder since a few different versions have come out since then); and b) don’t have spaces in the file path.  If you do have spaces, I can walk you through how to fix the command so that it works properly.
Please give it a try and tell us where you are having problems, since we cannot help you if we don’t know what you are doing wrong.
As far as the DB Browser video, I know it is made by the same guy as the command line one, but this video actually walks you through what you need to know.  DB Browser is a lot easier for command line newbies and also Windows users who are used to GUI interfaces because the setup is all point and click.

I went ahead and checked out DB Browser - I feel like you are correct when you indicate it is easier to use for newbies!!! Downloading the Start Packs and opening then is much easier. I do appreciate your help.
"
21,Gold Medal Metrics Project: orderedSports query not passing test even when displays the right output,"Get Help,SQL",general,1,"
Hi everyone, i worked on Gold Medal Metrics Project:
https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/project-gold-medal-metrics/informationals/bapi-p5-gold-medal-metrics
and for the bonus function query, i made my own query and it displays the right results comparing it with the query on the resolved project, yet… i was not able to pass the tests
My code
const orderedSports = (country, field, sortAscending) => {
  if (field){
    if(sortAscending){
      const query = `WITH Total AS (
        SELECT COUNT (*) AS totalMedals, country
        FROM GoldMedal
        Where country = ${country}
        )
        SELECT GoldMedal.sport, COUNT (*) AS count , ((COUNT (*) * 100)/ Total.totalMedals) AS percent
        FROM GoldMedal
        JOIN Total
          ON GoldMedal.country = Total.country
          WHERE GoldMedal.country = ${country}
        GROUP BY 1
        ORDER BY GoldMedal.${field} ASC;`
      return query;
    }else{
      const query = `WITH Total AS (
        SELECT COUNT (*) AS totalMedals, country
        FROM GoldMedal
        Where country = ${country}
        )
        SELECT GoldMedal.sport, COUNT (*) AS count , ((COUNT (*) * 100)/ Total.totalMedals) AS percent
        FROM GoldMedal
        JOIN Total
          ON GoldMedal.country = Total.country
          WHERE GoldMedal.country = ${country}
        GROUP BY 1
        ORDER BY GoldMedal.${field} DESC;`
      return query;
    }
  }else{
    if(sortAscending){
      const query = `WITH Total AS (
        SELECT COUNT (*) AS totalMedals, country
        FROM GoldMedal
        Where country = '${country}'
        )
        SELECT GoldMedal.sport, COUNT (*) AS count , ((COUNT (*) * 100)/ Total.totalMedals) AS percent
        FROM GoldMedal
        JOIN Total
          ON GoldMedal.country = Total.country
          WHERE GoldMedal.country = '${country}'
        GROUP BY 1;`
      return query;
    }else{
      const query = `WITH Total AS (
        SELECT COUNT (*) AS totalMedals, country
        FROM GoldMedal
        Where country = '${country}'
        )
        SELECT GoldMedal.sport, COUNT (*) AS count , ((COUNT (*) * 100)/ Total.totalMedals) AS percent
        FROM GoldMedal
        JOIN Total
          ON GoldMedal.country = Total.country
          WHERE GoldMedal.country = '${country}'
        GROUP BY 1;`
      return query;
    }
  } 

Project resolved code
const orderedSports = (country, field, isAscending) => {
  let orderingString = '';
  if (field) {
    if (isAscending) {
      orderingString = `ORDER BY ${field} ASC`;
    } else {
      orderingString = `ORDER BY ${field} DESC`;
    }
  }
  return `SELECT sport, COUNT(sport) AS count, (COUNT(sport) * 100 / (select COUNT(*) FROM GoldMedal WHERE country = '${country}')) AS percent FROM GoldMedal WHERE country = '${country}' GROUP BY sport ${orderingString};`;
};

DB browser (i replaced the variables with values to make it work)
My results
imagen999×1055 36.5 KB
Project resolved code
imagen1098×981 28 KB
even on the Index.html it is being displayed correctly:
imagen1710×517 23.2 KB
Failed tests
imagen1259×793 72 KB
from my point of view my query is right… but there must be reason why it is not being accepted… and i would like to know it, can someone help me? please!
thanks
",
22,The Metropolitan Museum of Art - Case Statement,"Get Help,SQL",manipulation,3,"
Exercise 7, The Metropolitan Museum of Art
Hi Everyone,
For the exercise #7 in the link above, the recommended code under the hint section below,
SELECT CASE
WHEN medium LIKE ‘%gold%’   THEN ‘Gold’
WHEN medium LIKE ‘%silver%’ THEN ‘Silver’
ELSE NULL
END AS ‘Bling’,
COUNT(*)
FROM met
WHERE Bling IS NOT NULL
GROUP BY 1
ORDER BY 2 DESC;
would yield the following results is derived.


Silver  - 293

Gold  - 41

However, Within the count of 41 under Gold, there exists a record with ‘Gold, silver, platinum, black opals, boulder opals, demantoid garnets, rubies, enamel.’ under the ‘medium’ column, which contains both words Gold and Silver.
I am not quite sure how the above record got “thrown” into the Gold category despite having both Gold and Silver in it. Would anyone be able to shed some light on this?
Thanks in advance!
","
A CASE statement goes through the conditions and returns a value once it’s met then goes on to the next condition. So, in your query CASE WHEN medium LIKE '%gold%' THEN 'Gold'
“gold” is the first value in that description, so that condition is met.
It’s like an IF-ELSE statement in Python.

Thanks @lisalisaj for the enlightenment! 
"
23,Using the CASE statement on another derived column possible?,"Get Help,SQL",manipulation,7,"
Hi everyone!
Are we able to use the case statement on another derived column in the result set?
e.g.
Base on the conditions below:
High if AVG(score)  >=10
Medium if AVG(score) is between 10 and 5
Low for anything below or equal 5
I would like to have the following results:
Result set
Name | AVG(score) | Grade
Tim | 10 | High
Tom | 12 | High
Larry | 4 | Low
Kim | 6 | Medium
","
Hello @viciouscode. Yes you can! Consider the following code (assuming age is an integer value, and name is a TEXT value, and ToV is a valid table):
select age, name,
case
    when name+3 = 10 then ""Is seven""
    else 'Not seven'
    end as ""Are they seven""
from ToV;

If ToV contains three rows:
name|age
sam|7
ben|8
tod|11

When the above query is run, the following output will be observed:
age|name|Are they seven
7|sam|Is seven
8|ben|Not seven
11|tod|Not seven

I hope this helps!

Hi @codeneutrino! Thanks for the reply!
I was just wondering, since name is a TEXT value, then would the code actually fail since
TEXT + INT = INT does not seem right?

Yes, sorry-If you did the whole thing but on the age column. Silly me!
select age, name,
case
    when age+3 = 10 then ""Is seven""
    else 'Not seven'
    end as ""Are they seven""
from ToV;


oh i see, @codeneutrino !
Is it possible to build another case statement on top of the “Are they seven” column to get the result set below?
Is seven = Yes
Not seven = No
age|name|Are they seven|Yes or No
7|sam|Is seven|Yes
8|ben|Not seven|No
11|tod|Not seven|No

Hello @viciouscode, yes I believe it is (using the same example):
select age, name,
case
    when age+3 = 10 then ""Is seven""
    else 'Not seven'
    end as ""Are they 7"",
case 
    when ""Are they 7"" = ""Is seven"" then ""yes""
    else ""no""
    end as ""y/n""
from ToV;

Happy coding!

Thanks @codeneutrino! 
"
24,SQLite - strftime() function,"Get Help,SQL",manipulation,2,"
How to Hack Hacker News - Exercise
Hello people!
I was just wondering if the strftime() function also is also executable by other RDBMS such as MYSQL?
Thanks in advance!
","
https://dev.mysql.com/doc/refman/5.7/en/functions.html
"
25,How to create hierarchical data sets,"Get Help,SQL",multiple-tables,8,"
Hi! First-time poster. I have no programming experience and I’m teaching myself SQL on Codecademy, planning on going through the Data Science path. I have a question about how to create hierarchical data sets.
EXAMPLE: Say you were making a database showing which people have held positions in which government agencies. If someone was, say, the head of the F.B.I., you’d want to indicate that the F.B.I. is part of the Justice Department which is in turn part of the Executive Branch.
I get how you’d make, say, a People table and an Agency table. I think I get how you could do something like create, I don’t know, a Sub-Agency table to show the agencies within a larger agency. But I’m confused about how you’d do this on a larger scale, so that you’d have a vast array of agencies nested within other agencies. (And I chose government agencies because there isn’t much consistency about what’s at what level; it’s not like every Department is made up of Agencies which are made up of Bureaus which are made up of Offices, so there aren’t really common threads.)
So… how would that work? Thanks! (And I hope I’m asking this the right way and in the right place!)
","
Hi @objectjumper92185, Welcome to the forums!
Good question! The first part of the DS path is SQL, so, you will be learning about DBs, and tables, PRIMARY KEY & FOREIGN KEY and how to JOIN them. 
here:
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-multiple-tables/lessons/multiple-tables/exercises/primary-key
To do what you are suggesting, you’d have to have some sort of ID (or other kind of) column in each table where it’s the PRIMARY KEY in that table and a FOREIGN KEY in another table.
I would assume that each table would have an identifying column that tells you what agency & dept and branch (or who they report to/their boss) it’s a part of. You could JOIN them or UNION the multiple tables into one combined table.
Here’s a SQL Server example that’s pretty advanced/detailed:
https://www.essentialsql.com/sql-server-hierarchical-query-using-the-hierarchyid-type/

Thanks for the reply @lisalisaj !
I do understand how to do joins using a primary key and foreign key (and have completed Codecademy’s SQL course). What I’m having trouble with is figuring out what sort of join or schema would enable hierarchical relationships.
Using my example: say I want to indicate which agencies are within the Justice Department. Maybe the Justice Department is part of a table called Cabinet and has CabinetID 4, and maybe there’s a separate table called CabinetSubdivisions, and maybe that has a column called ParentOrganization which uses a foreign key of ParentOrganizationCabinetID and this one is 4. What I don’t quite get is how you’d do that across the entire bureaucracy, particularly with the lack of consistency across bureaucratic levels.
I could imagine maybe each organization being in one big table with an OrganizationID, and having a ParentID column that refers back to a different OrganizationID from that same table… but that also sounds complicated and messy, and seems counterintuitive to me.
So… I’m still confused about how one would do this 




 objectjumper92185:

What I don’t quite get is how you’d do that across the entire bureaucracy, particularly with the lack of consistency across bureaucratic levels.


I think you answered your own question prior to this sentence. 
You can create tables and populate them and double check if the data is accurate.  How many columns of info each table has depends on how the data is organized (if you’re the one responsible for that too).
For example,
CREATE TABLE table_name (
    column1 datatype,
    column2 datatype,
    column3 datatype,
;)


I’m not sure I follow. (I do follow how to create and populate tables; it’s the hierarchy issue I’m confused about.)
So you’d do an Organizations table with Id as the primary key and ParentID as a self-contained foreign key, so that the Justice Department has ID 4, the F.B.I. has ID 12 and ParentID 4, and a division within the F.B.I. has ID 36 and ParentID 12, and then you’d join the table to itself? Like, join organizations on organizations.ID = organizations.ParentID ? (That works?)

Now my brain hurts. 
I think that’s how it’d be done. Though, maybe it’d be cleaner if each dept had their own employee table…?
If it’s easier to visualize–create a table (or several) in Excel and sort & pivot table/group them that way(?)




 lisalisaj:

I think that’s how it’d be done. Though, maybe it’d be cleaner if each dept had their own employee table…?


I thought about that-- so like, there’s a JusticeSubdivisions table, an FBISubdivisions table, etc. My concern is that that’d be a LOT of tables, which might make queries needlessly complicated. But… I’m not sure I can think of a better way.
Surely this is an issue that comes up a lot, right? Hierarchical structures exist all over the place. I’m surprised there isn’t a more obvious way to do this!




 objectjumper92185:

so like, there’s a JusticeSubdivisions table, an FBISubdivisions table, etc. My concern is that that’d be a LOT of tables, which might make queries needlessly complicated.


Sounds like bureaucracy to me. 
I posted a link above in this thread about hierarchical structures. I just googled it. StackOverflow might have some good responses, better than I could provide.  
"
26,SQLite setup issues,"Get Help,SQL",general,4,"
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-go-off-platform/modules/analyze-data-sql-learn-off-platform/articles/what-is-sqlite
Hi, I am new on learning SQL and everything went well till “Go Off Platform” section.
I followed the instruction of setting SQLite but I am stuck. After cd to the folder where sqlite at in my computer, when I typed “winpty ./sqlite3.exe”, it showed nothing but money sign instead of “sqlite>”. I did try following the instruction of the video tutorial, which is different with the text one,  and it returns nothing, not even a “$”.
I tried both methods several times and it went through once (not even know how and which one made it through). The “acs-1-year-2005.sqlite” was opened successfully and I was able to select * and got table. However, it reached the bottom of screen and everything I typed won’t appear anymore. I didn’t know how to clear screen that time so I just closed Git and reopened it. Then everything stuck now, I cannot open any databases, I cannot get “sqlite>” no matter the text or video instruction I applied. Lots of time my typing went invisible after ""“winpty ./sqlite3.exe” command.
I don’t know how to proceed the course and it’s very disappointed that I have to stop at this way instead of having understanding issue. Please can anyone helps me on this, I really enjoy learning SQL.
Btw, it’s annoyed that the text and tutorial instructions using different software with different commands and contents. It’s very confusing.
","
Hi @fenrir913, 
Try to use  DB Browser (SQLite), which is a GUI for managing Databases files.
Here is the guide for setting up DB Browser (SQLite).

Hi @fenrir913. First, I was with the same problem as you. I made this course: Learn Command Line and understand how to use bash.
First of all, you need to have sqlite3.exe on your actual directory. Confirm it using the “ls” command. Here’s how I set my sqlite3


image.png918×451 18.3 KB

CTRL+C or .quit made you get out of your database. To reset a line, type “;” and press enter.
Now, let’s set our GitBash enviroment
echo ""alias sqlite3=""winpty ${PWD}/sqlite3.exe"""" >> ~/.bashrc
This code will set an invisible document named “bashrc” in your home directory that sets sqlite3 as shortchut for winpty ${PWD}/sqlite3.exe. You can check out if it worked typing nano ~/.bashrc in your bash terminal

image.png691×413 8.24 KB

What this code does it’s set a shortcut every time you type sqlite3 in the bash terminal.
Then, just type source ~/.bashrc to setup .bashrc as your default settings for this section.
Note that sqlite3 it’s just a shortcut

image.png692×414 11.8 KB


This really is so helpful, thank you so much
"
27,'ORDER BY' Clause in SQL,"Get Help,SQL",manipulation,3,"
‘My exercise’
Hi peeps,
I was doing this exercise (above link) on ‘ORDER BY’ clause.
As this is pretty much like sorting in Microsoft ‘Excel’, is it possible to sort by a few levels?
e.g. Sort column A, then by column B, then by column C, etc.
Thanks in advance!
","
Hi @viciouscode, short answer: yes, you can.
SELECT * FROM TABLE1 ORDER BY col 1 DESC, col2
Column2 would sort ASC (b/c that’s the default). You can also add a CASE statement:
Here’s more of an explanation:
https://stackoverflow.com/questions/2051162/sql-multiple-column-ordering

wow, thanks a lot lisalisaj! 
"
28,CASE Statement in SQL,"Get Help,SQL",manipulation,2,"
Hello everyone!
Are we able to combine a CASE statement with other clauses to perform more complex operations?
Just curious…
Thanks in advance!
","
Hi @viciouscode
Yep, you can have multiple conditions w/a CASE statement and you can also combine with other clauses and have nested subqueries, CTEs (Common Table Expressions), etc.
I like using WITH rather than multiple subqueries b/c it can become confusing when writing queries.
Hope that helps! 
"
29,Adding records in table using SQL,"Get Help,SQL",general,3,"
Hi everyone,
Is it possible to add multiple records in a table under one clause?
Thanks in advance!
","
@viciouscode, yes you can.
How you do it may depend on your DBMS though.  If you are using SQLite, you simply use the INSERT INTO table VALUES syntax, but after the VALUES keyword, you provide each row of values inside parentheses and separated by commas.  For more information, see the official documentation here and an example here.




 el_cocodrilo:

re using SQLite, you simply use the INSERT INTO table VALUES syntax, but after the VALUES keyword, you provide each row of values inside parentheses and separated by commas. For more information, see the official doc


Wow this is great! Thank you for the insights. 
"
30,Mac OS Catalin SQLite3,"Get Help,SQL",general,3,"
Hi Guys,
I tried to install Mac OS X (x86) sqlite-tools package on my mac.
I followed this tutorial : https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-go-off-platform/modules/analyze-data-sql-learn-off-platform/articles/what-is-sqlite
I tried to understand those answers : 'Permission denied' when moving sqlite3 on Mac
But it did not help much…
That’s what my mac display :
MBP-de-Leo-Paul:SQLITE leo$ mv sqlite3 /usr/local/bin/
mv: rename sqlite3 to /usr/local/bin/sqlite3: Permission denied
Then I tried to do it manually but a message pop up to tell me that sqlite3 does not come from a secured developer…
I tried to reach the support and they told me to post on the forum.
If someone can help me 
","
Hey,
So what I discovered is that sqlite3 is already installed on the most recent iOS of mac so you don’t actually have to install it. However, if (like me) you already moved the folder, you have to delete sqlite3 before you can use it in the terminal. I solved it with a simple COMMAND SHIFT G in Finder and searching for the file directory I had moved it to. Once it’s in the trash, sqlite3 should run fine just by typing sqlite3 in the command line.
Hope that helps!

This was helpful for me. Thank you!
"
31,Capstones,"Get Help,SQL",general,3,"
I am working on the Capstones project. After creating the Artist table in the migration.js file:

When I run the node migration.js I get this error:
Error: Cannot find module ‘sqlite3’
So I checked in the package.json file to see if sqlite3 was installed and it was. So not sure why this error pops up:/
","
Hi!
Not sure if this is the solution to your problem. But before I could install sqlite3 correctly I had to change the version in the package.json file to “sqlite3”: “^4.1.1”.  After you changed that run ‘npm install sqlite3’ and it will install.
Goodluck!

this worked for me, thanks 
"
32,What SQL related programs to learn?,"Get Help,SQL",general,7,"
I have went trough the SQL part of the Data Science path and while I’m trying to work on various projects, I’m wondering what kind of SQL related programs I should learn about.
Or do I need to learn any SQL program as long as I have know my way around sql queries and building tables?
","
What do you mean by SQL related program?
The two SQL programs I use are sqlite3 and postgres. I use a raspberry pi 3B+ with debian linux. The command line interfaces are slightly different, but the basic commands are the same as we learn in the Codecademy SQL course.
You can also run SQL from Python scripts.

I made a quick search for jobs that require SQL and they ask knowledge of programs/applications like: MySQL or PostgreSQL.
I might have wrongly referred to SQL related programs, when I should’ve have said databases management applications.

Here’s a good tutorial on open source relational databases.  After viewing this, I downloaded PostgreSQL for practice along with sqlite3.  They also mention MySQL.

Thank you for the help. It seems that answers to what I was looking for.

I also use http://essaypapers.reviews/ when I need to find the necessary information

The SQL subreddit is alive and well. There’s often lively discussion on resources for learning.
"
33,Correlated subqueries II,"Get Help,SQL","queries,general",4,"
My question is why does dropping the ‘f’ and ‘flights’ (such as f.id and flights.id) from the query result in the ‘flight_sequence_number’ being 1 for every row. But if you add those back each row has a distinct ‘flight_sequence_number’.
SELECT carrier, id, 
  (SELECT COUNT(*)
FROM flights as f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
 AS flight_sequence_number
FROM flights;

","
Hi Jon,
What lesson is this from? is there a link?
+1 generally means you’re trying to add 1 to a field.

https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/correlated-ii

@textsolver90830,
If you remove the f and flights from f.id < flights.id, the comparison will become WHERE id < id, which will always return False.  Thus, the COUNT will be be 0 for each row.  Since you add the + 1 outside the parentheses, the value of of each row in flight_sequence_number will always be the count (which is 0) + 1.
Hope that helps clear things up!
"
34,Can't get sqlite3 command to work in Git Bash,"Get Help,SQL",general,26,"
Hi,
I believe I followed all the instructions here (https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/0edc04f29e40457c0444c9e950d3d1b5/articles/what-is-sqlite) correctly, including changing the file path to reflect the new version of sqlite. However, when I try to run “sqlite3 newdb.sqlite”, I get this error message:
winpty: error: cannot start ‘C:/Users/First Last/Desktop/Codecademy/sqlite-tools-win32-x86-3310100/sqlite-tools-win32-x86-3310100/sqlite3.exe newdb.sqlite’: %1 is not a valid Win32 application. (error 0xc1)
Does anyone have a clue what may have gone wrong?
","
@ajax0049860725,
Welcome to the forums!
Were you able to get SQLite to run initially using these instructions (obviously with your correct path instead of the path below)?
image746×150 11 KB

@el_cocodrilo
I am experiencing similar difficulties with SQL on the Git Bash platfom. I am receiving a sqlite> prompt (Image #1). However, I cannot seem to load the data table suggested in the demonstration. When I select  after typing in the code, nothing happens (Image#2). Your help is appreciated.
Image #1
image748×446 15 KB

image  #2
image745×449 15.1 KB

@rubentar,
It looks like you’ve already set up your alias for SQLite, so just like in image #1, you should just type sqlite3 followed by your database file name.
The command sqlite3 acs-1-year-2015.sqlite should do what you want.

@el_cocodrilo Thank you - yes, I was able to get “winpty ./sqlite3.exe” to work. I’ve tried it again, and it still works. It’s whenever I try to use the alias that I run into the issues.

@ajax0049860725,
Okay, then the issue probably traces back to the alias you made.
Using Git Bash (or whichever bash emulator you are using) navigate to the directory with sqlite3.exe in it.  It should look similar to rubentar’s first screenshot, with 3 different .exe files and probably the newdb.sqlite file that you created.
Now, enter these commands into your terminal, hitting enter after each one:
echo ""alias sqlite3=\""winpty ${PWD}/sqlite3.exe\"""" >> ~/.bashrc
source ~/.bashrc
So long as you are in the correct directory, this should properly set up the alias.  Now, if you type the command sqlite3 it should open a similar prompt to the one you get when you say winpty ./sqlite3.exe

@el_cocodrilo I tried entering the two commands, but still get the same error when I type “sqlite3” in the terminal. When I open Git Bash and type “alias” the alias I get for sqlite3 is:
alias sqlite3=‘winpty /c/Users/First Last/Desktop/Codecademy/sqlite-tools-win32-x86-3310100/sqlite-tools-win32-x86-3310100/sqlite3.exe’
Does this look correct?

I am also getting an error when calling the alias
The error message I get is:
bash: syntax error near unexpected token `(’
Can somebody help with this?


@arcpro14748
You are probably getting an error because of the spaces in your path.  PWD won’t put the path in quotes, so you get a syntax error right there at the space before ‘(’.
You should be able to fix this by putting single quotes around ${PWD} like so:
echo ""alias sqlite3=\""winpty '${PWD}'/sqlite3.exe\"""" >> ~/.bashrc
@ajax0049860725,
It’s hard to troubleshoot your exact problem without seeing a screenshot or your exact commands & error messages.  I can’t tell if First Last is your username, or if that is supposed to represent your username being your first and  last name separated by a space.  Either way, if you have any spaces in your path, try out the solution above as that would explain why you can run the program with winpty ./sqlite3.exe, but your alias won’t work.  However, if that were the case I would have expected the error to occur at the space rather than saying:



 ajax0049860725:

winpty: error: cannot start ‘C:/Users/First Last/Desktop/Codecademy/sqlite-tools-win32-x86-3310100/sqlite-tools-win32-x86-3310100/sqlite3.exe newdb.sqlite’: %1 is not a valid Win32 application. (error 0xc1)


If the above code doesn’t work and you don’t feel comfortable posting a screenshot of your terminal, you can always try using DB Browser for SQLite, which is an excellent way to explore SQLite databases.

@el_cocodrilo 

@ajax0049860725,
Did you try redoing the instructions for the alias, but with single quotes around ${PWD}?
echo ""alias sqlite3=\""winpty '${PWD}'/sqlite3.exe\"""" >> ~/.bashrc
source ~/.bashrc

@el_cocodrilo That fixed it - thank you!

No problem!  If you do anything else in Bash, just remember that file paths/names with spaces will need quotes around them.
Also, even though we got everything working for the CLI, I still recommend you check out DB Browser when you have a chance.  It is great for quickly looking through databases, especially those with multiple tables.
Happy coding!

Thanks for this,  that solved the problem.

thank you so much. I’ve been struggling with this for the last 24 hours (yes, I’m a real newbie newbie to this…). So thanks a lot !

I am having a similar problem in that my git bash will not run my sqlite3
I downloaded the sqlite files into downloads and unzipped them, and this is what I get when I enter the relevant commands into git bash:
----------- MINGW64 ~
 cd ~/Downloads/sqlite-tools-win32-x86-3320300/sqlite-tools-win32-x86-3320300/
----------- MINGW64 ~/Downloads/sqlite-tools-win32-x86-3320300/sqlite-tools-win32-x86-3320300
 winpty ./sqlite3.exe
--------- MINGW64 ~/Downloads/sqlite-tools-win32-x86-3320300/sqlite-tools-win32-x86-3320300
$
And after that I cant type anything in the window. The same thing happens when I move the sqlite file to a different location: the git bash window freezes after I enter the winpty ./sqlite3.exe command. Could it be that winpty ./sqlite3.exe is a bad command with respect to sqlite-tools-win32-x86-3320300 as opposed to sqlite-tools-win32-x86-3200100?

@script5110274274, this shouldn’t be happening.  It doesn’t matter which version of SQLite you downloaded, so long as everything is typed correctly.  Do you think you could post a screenshot showing the commands you’re typing into git bash when it freezes?

Git Bash1152×648 18 KB

@script5110274274 that is strange.  You may want to try re-downloading SQLite and/or git bash and trying it again.  It looks like your commands are correct and it works fine for me with version 3320300 using the same commands.
If you can’t get it working, you can always use DB Browser for SQLite (I linked to the instructions earlier in the thread), which will do all the same stuff without the command line.
"
35,World Populations SQL Practice II question,"Get Help,SQL",,10,"
Link to exercise: https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-multiple-tables/lessons/multiple-tables/exercises/with
Hi everyone!
I’m doing an SQL practice. I was asked:
What was the total population of the continent of Oceania in 2005?
So I wrote:
SELECT SUM(population)

FROM population_years

JOIN countries

ON population_years.id =

countries.id

WHERE continent = 'Oceania'

AND year = 2005;

and got: 52.81393
The answer from codecademy is:
SELECT SUM(population) FROM population_years

INNER JOIN countries ON

countries.id = population_years.country_id

WHERE year = 2005

AND continent = 'Oceania';

and the outcome: 32.66417
I have compared them many times and still can’t find what I did that affects the code. Can someone help me please?
","
You’re using population_years.id and the Codecademy solution is using population_years.country_id. 
To see the difference try:
SELECT id, country_id FROM population_years;

Happy coding!

What does this line of code do?
countries.id = population_years.country_id

Thanks so much for posting this. I too, made this mistake.

The JOIN is matching the two tables on the appropriate id.
The Primary Key on the countries table is id, the foreign key on population_years matches that on country_id

I can’t see the solutions. Could u say where they are please?

New here, not sure if this is the best place to post this question.
I’ve noticed that the result doesn’t change if I use INNER JOIN, LEFT JOIN or JOIN with this answer. What is the correct one to use in this case?

Hey there guys,
I’d like to know what’s the issue with this answer for this particular exercise.
Thanks in advance.
WITH full_data AS (
SELECT * FROM countries
JOIN population_years
ON countries.id = population_years.country_id
)
SELECT population_years.population, population_years.year, countries.continent
FROM full_data
WHERE countries.continent = ‘Oceania’ AND population_years.year = 2005;

Hello All,
I am having a similar problem on this question. I have reviewed my code multiple times and can’t figure out what is wrong. I know that it must be something minor as my code is very similar to some of the others that i’ve read. Just trying to figure out my mistake.
When I go to run this I get no query results.
Select count(*)
from countries
where continent = ""Africa""

select sum(population)
from population_years 
join countries
on population_years.country_id = countries.id 
where continent = 'Oceania' and 
year = 2005
;


Hi, in the first query you’re missing a semicolon after your WHERE clause.
Move the semicolon up a line so it follows 2005 in the second query.
Also, you can alias tables so your query isn’t so lengthy.
FROM population_years AS p 
JOIN countries AS c ON
p.country_id = c.id

"
36,User Churn Codeflix Calculating Churn Rate,"Get Help,SQL",,4,"
Hello everyone!
Thank you for taking time to look at this! I am having trouble with my user churn project https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj.
I’m stuck on step 5 and my code won’t return a table. I am sure I am missing something obvious but I cannot tell what. Any suggestions would be greatly appreciated. The video shows that you can return results here to check on the table but mine returns nothing and doesn’t indicate where the code is going wrong.
Thanks again!
with months as
(select
‘2017-1-01’ as first_day,
‘2017-1-31’ as last_day
union
select
‘2017-2-01’ as first_day,
‘2017-2-28’ as last_day
union
select
‘2017-3-01’ as first_day,
‘2017-3-30’ as last_day
),
cross_join as
(select *
from subscriptions
cross join months
),
staus as
(select
id,
first_day as month,
case
when (subscription_start < first_day) and (subscription_end > first_day or subscription_end is null) and (segment = 87) then 1
else 0
end as is_active_87,
case
when (subscription_start < first_day) and (subscription_end > first_day or subscription_end is null) and (segment = 30) then 1
else 0
from cross_join
)
select *
from status
limit 10;
","
I realized that i didnt have an END AS statement at the end of the code. I have added that after the ELSE statement in the second case but it still doens’t work.

Try to write down on paper what each table you create needs. I think you’re missing some elements for your status table which is why it’s not getting the results you want.
It’s also good to see what you select before you start writing any code (so commenting out the case statements can clarify for you what you’re filtering here).
Let me know if that helps.

Thank you for the advice, rewriting it helped. I misspelled the “status as” statement and didnt notice until I ran through it from scratch!
"
37,"Why do we need to use the alias ""a""?","Get Help,SQL",,15,"
Hi, I don’t understand the meaning of ‘a.’ in the query 
why I have to add this letter to complete the exercize?
“a.dep_month”
“a.dep_day_of_week”
“a.flight_distance”
“a
GROUP BY 1,2
ORDER BY 1,2”
Non-Correlated Subqueries III
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_distance) AS average_distance
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
sum(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
","
Please excuse all the edits (I’m a SQL newb) and I could be wrong but I believe the inner query…
SELECT dep_month,
dep_day_of_week,
dep_date,
SUM(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3
…is being set to a variable of “a”. In turn, the outer queries runs a query on the “a” variable or table.
The inner query is used to create an organized table sorted by month, day of the week, and then I believe for cosmetic reasons(?), month date. The ‘flight_distance’ is a sum of all miles flown across all flights for that day in the month.
The outer query queries this cleaned up and organized temporary table ‘a’ and groups the final output by departure month, then all of the Mondays, Tuesdays, Wednesday’s, etc. for that month and then the average flight distances for each of those sets of days of the week.
In the end, we have the average total distance flown by day of week in each month.
To understand what was happening, it was helpful to run the inner query in the example first and see the table results and then add the outer query around it and again, see the results.

Thanks for this. Sheesh, huge jump from Non-Correlated Subqueries 2.

Can someone explain why the ‘a’ is there? I don’t understand why we need it? And can someone explain what the ‘a’ does?

Neutechnica, thanks for the info. I’m also a SQL newb to this, and struggled to understand this setup until I started looking through forums.
There doesn’t seem to be enough lessons covering subqueries or nested queries (though, please let me know if there’s a section I’m overlooking).
danyal1414 - The “a” is being used as the name of the copied table version of “flights”. In the outer query you have:
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_count) AS average_flights
The “a” is the name of the table and after the period (.) is the name of the column

What I’m still wondering is what is the difference between adding that “a” and using “as xxxx” to, I suppose, alias the entire query. So instead of
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_distance) AS average_distance
FROM ( … ) a
it would be
SELECT inner_query.dep_month,
inner_query.dep_day_of_week,
AVG(inner_query.flight_distance) AS average_distance
FROM ( … ) as inner_query
Is it just shorthand? Is the “as” superfluous in this case? It seems to work either way. Maybe I missed it, but I feel like this “a” notation was kind of sprung on us in the lesson and not well explained.

I agree this was a pretty huge jump. I think this part of the lesson needs to be revised. Unless I am mistaken I don’t think setting variables has ever been discussed in any of the previous SQL lessons (excuse me if I am wrong or have forgotten).  I also did not understand the “a.” I only understood this once it was explained here in the forum. I could only recognize this as setting a variable or “temporary table” from prior knowledge of this from programming languages that would set variables.
I was also stumped in how the outter query was able to AVG(a.flight_distance) being that the flight table did not have a “flight_distance” only “distance”. I later noticed it was set AS flight_distance in the  subquery.  It seems as if everything is set first in the subquery then calculated above in the outter query.  Just like when we set the variable “a”.
I think it would be awesome if there could be links to previous lessons that pertain to what is being taught in the advanced lessons.  It would help solidify what we have already learned if it has been forgotten and lead us to faster eureka! moments.  

I agree. The FROM( … ) a felt totally sprung on us. I had the same thought that we could have temporarily named this AS inner_query.  I only understood this notion as setting it to a temporary table because I have some minor experience programming and in programming we sometimes set variables or “temporary” numbers to a letter. In this case we set a temporary table to a letter.

For the solution, the inner query has “Sum(distance)”. However, to find the average distance travelled for a single day, I think using “Sum(distance)” is a mistake because then the outer query will only have 1 distance to average, which is the total distance travelled that day. Shouldn’t we take out the “sum” and simply puts “distance”–in this way we can average the distances in the outer query?

I thought the subquery could be run as it’s own independent query, but when i entered it and tried to run it as its own, just to mentally put the peices together, it kept giving me a syntax error? What’s happening?

Hi guys, as a fellow newb, I spent some time to figure this out.
Here’s my 2 cents.
1- The reason we can’t AVG in one big query is SQL doesn’t accept AVG(COUNT) or AVG(SUM).
Try it, you’ll get a syntax error (wrong use of aggregate function AVG).
Hence to find the average of Total we must run 2 queries:
1st- SUB query for the COUNT() or SUM() – which is basically treated as a table within a table (if that makes it easier to understand).
2nd- Outer query for the AVG (table of SUM()) or AVG (table of COUNT()) and you find your correct answer.
2- Why do we need to use an alias (a. or x. etc) I tried running the same command without an alias, it worked fine.
Tried running a word instead of a letter (alias. instead of a.) for some reason it didn’t work, I suppose there’s a function for alias.
Try it out and let me know if this works for you.
Ali

kwanhui1990: the exercise isn’t very well explained, but:
You’re right, for any given day, the inner query only produces a single value: total distance travelled that day. So the first saturday in February will have 1 value. The second Saturday in February will have 1 value. The third Saturday will have 1, and the fourth Saturday will have 1. But all together, that makes 4 values. 4 different values for total distance, across 4 different Saturdays in February.
The outer query would then take the average of those 4 values. The idea is to be able to say that “On an average Saturday in February 2016, the total distance flown by all flights was…”
I don’t know why you’d want to quote a statistic like that, but that’s what they’ve asked for. I think that’s the real problem with this exercise: it’s hard to get your head around what they’re asking for because what they’re asking for is pretty weird.

Hi there,
I believe the ‘a’  is just an alias and stands for ‘airport’.
It is like if you’d written:
SELECT *
FROM airport AS a
WHERE…
hope this helps.

It would. I think you forgot to add the semicolon at the end. The code goes like this :
SELECT dep_month,
              dep_day_of_week,
               dep_date,
               sum(distance) AS flight_distance
          FROM flights
         GROUP BY 1,2,3;


Hey,
You need it to reference the rows you selected in the subquery.
in your main (outer) query you select a.dep_month. the a. tells your select to use the dep_month from the inner query and not the one right from the table.
"
38,SQL - Churn Rate Project,"Get Help,SQL",multiple-tables,3,"
Hey everyone,
I was stuck on this for a while so I figured I would explain where I stuck since I could not find an answer on this forum. I was stuck on step 8 where we had to calculate the churn rate for the past three months. It should have been straight forward but when I when hit save/run it would just show no data. I could view the status_aggreagate table just fine but when I tried to add the simple churn rate calculation for each month for each segment it would not run. I figured out that if you do not have month as a column in the status_aggregate table you cannot sort your churn rates by month. The instructions tell you to only have four columns on step 7 but if you add month in as column one the churn rate calculates just fine and displays next to the month. I pasted my code for reference.
WITH months AS (
  SELECT 
    '2017-01-01' AS first_day, 
    '2017-01-31' AS last_day 
  UNION 
  SELECT 
    '2017-02-01' AS first_day, 
    '2017-02-28' AS last_day 
  UNION 
  SELECT 
    '2017-03-01' AS first_day, 
    '2017-03-31' AS last_day
), 

cross_join AS (
  SELECT *
  FROM subscriptions
  CROSS JOIN months
),

status AS (
  SELECT 
    id, 
    first_day AS month, 
    CASE
      WHEN (subscription_start < first_day)
        AND(segment = 87) 
        AND (
        subscription_end > first_day
        OR subscription_end IS NULL
      ) THEN 1
      ELSE 0
    END as is_active_87,
    CASE
      WHEN (subscription_start < first_day)
        AND(segment = 30) 
        AND (
        subscription_end > first_day
        OR subscription_end IS NULL
      ) THEN 1
      ELSE 0
    END as is_active_30,
    CASE
      WHEN (subscription_end BETWEEN first_day AND last_day)
        AND (segment = 87) THEN 1
      ELSE 0
    END AS is_canceled_87,
    CASE
      WHEN (subscription_end BETWEEN first_day AND last_day)
        AND (segment = 30) THEN 1
      ELSE 0
    END AS is_canceled_30
  FROM cross_join
),
status_aggregate AS (
  SELECT month,
    SUM(is_active_87) AS sum_active_87,
    SUM(is_active_30) AS sum_active_30,
    SUM(is_canceled_87) AS sum_canceled_87,
    SUM(is_canceled_30) AS sum_canceled_30
  FROM status
  GROUP BY month
)

SELECT month,
  1.0 * sum_canceled_87 / sum_active_87 AS churn_rate_87,
  1.0 * sum_canceled_30 / sum_active_30 AS churn_ratee_30
FROM status_aggregate;

","
i would recommend to start making a copy and then experiment with commenting out everything and see how you are building up the table.
there’s either a logical or syntax step you’re missing.
the process will also help you appreciate better how to build the large queries without proofing before they get too large!

thanks a lot for this code. I was so stuck and it was so simple following your code and it ran smoothly.
Only error i noticed is simple spelling mistake ( for anyone else who is going to copy paste and try running parts of the query). Need to remove the extra e in the end.
1.0 * sum_canceled_30 / sum_active_30 AS churn_rate’e’_30
Will be.
1.0 * sum_canceled_30 / sum_active_30 AS churn_rate_30
"
39,Where can i find more data and projects to help me practice my SQL after the course,"Get Help,SQL",general,2,"
where can i find more data and projects to help me practice my SQL after the course>
","
@angelzilla,
Welcome to the forums!
If you are looking to do SQL practice problems, there are many websites that specialize in coding challenges/practice problems.  If you would rather practice with data on your own computer with SQLite the chinook database is a good starting point. You can also create your own databases out of any CSV or Excel file, so your options are virtually endless.
Good luck and happy coding!
"
40,How to calculate the average value of a row in SQL?,"Get Help,SQL","aggregate-functions,general",2,"
Hello, I wanted to know if we can find the average value of a row instead of a column for  a select number of columns, and if yes, then how to do that. Here’s a brief example to make y’all understand what I mean:
Say I have a table of commodity prices (gold, silver, oil, etc) with maybe 10 columns, some containing names, dates, etc. And amongst those columns, say I have 4 similar columns which show the price of a commodity for 4 consecutive years. I want to find the average price of a commodity say Gold spread across the 4 years. Is it possible to find the average of the row containing Gold data only for those 4 specific columns?
","
@dsonigladiator,
Welcome to the forums!
You should be able to achieve this by selecting the sum of your columns divided by the number of columns:
SELECT (year_1 + year_2 + year_3 + year_4) / 4 AS average_price
FROM table_name;

Depending on your RDBMS you may have to divide by a float (such as 4.0) to avoid integer division if for whatever reason the prices are listed as integers.
"
41,User Churn - Calculating Churn Rates,"Get Help,SQL",general,6,"
I’m in the Data Science course currently and am having problems on solving number 8 the User Churn - Calculating Churn Rates project. I have already viewed the video in the “Get Help” section for help.
My code is exactly like that of the video, but it still won’t run? Not sure why.

Calculate the churn rates for the two segments over the three month period. Which segment has a lower churn rate?

My whole code is:
WITH months AS
(SELECT
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT
‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
UNION
SELECT
‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months),
status AS
(SELECT id,
first_day as month,
CASE
WHEN (subscription_start < first_day)
AND (subscription_end > first_day
OR subscription_end IS NULL) /* havent unsubscribed yet /
AND (segment = 87) THEN 1
ELSE 0
END AS is_active_87,
CASE
WHEN (subscription_start < first_day)
AND (subscription_end > first_day
OR subscription_end IS NULL) / havent unsubscribed yet */
AND (segment = 30) THEN 1
ELSE 0
END AS is_active_30,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day)
AND (segment = 87) THEN 1
ELSE 0
END AS is_canceled_87,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day)
AND (segment = 30) THEN 1
ELSE 0
END AS is_canceled_30
FROM cross_join),
status_aggregate AS
(SELECT
SUM(is_active_87) AS sum_active_87,
SUM(is_active_30) AS sum_active_30,
SUM(is_canceled_87) AS sum_canceled_87,
SUM(is_canceled_30) AS sum_canceled_30
FROM status
GROUP BY month
) SELECT month,
1.0 * sum_canceled_87/sum_active_87 AS churn_rate_87,
1.0 * sum_canceled_30/sum_active_30 AS churn_rate_30
FROM status_aggregate;
HELP PLEASE. I’m trying to figure it out and I’m not sure what’s wrong with it because for the questions previous to it, it runs perfectly fine. The “Get Help” video also says that it has been “DEPRECATED”.
","
@catlbui,
Welcome to the forums!
Did you go back and try to add in comments?  Because based on the code you posted, this whole section is commented out:



 catlbui:

/* havent unsubscribed yet /
AND (segment = 87) THEN 1
ELSE 0
END AS is_active_87,
CASE
WHEN (subscription_start < first_day)
AND (subscription_end > first_day
OR subscription_end IS NULL) / havent unsubscribed yet */


Remember, /* starts a multi-line comment and */ ends the multi-line comment.

I have a similar issue with the following code:
With months as (
select
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
union
select ‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
union
select ‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day),
cross_join as (
select * from subscriptions cross join months),
status as (
select id, first_day as month,
case
when (segment = ‘87’) and (subscription_start < first_day) and
( (subscription_end > first_Day) or (subscription_end is null))
then 1 else 0 end as ‘is_active_87’,
case when (segment = ‘30’) and
((subscription_start < first_day) and
( (subscription_end is null) or (subscription_end>first_day)))
then 1 else 0 end as ‘is_active_30’,
case when (segment = ‘87’) and (subcription_end between first_day and last_day) then 1 else 0
end as ‘is_canceled_87’,
case when (segment = ‘30’) and (subcription_end between first_day and last_day) then 1 else 0
end as ‘is_canceled_30’
from cross_join)
status_aggregate as (id, month,
sum(is_active_87) as sumactive87, sum(is_active_30) as sumactive30, sum(is_canceled_87) as sumcanceled87, sum(is_canceled_30) as sumcanceled30
from status
group by month)
select month,
1.0 * sumcanceled30/sumactive30,
1.0 * sumcanceled87/sumactive87
from status_aggregate;
Unable to figure out what is wrong with this code.

@blog9000384386,
Make sure you have a comma between your status CTE and your status_aggregate CTE.




 catlbui:

DEPRECATED


I am also facing the same issue

in addition to the comments issue was mentioned here, you can’t execute this query because your last SELECT clause is not familiar with the ‘month’ column since you haven’t defined it on the ‘status_aggregate’ temp table.
you should modify it
…
status_aggregate AS
(SELECT
month,
SUM(is_active_87) AS sum_active_87,
SUM(is_active_30) AS sum_active_30,
SUM(is_canceled_87) AS sum_canceled_87,
SUM(is_canceled_30) AS sum_canceled_30
FROM status
GROUP BY month
Alternatively you can just remove the month from the table and the SELECT/GROUP BY clauses of course.
"
42,Expresso & express publishing,"Get Help,SQL",general,2,"
Hello, with these 2 exercises from the javascript courses, I keep facing the same problem:
my database.sqlite stays empty(meaning 0 kb) so i obviously can’t open it.
I followed the guide exactly, even copied the solution code so there’s no syntax errors, but the problem remains.
I have the correct sqlite code, ran the migration.js command, yet nothing happens.
Is there something very obvious I’m forgetting or doing wrong?
","
I’m having the exact same problem too with the Expresso and Xpress publishing projects, database.sqlite doesn’t seem to be updating, no matter what. Re-ran npm install multiple times, verified migration.js file and watched walkthrough videos. Hope to find a solution.
"
43,Installing SQLite as part of the Go Off-Platform lesson,"Get Help,SQL",general,4,"
The text lesson describes using git bash to install and run sqlite and the linked youtube video for help does not follow the text lesson at all, no mention of git bash. The video installs it by double clicking it in the downloads window. I am completely stuck and very frustrated, kinda starting to lose hope for succeeding at this with all of the little problems I keep having.
","
Hi!
Are you on windows? It seems like a lot of users have trouble with this video. Maybe look for alternate instructions for installing sqlite on google (I did it on mac so I don’t know about your windows installation).
In either case, the exercises in the modules don’t require the program so you can still complete them without (I used a different program to do them in either case).
At the beginning, installation of systems can be a hassle but you get used to (and better) at it. It was hard for me too.

@tomk6873746480,
If you let us know which part is not working we can walk you through the installation.  There are a few different ways to install/set up sqlite3 on Windows and I’ve helped many Codecademy learners on this exact subject.
As @toastedpitabread said, installation and set up can be hard when you first start out.  Also, these installation instructions in particular have caused a lot of headaches for Windows users.  I would recommend following the written instructions about using Git Bash since I know for a fact those work.  If you run into any trouble, just reply here with exactly what is going wrong.
Alternatively, you can install DB Browser for SQLite using these instructions.  DB Browser is an excellent software and it is actually better for data exploration and may fit your needs better initially.
Let us know if you need any further help.
Happy coding!

Thank you for the replies. I was especially frustrated because I even went outside of the course and did the command line courses it also recommended. It ended up I had learned enough from those to figure it out on my own. I am trying to strictly follow the lessons, which had me opening it through git bash, so I wanted to stick with that even though that was not what the linked video gave directions on. It seems like its an error in the lesson plan, because I ended up finding old posts on the forum who had the same issue.
Thanks again, onto Funnels now.
"
44,Cross Join vs. Selecting from multiple tables,"Get Help,SQL","queries,general",3,"
I am working through the REBU project here:
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-multiple-tables/projects/querying-tables
On step three, the instructions call for a CROSS JOIN on the riders and cars tables. However, the query in the hidden hint gets the result set by SELECT FROM the riders and cars tables.
Do these two approaches essentially accomplish the same thing since they are not matching on a key? And if so, is there any advantage of using one approach over the other?
","
These are exactly the same operation, however CROSS JOIN wasn’t always there before. a CROSS JOIN returns the product of the two tables, hence why you get 16 rows when you CROSS JOIN the two tables, both with 4 rows. By writing it as
SELECT *
FROM riders, cars;

You are doing the same thing, it’s just there’s now a join operation for it, so it’s usually recommended to use that.

Okay, this is good to know. I imagine that can make quite a difference in processing speed and efficiency once the tables become larger.
Thank you.
"
45,SQL MAX/MIN(datetime) Help,"Get Help,SQL","queries,general",3,"
Hello all,
I am working on my own independent project with SQLite. I am using the following code to find the max and min date from the table.


Query
SELECT MAX(date_column), MIN(date_column)
FROM table1;

The question I have is, the result does not come back accurately. For example, the true min date is June 2014. But the MIN date result come as January 2015.
What could be the problem here? The date column type was set up as “TEXT”. And it’s in the following format, “YYYY-MM-DD, HH:MM:SS”.
Thank you all!
","
Hi!
It’s hard to say without looking at the db or csv file it’s drawing from. Is this from one of the Codecademy exercises?
Did you try select * from table1 and to check that the true min is june 2014?

Hi. Thank you for your response. I have tried using a SELECT * and the date comes up as June 2014. But when I do MIN(Occured_date_time), it comes up as January 2015. And this is an independent project that I am working on. It’s not from Codecademy.
"
46,Warby Parker Case Study,"Get Help,SQL",general,4,"
This is my powerpoint on Warby Parker survey/quiz results and my included analysis of the data. I make recommendations for what Warby Parker should do based on the results!
https://docs.google.com/presentation/d/1RTraYOvWAGR5kZFC9r6rICtCKlBzClVuOfew80zQX98/edit?usp=sharing
","
Access is restricted; perhaps worth opening it?

Yes thank you for letting me know. I made open so should be available to view now!

Not sure if you still want to be bothered by this after so long. I just finished this myself and wanted to take a look at how other people did.
Your A/B testing results are only within the scope of the first 10 results. For that assignment, you need to calculate the conversion rate for all people who did the home trials. You will see that just from the first 10 results, that conversion rate is unreliable.
"
47,Doubt using the GROUP BY function,"Get Help,SQL","aggregate-functions,general",2,"
Hey guys, sorry for the weird question but I just learnt the GROUP BY function and I didn’t understand a part of it.
Whenever I use SELECT * in a table and proceed to GROUP BY price or by category, I noticed that only one app name is displayed, even though there are many apps in the same price or category . How does SQL choose this?
Thank you
","
As SQL works top down when searching, the one you see returned should be the last value with that equivalent grouping value i.e. the last one in the table at price 3.99.
However, if you are using GROUP BY then there’s not a whole lot of use for these values. If you’re grouping by price, then there will be multiple apps at this pricepoint and as such keeping that column selected is not useful. I would recommend selecting specific columns if you wish to use group by, for example
SELECT price, COUNT(*)
FROM apps
GROUP BY price;

would return the number of apps at each price point. To answer your question though, it selects the last value in the table.
"
48,Marketing Attribution Project,"Get Help,SQL","queries,general",1,"
This is the code I came up with for determining first touches by campaign:
WITH first_touch AS(
SELECT utm_source, utm_campaign, user_id, MIN(timestamp)
FROM page_visits
GROUP BY 3
)
SELECT utm_source, utm_campaign, COUNT(user_id) AS ‘# of first_touch’
FROM first_touch
GROUP BY 2
ORDER BY 3 DESC;
However after looking the hint to see if my answer was right, the code provided was:
WITH first_touch AS (
SELECT user_id,
    MIN(timestamp) as first_touch_at

FROM page_visits

GROUP BY user_id),

ft_attr AS (
SELECT ft.user_id,
     ft.first_touch_at,

     pv.utm_source,

     pv.utm_campaign

FROM first_touch ft
JOIN page_visits pv
ON ft.user_id = pv.user_id

AND ft.first_touch_at = pv.timestamp

)
SELECT ft_attr.utm_source,
   ft_attr.utm_campaign,

   COUNT(*)

FROM ft_attr
GROUP BY 1, 2
ORDER BY 3 DESC;
The results are the same so I wanted to know what the difference between the 2 queries is.
Thank you
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-marketing-attribution/projects/analyze-data-sql-attribution-queries
",
49,Sqlite3 file is encrypted or is not a database?,"Get Help,SQL",general,5,"
Hello.  I am currently trying to go “Off-Platform” with SQL, using SQLite 3 on a Mac.  I am able to instal SQLite3, as well as download a database, but I am having a difficult time accessing said database in ther Terminal.  I can search within my Desktop to see that the database is indeed present, but when I target it and attempt a .schema, I get the following error: sqlite3 file is encrypted or is not a database.
Any advice on how to overcome this, which I’m sure is a simple error I’m making, would be really appreciated.
Here is the tutorial via Codecademy I am attempting to follow:
Go Off-Platform 
","
Try
sqlite> .open filename.db
sqlite> .tables
sqlite> .schema tablename


@data9989748509,
Are you able to open the database at all?

It turns out one of the databases I was using through Codecademy wasn’t working, but the other ones work just fine.  What an unnecessary hassle. Thanks for your help.

Thank you! This worked.  You just made my day.  Greatly appreciated.
"
50,CASE function syntax in fake_apps table lesson,"Get Help,SQL","queries,general",5,"
Hi, I’m experimenting with the CASE function at the end of the Aggregate Function lesson using the fake_apps table. I input the following code to try to categorize the different app price levels, but the query is unsuccessful and the program won’t indicate why or how the syntax is incorrect:
SELECT id, name, category, ROUND(price, 2) AS price_rounded,
CASE
WHEN price_rounded >= 10 THEN ‘Expensive’
WHEN price_rounded >= 5 AND < 10 THEN ‘Moderate’
ELSE price_rounded < 5 THEN ‘Low’
END AS ‘Price_Level’
FROM fake_apps
LIMIT 5;
Can anyone help me debug this syntax?
Here’s the exercise link:
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-calculate-and-summarize-data/modules/dspath-sql-aggregates/lessons/aggregate-functions/exercises/review
Thanks, in advance.
","
Sorry, realized the LIMIT function was inadvertently left in the original code. Please see below updated version without LIMIT… still unsuccessful query:
SELECT id, name, category, ROUND(price, 2) AS price_rounded,
CASE
WHEN price_rounded >= 10 THEN ‘Expensive’
WHEN price_rounded >= 5 AND < 10 THEN ‘Moderate’
ELSE price_rounded < 5 THEN ‘Low’
END AS ‘Price_Level’
FROM fake_apps;

Should you have a condition with ELSE?

@codeneutrino, thanks for pointing that out. I think that line could be improved simply as the following:
ELSE ‘Low’
However, after attempting to run the code again, this edit still does not seem to generate a successful query.

Hi,
There is no ELSE in syntax for CASE statement. You have to replace ELSE with WHEN for the right syntax. In CASE statement you always have to use WHEN, when you are putting a condition.
You can use ELSE for a default value in case no condition for when is true.
"
51,What is the extent of Case sensitivity in SQL?,"Get Help,SQL",general,4,"
Hello! I just started learning SQL and I have a doubt
Is it CASE sensitive while selecting column names?
Also is it case sensitive while typing text characters?
Example:
name =‘David%’
Does the D here have to be capital?
Thank you
","
Hello @blog8455292830,  welcome to the forums. Yes, the D is case sensitive. When writing syntax, the keywords, LIKE, etc are not case sensitive, but it is best practise to write them in capitals.
I hope this helps!




 blog8455292830:

Is it CASE sensitive while selecting column names?


Generally speaking, one ought to match the case of the column name in the query. If your column name was defined as “FirstName” for example, you should aim to write it that way in your query.
Whether or not the DBMS will understand you even if you don’t match the case is irrelevant, really - we ought to be as precise as possible with our queries, not write haphazard SQL. 



 blog8455292830:

Also is it case sensitive while typing text characters?


That very much depends. SQL has what’s called “collation”, which specifies the character set in use for the database as well as rules which should be applied when comparing and evaluating the characters in that set.
For example, MySQL has a collation latin1_general_ci. What this tells us is that it uses the latin1 character set (i.e. the characters commonly used by the Western European languages), and that it is case-insensitive, so david would be treated as equivalent to David or DaViD.
There is another collation, latin1_general_cs, which uses the same character set but is case sensitive.
Again, generally speaking one should write the query to accurately reflect what you’re asking your database to return - so if you were expecting a record to have a value of David then that is what you ought to write. If you don’t get the expected results, then you might try a subtle difference in case (say david) and see if that changes things.

To add on to this, in SQLite specifically, the keyword LIKE is not case sensitive for most characters.  The GLOB keyword (not taught here on Codecademy) is case sensitive by default.
As @thepitycoder said, it is always best to be as accurate as possible to what you are asking for in return, but there are also differences depending on the DBMS you are using.
For more info on the specifics of SQLite LIKE and GLOB keywords, check out the documentation here (under section 5).
"
52,X-press publishing Step 23 - Issue with npm test,"Get Help,SQL","queries,general",3,"
Hi everyone,
https://www.codecademy.com/paths/web-development/tracks/building-a-persistent-api/modules/persistent-api-cumulative-projects/projects/x-press-publishing
I’m working on the Xpress capstone project and I’m running into an issue with the npm test module. It is not logging my first get router as passed. Has anyone else run into this problem and fixed the issue?
Here’s the following code I have written. Please let me know if you need more info.
Server.js
const bodyParser = require('body-parser');
const errorhandler = require('errorhandler');
const cors = require('cors');
const express = require('express');
const morgan = require('morgan');

const apiRouter = require('./api/api');

const app = express();
const PORT = process.env.PORT || 4000;

app.use(bodyParser.json()); //req.body
app.use(cors);
app.use(morgan('dev'));

app.use('/api', apiRouter);

app.use(errorhandler);

app.listen(PORT, () => {
	console.log(`Listening on PORT: ${PORT}`)
})

module.exports = app;

api.js
const express = require('express');
const apiRouter = express.Router();
const artistsRouter = require('./artists');

apiRouter.use('/artists', artistsRouter)

module.exports = apiRouter;

artists.js
const express = require('express');
const artistsRouter = express.Router();
const sqlite3 = require('sqlite3');
const db = new sqlite3.Database(process.env.TEST_DATABASE || './database.sqlite');

artistsRouter.get('/', (req, res, next) => {
  db.all('SELECT * FROM Artist WHERE Artist.is_currently_employed = 1', (err, artists) => {
    if (err) {
	  next(err);
	} else {
	  res.status(200).json({artists: artists});
	}
  });
});


module.exports = artistsRouter;

npm test screenshots
BASH Test resutls 1744×622 12.7 KB

","
After troubleshooting more, I think this issue has to do with the Error: Timeout of 2000ms exceeded. I’ve extended this timeout in the package.json to 5000ms but I am still getting the same results.  Anyone know what the source of this error is?

After more troubleshooting, I found that



 rheeb804:

app.use(cors);


Should have been written as app.use(cors());
This has fixed my tests.
"
53,Why do we need a .0 for: SELECT (517 + 309 + 304 + 282) / 6366.0,"Get Help,SQL",aggregate-functions,6,"
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-hackernews
I just had a quick question regarding:
SELECT (517 + 309 + 304 + 282) / 6366.0

At first I tried
SELECT (517 + 309 + 304 + 282) / 6366

And it returned 0
Why do we need to add a .0 at the end of 6366 to get it to calculate?
","
It makes the result a FLOAT… if you don’t have this  not all the values in the data type range can be represented exactly. This will allow it to show to the exact decimal.
Hope this helps.

What about the values in the numerator? Those all dont have decimal places.

You could float all the numbers, but it will yield the same result as just doing either the numerator or denominator. The tool ideally will want to use the minimum amount of memory to achieve the answer.

I still don’t understand it.
I checked this request in bash and DBeaver with INTEGERs and I’ve got 0.2218 two times.
Is this a particularity of codecademy’s editor?

When it comes to programming languages, there are two kinds of division: integer division and floating point division.
In integer division, the quotient (i.e. the result of dividing one number by another number) is always an integer, meaning that there is nothing following the decimal point, and it is obtained by simply ignoring everything that follows the decimal point.
In floating point division, the quotient is a decimal number.
To understand the difference, consider the following example:
Integer Division:
7 / 4 = 1
Floating Point Division:
7.0 / 4.0 = 1.75 (Note, this could also be written as 7.0 / 4 = 1.75 or 7 / 4.0 = 1.75)
Some programming languages will default to floating point division, so that 7 / 4 would result in 1.75, but a lot of languages default to integer division unless at least one of the numbers in the calculation is a decimal number. It is important to know the default in whichever programming language you’re using, especially in complex calculations, and to pay attention to each step of your calculation.
For example, in languages where integer division is the default:
(46 / 4) / 2.0 = 5.5
This is because even though 2.0 specifies floating point division by having .0 at the end, 46 / 4 is still performed as integer division. Consider instead:
(46 / 4.0) / 2.0 = 5.75
In this case, only floating point division is performed in each step of the calculation.
"
54,Calculating Churn Rates,"Get Help,SQL",quiz,9,"


gist.github.com


https://gist.github.com/codecademydev/e7a8a3e1924237f7fbceefaee38ee4eb
test.sqlite
 SELECT *
 FROM subscriptions
  LIMIT 100;

SELECT MIN(subscription_start), 
MAX(subscription_start)
FROM  subscriptions;


WITH months AS
This file has been truncated. show original







I don’t understand why it’s not running, what did I miss?
status AS
(SELECT id,
    first_day AS month, 

CASE
WHEN (subscription_start < first_day)
AND (subscription_end > first_day

  OR subscription_end IS NULL)

AND (segment = 87) THEN 1

ELSE 0

END AS is_active_87,
CASE
WHEN (subscription_start < first_day)

AND (subscription_end > first_day

  OR subscription_end IS NULL)

AND (segment = 30) THEN 1

ELSE 0 

END AS is_active_30,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day)

  AND (segment = 87) THEN 1

ELSE 0 

END AS is_canceled_87,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day)

  AND (segment = 30) THEN 1

ELSE 0 

END AS is_canceled_30
FROM cross_join),
status_aggregate AS
(SELECT SUM(is_active_87) AS sum_active_87,
      SUM(is_active_30) AS sum_active_30,

      SUM(is_canceled_87) AS sum_canceled_87,

      SUM(is_canceled_30) AS sum_canceled_30

FROM status

GROUP BY month

)
SELECT month,
1.0 * sum_canceled_87/sum_active_87 AS churn_rate_87,
1.0 * sum_canceled_30/sum_active_30 AS churn_rate_30
FROM status_aggregate;
","
@shlola,
Make sure your table has all the columns you are trying to SELECT.  Have you tried…
SELECT *
FROM status_aggregate

…to see which columns are there?

HI,
I’m stuck at point no 5 in “Calculating churn rates”
Here is the code :
status AS
(SELECT id,
first_day AS months
CASE
WHEN (subscription_start < first_day)
AND (subscription_end > first_day
OR subscription_end IS NULL)

AND (segment = 87) THEN 1
ELSE 0

END is_active_87
FROM cross_join
)
SELECT * FROM status;
When I click SAVE this does not work at all. No suggestions where the issue is - just does nothing.
Please can someone assist ?
(I am aware that there is second part to this point but even if the whole code the issue is the same)
Thanks
Damian

I forgot to add a month to the status_aggregate table. After adding it, then it was solved 

Trying adding “AS” like this “End AS is_active_87”.
It should look something like this:
status AS
(SELECT id,
    first_day AS month, 

CASE
WHEN (subscription_start < first_day)
AND (subscription_end > first_day

  OR subscription_end IS NULL)

AND (segment = 87) THEN 1

ELSE 0

END AS is_active_87,
CASE
WHEN (subscription_start < first_day)

AND (subscription_end > first_day

  OR subscription_end IS NULL)

AND (segment = 30) THEN 1

ELSE 0 

END AS is_active_30,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day)

  AND (segment = 87) THEN 1

ELSE 0 

END AS is_canceled_87,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day)

  AND (segment = 30) THEN 1

ELSE 0 

END AS is_canceled_30
FROM cross_join),

Hi,
Good spot there but still does not work …
I even went further and wrote whole code from point 5 + 6 and below code still does not work. It’s strange as the point 1 through 4 were fine and all tables were working.
Here is the code through points 3 to 6.
WITH months AS
(SELECT
‘2017-01-01’ AS first_day,
‘2017-01-31’ AS last_day
UNION
SELECT
‘2017-02-01’ AS first_day,
‘2017-02-28’ AS last_day
UNION
SELECT
‘2017-03-01’ AS first_day,
‘2017-03-31’ AS last_day
),
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months
),
status AS
(SELECT id,
first_day AS months
CASE
WHEN (subscription_start < first_day)
AND (subscription_end > first_day

OR subscription_end IS NULL)

AND (segment = 87) THEN 1
ELSE 0

END AS is_active_87,
CASE
WHEN (subscription_start > first_day)
AND (subscription_end > first_day

OR subscription_end IS NULL)

AND (segment = 30) THEN 1
ELSE 0
END AS is_active_30,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day) AND (segment = 87) THEN 1
ELSE 0
END AS is_canceled_87,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day) AND (segment = 30) THEN 1
ELSE 0
END AS is_canceled_30
FROM cross_join
)
SELECT * FROM status;
I’m really confused where the problem might be. I even went through this exercise from the beggining and nothing works




 dimek86:

status AS
(SELECT id,
first_day AS months


I think you may have a typo try writing       “first_day AS month”  ^^’

it’s not that one
BTW would it matter ? It’s only alias so spelling might not be relevant ?

Yes, months and month represent two different things 
"
55,When selecting columns from multiple tables do I need to state which table the column is from?,"Get Help,SQL","multiple-tables,general",2,"
I’ve noticed that when I join tables I can get away without adding the table name to the selected columns and still get the results I’m looking for. The answers provided by Codecademy always include the table name, though. Here’s an example from the practice “Learners Mockup Data” question 4.
Learners Mockup Data
The answer I used
SELECT email_domain,
learn_cpp,
learn_sql,
learn_html,
learn_javascript,
learn_java
FROM users
JOIN progress
ON users.user_id = progress.user_id
ORDER BY email_domain;
The Codecademy answer
SELECT users.email_domain,
progress.learn_cpp,
progress.learn_sql,
progress.learn_html,
progress.learn_javascript,
progress.learn_java
FROM users
JOIN progress
ON users.user_id = progress.user_id;
What is the purpose for adding the table name? Is it just so that the coding is easier to follow?
","



 ruby5743569313:

What is the purpose for adding the table name? Is it just so that the coding is easier to follow?


readability might be slightly better.
But if joined tables have the same column names, and you don’t include the table name, SQL would give an ambiguous error.  Being unable to tell which column you want.
"
56,Https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-go-off-platform/modules/analyze-data-sql-learn-off-platform/articles/what-is-sqlite,"Get Help,SQL","queries,general",2,"
Hi, im practicing using my mac terminal for SQL queries, I am trying to import a .csv file in to sqlite using mac terminal for the first time but every time I try it no matter how I rename the csv file or the table it still returns this error TABLE table_1(…) failed: duplicate column name:(in this example I named the table ""table_1)
any help is much appreciated.
","
@bww2020,
Welcome to the forums!
Try the following code:
sqlite> .mode csv
sqlite> .import Your/Path/Here/name.csv table_1 

Also, double check that your csv doesn’t have duplicate column names before you try to import it (since that’s what the error says is the problem).  You can open up a csv file in Excel or LibreOffice Calc for easy editing.
"
57,X-Press Publishing - Step 23,"Get Help,SQL","queries,general",6,"
Hello,
I’m wondering the following syntax within X-Press Publisher project (Step 23):
db.all('SELECT * FROM Artist WHERE Artist.is_currently_employed = 1', (err, artists) => {
})

Why do we need to prepend is_currently_employed = 1 by Artist? Unless I’m missing something, all queries for previous exercices were defined without any prepends so I would just simply write: WHERE is_currently_employed = 1. What is the difference between these 2 queries?
Thank you in advance
","
@micro0943936965,
Can you please include a link to the exercise?
Thanks!

Hi,
Please see below:
https://www.codecademy.com/paths/web-development/tracks/building-a-persistent-api/modules/persistent-api-cumulative-projects/projects/x-press-publishing
Thanks!

@micro0943936965,
In my experience with SQL, you shouldn’t need to specify the table name before the column when you are querying data from one table.  You can, but there is no difference between
SELECT * FROM Artist WHERE Artist.is_currently_employed = 1

and
SELECT * FROM Artist WHERE is_currently_employed = 1

if you are only accessing data from the Artist table.
Unless there is some Javascript-specific reason to do it the first way, I think either should be fine in this case.  If I were you, I would complete the project using Artist.is_currently_employed and go back and change it to is_currently_employed later to see if it changes anything.  I highly suspect there will be no difference.

That was my first thought (there is no difference) but I was not sure. Yes, once I compliete project I will change these values to see if it matters.
Thank you for your help!

I think you write it like that because it’s easier to work with in your editor.
I thought Artist.id didn’t require backticks but just id would have to be written as id.
"
58,SQL Help with Bonus Question in churn Analysis Project,"Get Help,SQL",aggregate-functions,3,"
Hi,
I am working on the bonus question for the user churn project in SQL
The question is:
How would you modify this code to support a large number of segments?
URL: https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj
I have watched the video and have successfully created a query with simpler code, but my churn rates are completely different and wrong than when I do the original, more clunky query.
Can someone please check my code to see where I’m going wrong?
I’ve uploaded a screen shot for what the correct answers should be for churn rate for both segment 87 and 30 (the only two segments in the data set).
My query is visible here, as well as below
WITH months AS(
SELECT
   '2017-01-01' AS first_day,
   '2017-01-31' AS last_day
UNION
SELECT
   '2017-02-01' AS first_day,
   '2017-02-28' AS last_day
UNION
SELECT
   '2017-03-01' AS first_day,
   '2017-03-31' AS last_day
),
 
cross_join AS(
SELECT *
FROM subscriptions
CROSS JOIN months
),
 
status AS(
 SELECT id,
 first_day AS month,
 segment,
CASE
   WHEN (subscription_start > first_day) AND (subscription_end < last_day OR subscription_end IS NULL)
  THEN 1
  ELSE 0
  END AS is_active,
CASE
   WHEN (subscription_end BETWEEN first_day AND last_day)
   THEN 1
   ELSE 0
   END AS is_canceled
   FROM cross_join
),
 
status_aggregate AS (
 SELECT month,
 segment,
 SUM(is_active) AS sum_active,
 SUM(is_canceled) AS sum_canceled
FROM status
GROUP BY month, segment
),
 
churn_rate AS(
  SELECT month,
  segment,
  ROUND((1.0* sum_canceled / sum_active),2) AS    churn_rate  
  FROM status_aggregate
  GROUP BY month, segment)

 SELECT * FROM churn_rate;

```![Screen Shot 2020-05-28 at 2.03.34 PM|690x151](upload://RcRSm9LenL5fHlHiFEXpP1KtxS.png)
","
@laurabulk,
It’s an easy fix (which are often the hardest to see).  Take a closer look at the logic in your CASE statement for is_active.  You’ll know when you find it.

ahhhh, sneaky easy fixes. Thank you so much for you quick reply and help!
"
59,ANALYZE REAL DATA WITH SQL exercise question,"Get Help,SQL","aggregate-functions,general",5,"
Hey can someone explain me why is it different when filtering in this 2 places?
this is how the solution is:
WITH last_touch AS (
SELECT user_id,
max(timestamp) as last_touch_at
FROM page_visits
where page_name= “4 - purchase”           <----
GROUP BY user_id)
SELECT
–lt.user_id,
–lt.last_touch_at,
pv.utm_source,
pv.utm_campaign,
count (utm_campaign)
FROM last_touch lt
JOIN page_visits pv
ON lt.user_id = pv.user_id
AND lt.last_touch_at = pv.timestamp
group by utm_campaign
order by count (utm_campaign) desc;
with a similar result  my answer was:
WITH last_touch AS (
SELECT user_id,
max(timestamp) as last_touch_at
FROM page_visits
GROUP BY user_id)
SELECT
–lt.user_id,
–lt.last_touch_at,
pv.utm_source,
pv.utm_campaign,
count (utm_campaign)
FROM last_touch lt
JOIN page_visits pv
ON lt.user_id = pv.user_id
AND lt.last_touch_at = pv.timestamp
where pv.page_name= “4 - purchase”                  <----
group by utm_campaign
order by count (utm_campaign) desc


gist.github.com


https://gist.github.com/codecademydev/11b167e9904a76364f5f80e60a51f9de
test.sqlite


WITH last_touch AS (
    SELECT user_id,
        max(timestamp) as last_touch_at
    FROM page_visits
 where page_name= ""4 - purchase""   
    GROUP BY user_id)
SELECT 
--lt.user_id,
This file has been truncated. show original







","
@eyalbre,
Welcome to the forums!
Do you mind pasting the link to the exercise as well?
Thanks.

sure, the link to the exercise is:
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-marketing-attribution/projects/analyze-data-sql-attribution-queries

@eyalbre,
There is a short answer and a long answer to this question.  I highly encourage you to read through my longer explanation (in the dropdown below) in order to fully understand what is going on and how to figure out what was going on, using other SQL queries.
The short answer is that putting the WHERE statement inside your WITH statement finds the last touch that lead to a purchase for each purchaser, while putting your WHERE statement outside your WITH statement finds the absolute last touch for any user who has made a purchase (whether or not the absolute last touch lead to a purchase as well) and then filters that down to only those absolute last touches that were on the purchase page.


Click here for the in-depth explanation
The key difference between the two queries is how the WHERE statement is filtering the data depending on its location.  Let’s break it down.
Query 1 (or last_touch1)
I am going to start with the query that has the WHERE statement outside of the WITH statement (absolute last touch).
Looking at the WITH statement, we can see that we

take the page_visits table,
group it by user_id, then
select user_id and the maximum value of time_stamp for each user:





Click here for code
WITH last_touch AS (
SELECT user_id,
  MAX(timestamp) as last_touch_at
FROM page_visits
GROUP BY user_id)


This finds the absolute the last touch.
In the remainder of our query, we

take our last_touch CTE and join it with the original page_visits table,

joining on user_id AND lt.last_touch_at = pv.timestamp ensures that we are only including records for each user’s last touch.


then we filter it to only those records (of last touches) where the page name is “4 - purchase”,
and finally we group, order and select the columns we want:





Click here for code
SELECT
  lt.user_id,
  lt.last_touch_at,
  pv.utm_source,
  pv.utm_campaign,
  COUNT (utm_campaign)
FROM last_touch lt
JOIN page_visits pv
  ON lt.user_id = pv.user_id
  AND lt.last_touch_at = pv.timestamp
WHERE pv.page_name = “4 - purchase” 
GROUP BY utm_campaign
ORDER BY COUNT (utm_campaign) DESC;


If you counted them, you would see that there are 358 users whose absolute last touch was on the purchase page (as opposed to 361 total purchasers).
Query 2 (or last_touch2)
In the other query, the WHERE statement is inside of the WITH statement.
In this case, the WITH statement:

takes the page_visits table,
filters it to the records where page_name is “4 - purchase”,
then groups this by user_id, and
selects the user_id and maximum timestamp for each user:





Click here for code
WITH last_touch AS (
SELECT user_id,
  MAX(timestamp) as last_touch_at
FROM page_visits
WHERE page_name = “4 - purchase” 
GROUP BY user_id)


When we do it this way, we are selecting the MAX(timestamp) from only the records where the page name was “4 - purchase” and labeling them as last_touch_at.  In reality, this would represent the last time the user purchased, and not necessarily their last touch on the website.  However, this is important for attributing that purchase to the correct UTM source.  We don’t want to attribute that purchase to the UTM source of the user’s absolute last touch if the absolute last touch was not the purchase.
The query then goes on to:

take our last_touch CTE and join it with the original page_visits table,

joining on user_id AND lt.last_touch_at = pv.timestamp results in only the records for each user’s last time on the purchases page (i.e., one record for each purchaser).


group, order by and select the columns we want:





Click here for code
SELECT
  lt.user_id,
  lt.last_touch_at,
  pv.utm_source,
  pv.utm_campaign,
  COUNT(utm_campaign)
FROM last_touch lt
JOIN page_visits pv
  ON lt.user_id = pv.user_id
  AND lt.last_touch_at = pv.timestamp
GROUP BY utm_campaign
ORDER BY COUNT (utm_campaign) DESC;


If you counted them, you would see that there are 361 records (the same as total purchasers), because last_touch_at was defined as the most recent time that person was on the purchase page, regardless of whether that was the user’s absolute last touch.



Click here for instructions on reverse engineering this finding
How to reverse engineer this insight (w/o SQL order of execution knowledge)
Even if you don’t have a solid grasp on SQL order of execution yet, you can figure this out with a little bit of time and some basic knowledge of using subqueries.
Let’s say that you noticed there were a different number of users in these two queries (358 and 361) and wanted to find out why.  One way you could do this is to put each query in its own CTE using a WITH statement, and then do a LEFT OUTER JOIN, with the larger one on the left.  This will result in NULL values where there is information in the left table and not in the right one.
To accomplish this, we will need to move our initial WITH statements into subqueries in the FROM statement.  Then we will wrap each one in a WITH statement, calling them last_touch1 and last_touch2, join them with a LEFT OUTER JOIN and select all columns.
The code will look like this:
WITH last_touch1 AS (
SELECT lt.user_id, lt.last_touch_at,
    pv.page_name,
    pv.utm_source, 
    pv.utm_campaign
FROM (SELECT user_id,
        MAX(timestamp) as last_touch_at
    FROM page_visits
    GROUP BY user_id) lt
JOIN page_visits pv
    ON lt.user_id = pv.user_id
    AND lt.last_touch_at = pv.timestamp
WHERE pv.page_name = '4 - purchase'
),
last_touch2 AS (
SELECT lt.user_id, lt.last_touch_at,
    pv.page_name,
    pv.utm_source, 
    pv.utm_campaign
FROM (SELECT user_id,
        MAX(timestamp) as last_touch_at
    FROM page_visits
    WHERE page_name = '4 - purchase'
    GROUP BY user_id) lt
JOIN page_visits pv
    ON lt.user_id = pv.user_id
    AND lt.last_touch_at = pv.timestamp
    )
SELECT * 
FROM last_touch2
LEFT OUTER JOIN last_touch1
  ON last_touch2.user_id = last_touch1.user_id;

and the output will look something like this (notice the null values):
image1112×481 73.6 KB
From there, you can scroll through your results and find the user_ids by hand for each row containing nulls.
Or, you can expedite the process by adding one more line to the bottom of your query with a WHERE statement:
WHERE last_touch1.user_id IS NULL;

Doing so will return this result:
image1358×98 16.8 KB
These are the thee users who were purchasers, but whose absolute last touch was not on the purchase page.
What does that mean?  Well, it could mean two things.  They either purchased an item, but then continue browsing; or, they came back again after their purchase, but did not buy anything the second time around.
Can we confirm this is actually what they did?  Yes!  Now that we know the user_ids we are looking for, this is very easy:
SELECT * 
FROM page_visits
WHERE user_id IN (94852, 76466, 29180)
ORDER BY user_id, timestamp;

In the results, we can see that each of these three people followed a similar pattern:


They each came to the website and added something to their cart on their first visit.
Then, on their second visit they checked out their cart and purchased the item(s).
And finally, they browsed the website on a third day and added something to their carts…but did not buy.

This is why they were included in last_touch2 (the last touch that lead to a purchase for each purchaser), but not in last_touch1 (the absolute last touch for any user who has made a purchase, filtered down to those whose absolute last touch was on the purchase page).

Hope this helps clarify things!  Happy coding!

@heatherkushner975531,
You may find this interesting or informative as well, given your recent post.
"
60,"Discrepancy In Purchase Results, Marketing Attribution Project","Get Help,SQL","aggregate-functions,general",8,"
Hello! This question is about the Marketing Attribution project in the Analyze Real Data chapter of the Data Science course.
Just curious if anyone else noticed a discrepancy between the total number of purchases made, and the number of purchases made from the last touch attribution?
When I ran a query to find the total number of users to make a purchase, I got 361:
SELECT distinct user_id FROM mark_att WHERE page_name LIKE '%4%'

But when I ran a query to find the number of users who made a purchase from their last touch, I got 316:
/*CREATE TABLE last_touch AS*/
WITH last_touch AS (
SELECT distinct user_id, MAX(timestamp) AS 'last_touch_at'
FROM mark_att
GROUP BY user_id)
SELECT distinct lt.user_id, lt.last_touch_at, ma.utm_campaign, ma.page_name
FROM last_touch AS 'lt'
JOIN mark_att AS 'ma'
	ON lt.user_id = ma.user_id
	AND lt.last_touch_at = ma.timestamp;

SELECT COUNT(distinct user_id) FROM  last_touch
WHERE page_name like '%4%';

Did anyone else notice this difference? When I counted the number of users to make a purchase from their first touch, I got 2.
Does this mean the other 43 purchases happened during other webpage access occurrences (not first or last touch)? Or am I writing my query incorrectly?
Any insight is helpful, thank you!
","
@heatherkushner975531,
Can you post a link to the exercise please?
The marketing attribution project that I see in the Data Science path looks different and has a table named page_visits, not mark_att.

Sure! Here is the link:
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/f94562dec290c4af13db325a9083cf51/projects/analyze-data-sql-attribution-queries
I changed the table name to mark_att when I imported the dataset to DB Browser.

I see.  And what was the exact query that resulted in 316?  The query you posted above doesn’t work because this code…
SELECT COUNT(distinct user_id) FROM  last_touch
WHERE page_name like '%4%';

…is trying to query from the CTE last_touch, which no longer exists after you have called this query:
SELECT distinct lt.user_id, lt.last_touch_at, ma.utm_campaign, ma.page_name
FROM last_touch AS 'lt'
JOIN mark_att AS 'ma'
	ON lt.user_id = ma.user_id
	AND lt.last_touch_at = ma.timestamp;

I tried different combinations of what you might have done, but I couldn’t get 316.  Also, there shouldn’t be any users who purchased on their first touch.
Here are the queries that I wrote to see (1) how many users made a purchase, and (2) the number of users whose last touch was on each page.  As you can see, there were 361 purchasers, but only 358 of them stopped browsing the website after the purchase page:
(click to reveal)

image1186×535 36.2 KB


Ah thanks for the response! I suspect I did a few things here that really made mine a confusing post.   While I was in DB Browser I created a separate table called last_touch, which is what you were seeing referenced in the attached code above.
Anywho, I’ve rewritten the code directly into codecademy and screengrabbed it:
screenshot1920×1080 106 KB
When I run the same exact queries directly in Codecademy, I’m getting 358 like you.  It seems like I was getting 316  because  I messed up when pulling the data into DB Browser, which is a whole separate topic.
Still, any ideas why we have this discrepancy between the 361 and 358? I can’t seem to get it out of my head that they ought to match, since both are pulling data for user_id’s that accessed the purchase page.
Apologies if this is an obvious question!

Glad to see we’re getting the same thing on the codecademy platform at least!
I suspect the reason last_touch_purchase has 3 fewer people is because those users went on to look at the site for a little longer after their purchase.
For instance, sometimes after you order something on Amazon you might continue browsing for a while.  This would mean they made it to the purchase page, but the purchase page was not their “last touch.”

Brilliant! Thanks so much for the time and help!

No problem.
Happy coding!
"
61,Can't run my code - what errors are in my code?,"Get Help,SQL",general,3,"
Hi all,
I’m currently enrolled in the Career Path for Data Science and I’m kind of stuck on Chapter 5: Analyze Real Data with SQL - User Churn.
The link to the assignment: https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj
The link to the code that I wrote: https://gist.github.com/8c5daa2c794fc2496d6e118852a031ba
My question:
There’s no solution available and I would like to know what I exactly did wrong because obviously there’s something wrong, otherwise there’d be a query result set. Though I think I pretty much followed the guideline as per the previous assignment where they take you more by hand.
Thank you to whoever helps me 
","
Also - the chance that it’s a very common or easy mistake… please forgive me, I’m new to this 

There’s a few syntax issues like missing commas, and sometimes you when you SELECT you don’t specify FROM which table.
I think the bigger idea though is that it seems like you’re not testing the code as you write it. I personally use sublime and db browser for sqlite to set up a space where I can run the queries and it can quickly catch and show me what i’m doing (this requires making your own csv files, easy copy and paste job when you select * from the codeacademy example, you only need a couple of rows to test for functionality).
I find that even though this approach takes a little bit of effort to set up at first, it’s really painless when you get used to it and for anything complicated you’re going to want to do something similar (you can always run sqlite from your terminal if that’s what you’re into)
"
62,Filtering data through WHERE,"Get Help,SQL",queries,2,"
What is the difference between filtering data through
WHERE medium = ‘gold’
and when using
WHERE medium LIKE ‘%gold’
","



 h_flx:

WHERE medium = ‘gold’


As you might expect, = is for exact matches. This will return only results where the value for medium matches ‘gold’ exactly.



 h_flx:

WHERE medium LIKE ‘%gold’


LIKE is for similar matches. This will return any result where the value for medium  is a string ending in ‘gold’.  For example, mediums of ‘fools gold’ or ‘white gold’ would be included as well as simply ‘gold.’ The % acts as a wildcard for 0 or more characters.
"
63,ROUND() Function,"Get Help,SQL",aggregate-functions,3,"
Hi there,
In exercise 9 in the aggregate-functions lesson the following code is used:
SELECT price,
ROUND(AVG(downloads)), count(*)
FROM fake_apps
GROUP BY price
HAVING COUNT(name) > 10;
My question is: The round function looks to me like it is only using one argument and no integer value. Does the ROUND() function automatically round to 0 if not integer is passed? The count clause afterwards is not in the brackets so I don’t see how that would work…
Thanks in advance to anyone who can help meh
","
@jude6,
Welcome to the forums!
Yes, that is correct.  When you don’t specify the number of digits to round to (to the right of the decimal), it defaults to 0.  Here is a link to the documentation:
https://www.sqlite.org/lang_corefunc.html#round

@jude6
ROUND() takes zero decimal places  by default. Else you should specify the number of decimals you want.
e.g.
number = 4.182764747
ROUND(number) will return 4
but
ROUND(number, 2) will return 4.18
You get it? 
"
64,Re-order rates logic,"Get Help,SQL",,5,"
Hey everyone!
This is less a coding/querying question and more a logic/mathematics question.
I cannot for the life of me understand why a “low” ratio = more reorders, and a “high” ration = more first purchases when reorder_rate = distinct order_ids / distinct delivered_to (i.e. reorder_rate = number of times an item was ordered / number of people it was delivered to).
I understand the code needed to obtain the correct answers; just don’t understand the actual logic behind the calculation. It seems backwards to me; I’d expect “high” ratios to mean more reorders, and “low” ratios to mean less reorders.
Can someone please shed some light? This has been driving me mad for two days.
Thanks!
","
This has been driving me also mad  !!!
Page 11/12 says…
A lower ratio means most of the orders are reorders.
A higher ratio means more of the orders are first purchases.
But in Page 12/12 says…
Wow!  they have a very high reorder rate. That means these smoothie customers are strong repeat customers.
This is contradictory  ???
I guess page 12 is correct… high order is repeat customers…  more orders  divided by less people hence the result is a high rate…
Page 11 talks about  higher RATIO… Page 12 talks about higher RATE ?? I hope RATIO and RATE are same.
Please someone help ???  Which  is right … I believe … HIGH RATE… repeated customers…
Please someone help ??? it us running me crazy  !!!

Hello, everebody. I have a good news for you. You are attentive ones.
This statement (SQL: Analyzing Business Metrics 11. Reorder Rates) is definitely wrong “We’ll define reorder rate as the ratio of the total number of orders to the number of people making those orders. A lower ratio means most of the orders are reorders. A higher ratio means more of the orders are first purchases.”
It has been turned inside out. A lower ratio means more of the orders are first purchases when you divide like this count(distinct order_id) / count(distinct orders.delivered_to).
When count(distinct order_id) = count(distinct orders.delivered_to) we have that one customer buy one item of this product.  At this point we have the lowest reorder rate.
When we increase count(distinct order_id) then we increase the reorder rate.

The whole SQL Analyzing Buisiness Metrics course looks full of mistakes like this and sometimes even bugs when you should pass wrong code to go forward. I think Codecademy should rebuild it from the ground. You still can learn something new, but sometimes it looks like a battle with mistakes and logic errors made by course creators!
The whole structure of the course is hard to comprehend.

I think the reorder rate = number of customers who reorder/total number of customers
Codecademy made me really confused
I think the guy  designed this programme was not good at commercial problem, but I still hope I can learn commerce and code at the same time with 100% certainty.
"
65,Can't get sql running in cmd,"Get Help,SQL",general,2,"
after downloading cmd and sql from the websites suggested here https://www.codecademy.com/courses/learn-sql/articles/what-is-sqlite
i keep getting the  following error:
“The system cannot find the path specified.”
Does anybody know how to solve this?
","
@byte2110790509,
Welcome to the forums!
If you are on Windows, I’m assuming you mean you downloaded Git Bash or Cmder (since Cmd already comes with Windows).  In order to set an alias for sqlite3 for either of those, follow the written instructions at the link in your post and make sure you are typing your path correctly and not just copying and pasting (the newest version of SQLite is going to be 3310100, not 3200100.
If you still need guidance, check out my answers here, here, or here.
Or, if you’re not comfortable with the command line it is probably better to just download and use DB Browser for SQLite.  It’s better for database exploration anyway.
Happy coding!
"
66,How to filter results based on a MAX()/MIN() value,"Get Help,SQL",aggregate-functions,2,"
Hi, folks!
I’d like some help with an issue I’m facing in both a project and I found the same in a exercise.
In the MET Museum exercise (https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-the-met), task 4, we have to "" Find the  title  and  medium  of the oldest piece(s) in the collection.""
However, the shown solution involves a double step solution, first finding the oldest date, then using LIKE to search. But I’m wondering, how would a real-life implementation of this work?
I tried this:
SELECT title, medium
FROM met
GROUP BY year
HAVING year = MAX(year);

The same issue I’m having in Data Science Ind. Project #4 (Data Science Independent Project #4 – Home Value Trends), when in I have to find max/low price of the given last month, I tried a similar approach to no avail also.
So, what am I doing wrong? How would be this implemented?
Thanks in advance for the help! 
","
@lucascv,
I am not going to give you exact code, since it looks like you may be using this in a project to demonstrate your SQL skills.
That being said, I’ll guide you in the right direction.
First, you may want to start by ensuring your test queries use the correct column names.  In the Met project, the column is date, not year, so that is where your troubles may have started.



 lucascv:

SELECT title, medium
FROM met
GROUP BY year
HAVING year = MAX(year);



Next, Google is your friend.
Googling “where or having with aggregate sql stack overflow” returns this page, where you will find your answer. (Hint: use a subquery).
Happy coding!
"
67,Aggregate Functions,"Get Help,SQL",aggregate-functions,2,"
Hello^^
I have been doing the SQL Aggregate Functions project and ran into a problem. I looked at the explanation clip and in the hint but I do not understand why it’s not running 
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-hackernews
","
Solved ^^
Thank you very much.
"
68,How do I adjust number series in id column after using DELETE FROM?,"Get Help,SQL",,2,"
Example - If I create a table of 500 rows having sequential number in ID Column, and later decided to delete row 247 using DELETE FROM, how do I adjust my number series in ID Column?
","
Did you ever get this fixed?
I used the following in postgres 11, which might be compatible:
ALTER SEQUENCE tableName_keyColumn_seq RESTART;
UPDATE tableName SET keyColumn = DEFAULT;

This re-ordered from the beginning.  THe underscores are needed, and so is the seq following the tableName and keyColumn.
"
69,SQL Project: Usage Funnels wtih Warby Parker - Joanna Lisiak,"Get Help,SQL",general,1,"
Hello Everyone!
I have finished this project: https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/projects/analyze-data-sql-usage-funnels-with-warby-parker
Please help me improve my skills and review my project. I will be grateful for any feedback!
You can find all the files: powerpoint presentaion, sql file with the queries and excel sheet with calcuations HERE https://drive.google.com/drive/folders/1Oaq93TR8nKj3OOZNC4UsOUXE9SL3PTjw
Thank you in advance!
",
70,Using CASE with aggregate functions instead of WHERE,"Get Help,SQL",aggregate-functions,11,"
Hey,
I’m going thru CODE CHALLENGE: AGGREGATE FUNCTIONS: # Code Challenge 1
And just playing around, I’m trying to use CASE statement inside of COUNT to see how can I get the same result as when I use just WHERE.
I got 697 results by using this code:
SELECT COUNT(email)
FROM users
WHERE email LIKE ‘%.com’;
And 1000 results by using this:
SELECT COUNT(
CASE
WHEN email LIKE ‘%.com’ THEN 1 ELSE 0 END)
FROM users;
Would appreciate it if you can point me to the mistake 
","
@isoul2007, welcome to the forums!
The difference between your two queries comes down to two things.


First, the order in which SQL executes statements:


SQL executes the FROM statement and WHERE statements before the SELECT statement, so in your first query it has already filtered your users table down to records where email is like %.com (609 records or rows) before it returns the COUNT of the email column.


In your second query you are trying to narrow the results in a CASE statement that is within the SELECT statement.  This CASE statement will be applied at the time of the SELECT statement, which occurs after SQL has already grabbed all 1000 records in the users table.  Your CASE statement applies a 1 or a 0 for each entry, but the COUNT statement will still count each one of those ones and zeros, returning a count of 1000.




Instead of COUNT you should have used SUM on your CASE statement, which would have added all the ones and zeros and given you the same number as your first query.


Check out the differences in the screenshot below:
image1075×534 36.3 KB

Hey @isoul2007, welcome to the forums!!
In the first case you are ONLY selecting the users that have an email that ends with.com. But it the second case, you are selecting ALL THE USERS, but marking those that have an email that ends with .com with a 1.
Hope this helps! 

Omg, it was such a stupid mistake lol
Thanks a lot @el_cocodrilo and @yizuhi!

No problem 

Hm, another weird one.
Now related to: https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-calculate-and-summarize-data/modules/analyze-data-sql-practice-aggregate-functions/projects/sql-aggregates-crypto
 SELECT SUM(
   CASE 
   WHEN currency = 'BIT' THEN 1
   ELSE 0 END)
FROM transactions;

^^^ gives me 42 instead of 21
The goal in this particular exercise is to select two numbers where one of them are coming with an additional condition. Instead of using two queries, I’d like to use just one.
The right answer tho is:
SELECT COUNT(money_in)
FROM transactions;

SELECT COUNT(money_in)
FROM transactions
WHERE currency = 'BIT';


Think about what the right answer is counting vs what you are summing.
Then run this query and see if you can figure out what is going on:
 SELECT COUNT(*), COUNT(money_in)
 FROM transactions;


Right, yeah. Thanks!
I’m counting all transactions (both in and out), while it clearly says I need just money_in.
Is it possible to modify that CASE query in a way to sum only money_in events?

Right now your CASE statement only has one condition.  Consider how you could narrow its scope by adding another condition with the use of AND.  Take a look at the data and see if you can figure this out.
If you have tried for a while and just can’t get it, take a peek at the hidden code below:


Don't click here until you've tried on your own!
SELECT SUM(
   CASE 
      WHEN money_in NOT NULL AND currency = 'BIT' THEN 1
      ELSE 0 
   END) AS bit_in
 FROM transactions;



Brilliant.
I was playing with it for a few days but never thought to use “NOT NULL” thing.
Thanks a lot!!

The key was recognizing why SELECT COUNT(*) and SELECT COUNT(money_in) return different numbers.
If you examine the first few lines of the table, you can see that the money_in and money_out columns contain NULL (0) values:
image832×293 21.3 KB
COUNT(money_in) will only count the records where money_in is not null.  To achieve a similar result with your CASE statement, you would want to make sure that one of the conditions likewise limits the results to records where money_in is not null.
Anyway, glad you gave it a good faith effort and I hope this helps you out down the road.
Happy coding!
"
71,SQL Create a table problems please help,"Get Help,SQL","manipulation,general",5,"
Here is my issue please help.
When i follow instructions for task number 1 , when in column 3 which is “birthday DATE”
when i write DATE its written in light blue…its meant to be white why isnt it in white? it seems to be effecting my overall code. please help.



Create a table named  friends  with three columns:


id  that stores  INTEGER


name  that stores  TEXT


birthday  that stores  DATE


","
Can you provide a link to the lesson?  Is DATE a data type the lessons have presented?

I’m having the same issue. Here is the link to the lesson and my code.
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-get-started-with-sql/modules/analyze-data-sql-learn-manipulation/projects/learn_sql_create_table
image1288×665 34.6 KB

@abbywalk,
Delete the comma after DATE and you should be good to go.

@codybraley,
DATE will appear blue in the Codecademy editor, but it shouldn’t affect your code.  If you aren’t able to create the friends table, it is due to another error in your code.  Make sure there is no comma after DATE and there is a semicolon at the end of your CREATE TABLE command.
"
72,Can i use Column Referencing in HAVING clause?,"Get Help,SQL","aggregate-functions,general",6,"
SELECT category, count(*) 
    from startups
    GROUP BY 1
        HAVING   count(*) > 0;

The above code won’t work with column referencing in HAVING statement.Please help!
","
Can you provide a link to the exercise?
count(*)
returns the number of rows in the entire table, including null values.

@sohilkhan5514358373, welcome to the forums.
Can you please explain what it is exactly you want to do?  Your provided code works just fine:
image774×697 32 KB



gist.github.com


https://gist.github.com/codecademydev/6d09ab19443569ef6b8390d552332e38
project.sqlite
 --2 
  SELECT COUNT(*) AS 'Total No. Of Companies' FROM startups;

--3
  SELECT SUM(valuation) AS 'Total Valuation Of All Companies' FROM startups;

--4 & 5
  SELECT MAX(raised) AS 'Max Amount Of Money Raised' FROM startups
  WHERE stage = 'Seed';

This file has been truncated. show original







For the 11th & 12th subpart how can i use column reference in HAVING clause?
Thanks

I want to modify 4th line in your screenshot using column reference.
Thanks

As far as I know, you can’t.  The HAVING clause works in conjunction with GROUP BY and is evaluated as a boolean expression.  See the SQLite documentation:

If a HAVING clause is specified, it is evaluated once for each group of rows as a boolean expression. If the result of evaluating the HAVING clause is false, the group is discarded.

So, if my understanding is correct and you want to say…
--11 & 12
  SELECT category, COUNT(*) AS 'Total No. Of Companies' FROM startups
  GROUP BY 1
  HAVING 2 > 3 --instead of COUNT(*) > 3
  ORDER BY 2 DESC;

…then the HAVING clause will return FALSE for each group and the result won’t contain anything.
Referencing columns by the column index is really only used in GROUP BY  and ORDER BY  clauses.
"
73,Opening A Database,"Get Help,SQL",general,1,"
If i have already generate database on my local drive do i still need to include following
const db = new sqlite3.Database(’./db.sqlite’);
",
74,Question about query SQL User churn,"Get Help,SQL",general,5,"
why this line in status table mean active user? this is solution of code academy. this lesson really lack of explaination.
part 3 of lesson, link course : https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/lessons/churn-rates-les/exercises/single-month-ii

CASE
WHEN subscription_end >= ‘2017-01-01’  (why this line mean active user?)
OR
subscription_end IS NULL
THEN 1
ELSE 0
END as is_active
FROM enrollments

","
This code gets every user subscribed at the begin of the month.
If the user cancels his subscription after the begin of the month, he still counts as an active member for churn rate.
But, if he canceled his subscription before the begin of the month, he isn’t an active member for churn rate.

if so, please read my code with question, i see some conflict with is_canceled
please explain it for me, it would help for further learning.
full code:

WITH enrollments AS  (this table select all active and cancel right? because i cannot run this select in website)
(SELECT *
FROM subscriptions
WHERE subscription_start < ‘2017-01-01’
AND (
(subscription_end >= ‘2017-01-01’) (canceled?)
OR (subscription_end IS NULL) (active)
)),
status AS
(SELECT
CASE
WHEN (subscription_end > ‘2017-01-31’) / because 'THEN 0, so canceled member has subs_end <= ‘2017-01-31’ but you said that active member can be the one cancel from the beginning ‘2017-01-01’? conflict here.
OR (subscription_end IS NULL) THEN 0
ELSE 1
END as is_canceled,
CASE
WHEN subscription_end >= ‘2017-01-01’
OR
subscription_end IS NULL
THEN 1
ELSE 0
END as is_active
FROM enrollments
)
SELECT 1.0 * SUM(is_canceled)/SUM(is_active) FROM status;


Ok. Let me see if I can explain it to you.
This table will show you all users in January:
SELECT *
FROM subscriptions
WHERE subscription_start < ‘2017-01-01’ #Pop-out all users that have subscribed in January
  AND (
  (subscription_end >= ‘2017-01-01’) 
  OR (subscription_end IS NULL) 
  ) #Pop-out all users that have canceled BEFORE January

Having a list of all users that have begun January month subscribed, we can find those who canceled or not this month.
Explaining the code:
SELECT
  CASE #Pop-out all members that have canceled AFTER January
  WHEN (subscription_end > ‘2017-01-31’) 
  OR (subscription_end IS NULL) THEN 0
  ELSE 1
  END as is_canceled,
CASE #Select all members that haven't canceled. Note that this statement SELECT because uses THEN 1 after CASE
  WHEN subscription_end >= ‘2017-01-01’
  OR
  subscription_end IS NULL
  THEN 1
  ELSE 0
  END as is_active
FROM enrollments

Reply me if this doesn’t answer your question.

What if users subscription_end is falls onto beginning of the month. ? in that case does he still consider as active member for that new month.
I’m totally ok with denominator part for the single month churn rate:
SELECT COUNT(*)    FROM subscriptions   WHERE subscription_start < ‘2017-01-01’
AND (
(subscription_end >= ‘2017-01-01’)
OR (subscription_end IS NULL)
but in the latter part of the lesson when churn rate is calculated for the multiple month
why they omitted  ‘=’  from  subscription_end >= ‘month’ section.  for the active user case ?
Do you have any idea? . Thank you very much and I’m very grateful if you can give any insight.
"
75,Can anyone explain to me what does this mean?,"Get Help,SQL","aggregate-functions,quiz",2,"
I happened to get it done correctly and understand “how to do it” but i do not understand what is the purpose of it regarding the question the number of watch events falling into this “bucket”
Can anyone kindly explain to me what is the reason behind the purpose of writing this code? why do we use “count(8)” instead of count(id) itself?
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates/lessons/codeflix/exercises/count3

","
Let’s take a look at the prompt again:

It says the UX Research team wants to see the distribution of the watch durations.  Specifically they want you to break up the data into “buckets”, each bucket representing a watch duration to the closest minute.
For each of these buckets they want to know the number of watch events that fall into that bucket.
So essentially they are asking for a histogram, which will shows the distribution and shape of a dataset.  Each “bucket” would be a bin in the histogram, and the count in each bucket would be the height of the bin.  The only difference here is it will be in table form instead of in graph form.
As for using COUNT(*), we want to count the number of rows that have that duration.  COUNT(*) will count the rows in the table, while COUNT(id) would count the ids.  Either way we get the same result here, so if you chose to count id, that is perfectly valid.
"
76,Warby Parker Exercise: help me understand my code? which of two codes is better?,"Get Help,SQL",multiple-tables,3,"
In the context of the Warby Parker exercise, on funnels, I have two questions.


I get the same result with both codes. Is one preferable to the other?


CODE 2 is adapted from an earlier exercise in the series. However, I do not understand the two instances of COUNT(DISTINCT CASE in it.


Earlier in the course, a ‘semantic breakdown’ was offered: an explanation that allowed me to understand each part of the code, what it does, and why. I’d very much appreciate a guide to that same understanding in this case.
Many thanks in advance.
CODE 1:
  SELECT
  quiz.user_id,
  home_try_on.user_id IS NOT NULL AS 'is_home_try_on',
  home_try_on.number_of_pairs,
  purchase.user_id IS NOT NULL AS 'is_purchase'
FROM quiz
  LEFT JOIN home_try_on
    ON quiz.user_id = home_try_on.user_id
  LEFT JOIN purchase
    ON home_try_on.user_id = purchase.user_id
)
SELECT 
  number_of_pairs,
  SUM(is_purchase)
  FROM base
  GROUP BY number_of_pairs;

CODE 2
WITH base AS (
  SELECT
  quiz.user_id,
  home_try_on.user_id IS NOT NULL AS 'is_home_try_on',
  home_try_on.number_of_pairs,
  purchase.user_id IS NOT NULL AS 'is_purchase'
FROM quiz
  LEFT JOIN home_try_on
    ON quiz.user_id = home_try_on.user_id
  LEFT JOIN purchase
    ON home_try_on.user_id = purchase.user_id
)
SELECT 
COUNT(DISTINCT CASE
WHEN number_of_pairs = '3 pairs' 
AND is_purchase = 1
THEN user_id
END) AS '3 pair buy',
COUNT(DISTINCT CASE
WHEN number_of_pairs = '5 pairs' 
AND is_purchase = 1
THEN user_id
END) AS '5 pair buy'
  FROM base;
","
@ole.koksvik,
In the first query, you are taking data from your temporary table base and grouping it by number_of_pairs  This will group your data into three rows based on the values in number_of_pairs: NULL, 3 pairs and 5 pairs.  Then from that grouped data you are selecting the column number_of_pairs as well as the sum of the is_purchase column.  Notice that is_purchase contains only 0 or 1 representing True or False based on this line:
purchase.user_id IS NOT NULL AS 'is_purchase'

This query will return this result:

Your second query also pulls data from your base temporary table, but rather than using existing columns and grouping, you create new temporary columns with your CASE statements.  By using the CASE statements you are returning the user_id only if that person made a purchase and then you are counting the total number of rows with a user_id.  You are doing this for all the rows where number_of_pairs is “3 pairs” first, selecting that column with the alias 3 pair buy.  Then you are doing the same on rows where number_of_pairs is “5 pairs” and selecting that column with the alias 5 pair buy.  Notice that because you only had CASE statements for those two number_of_pairs values, any other value (in this case just NULL) will not have its own column.
This second query returns this result:

Both of these queries work fine if you are just trying to find out the number of people who purchased  after trying on 3 or 5 pairs of glasses.  However, this doesn’t tell you a whole lot.  You might find more insights if you also take into account the number of people who didn’t purchase in each group.
Anyway, hope this helps you wrap your head around the difference.  Happy coding!

Thank you so much, @el_cocodrilo. I am moved by your generosity in taking the time to explain this.
I’m on a 3-month free PRO membership because I am unemployed due to COVID-19. Encountering such generosity is really wonderful. Thank you.



 el_cocodrilo:

By using the CASE statements you are returning the user_id only if that person made a purchase


This was the key for me – it was what I had not grasped.
And point well taken about the analytic (lack of) value of these numbers.
Thanks!!
"
77,Https://www.codecademy.com/paths/data-science/tracks/sql-basics/modules/dspath-sql-projects-and-applications/projects/user-segmentation-prj,"Get Help,SQL",general,3,"
I’m currently working through the career path for Data Science. I’m a little confused as to how I’m supposed to know that a birthday column is also a TEXT column. The hint under problem 2 tells me to notice that it is a TEXT column in the table schema. But I don’t see/understand how I should know that. I thought it would be an integer since they’re numbers. Or am I mistaken in that regard because it has hyphens in it?
https://www.codecademy.com/paths/data-science/tracks/sql-basics/modules/dspath-sql-projects-and-applications/projects/user-segmentation-prj
","
@css6216973739, welcome to the forums!
As soon as you run a SQL query on Codecademy, a Database Schema will appear on the right hand side of the screen.  This is where you would notice that birthday is a TEXT column:


Thank you! I wasn’t scrolling far enough down to see the Schema and simply clicking the hyperlink in the question.
"
78,Setting up sqlite on GitHub - PLEASE HELP!,"Get Help,SQL",general,5,"
Hi All - extremely inexperienced coder here. I am trying to get SQLite set up on my computer and entering the following into Git Hub ($ automatically appears I am typing everything else then clicking enter):
$ downloads/sqlite-tools-win32-x86-3310100.zip/sqlite-tools-win32-x86-3310100/
This produces the following no file directory result:
bash: downloads/sqlite-tools-win32-x86-3310100/sqlite-tools-win32-x86-3310100/: No such file or directory
What am I doing wrong? The path to the file is : C:\Users\myname\Downloads\sqlite-tools-win32-x86-3310100.zip\sqlite-tools-win32-x86-3310100
Help would be so appreciated. I’ve been spending hours on this and just want to continue already!
Thank you!
","
@byte2138560104, welcome to the forums!
Have you unzipped (extracted) the file yet?  You shouldn’t be trying to navigate into a zipped file.
Also, once you have unzipped it you will need to use cd before the path name in order to change directories. Otherwise you will just get a message saying bash: sqlite-tools-win32-x86-3310100/sqlite-tools-win32-x86-3310100: Is a directory

How do I unzip the file? Not sure what that means… Like I said, very inexperienced here hah.
Thanks for reaching out.

ok I think I figured out how to extract it! After I extracted, I typed in:
cd downloads/sqlite-tools-win32-x86-3310100/sqlite-tools-win32-x86-3310100/
and the result was this (yellow text): ~/downloads/sqlite-tools-win32-x86-3310100/sqlite-tools-win32-x86-3310100
I then typed in winpt ./sqlite.exe and it said bash: winpt: command not found
Do you know what I did incorrect and should change? Thanks so much!

the command needs to be winpty not winpt
"
79,Https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj,"Get Help,SQL",general,2,"
What is wrong with this code for step 4?
(SELECT
  '2017-01-01' AS first_day,
  '2017-01-31' AS last_day
 UNION
 SELECT
  '2017-02-01' AS first_day,
  '2017-02-31' AS last_day
 UNION
 SELECT
  '2017-03-01' AS first_day,
  '2017-03-31' AS last_day
), 
  cross_join AS
(SELECT * FROM subscriptions
  CEOSS JOIN months
)
  status AS
(SELECT id, first_day as month,
CASE WHEN (subscription_end < first_day) AND subscription_end > first_day or subscription_end IS NULL) AND (segmend = 87) THEN 1
  ELSE 0
END AS is_active_87, 
CASE 
  WHEN (subscription_end < first_day) AND subscription_end > first_day or subscription_end IS NULL) AND (segment = 30) THEN 1
    ELSE 0
  END AS is_active_30
FROM cross_join
) SELECT * FROM status LIMIT = 10;```





https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj
","



 shefalisingh:

CEOSS JOIN months


Did you mean CROSS JOIN instead of CEOSS JOIN?



 shefalisingh:

segmend


Again segment instead of segmend
I don’t see any more mistakes, and as far as i remember the code is correct. Be careful with the spelling. And try to write your code a little bit cleaner
"
80,User Churn Rate Project help,"Get Help,SQL",aggregate-functions,15,"
Hello~
So I’m working on the Churn Rate exercise here, and I’m not quite sure where I went wrong because nothing shows up when I save it. I feel like I’m missing something obvious, but I’ve been messing with it for about an hour and can’t figure it out on my own.
Here is what I have right now:
WITH months AS
 (SELECT '2016-01-01' as 'first_day',
 '2016-01-31' as 'last_day'
 UNION
 SELECT '2016-02-01' as 'first_day',
 '2016-02-28' as 'last_day'
 UNION
 SELECT '2016-03-01' as 'first_day',
 '2016-03-31' as 'last_day')
 WITH cross_join AS
 (SELECT subscriptions.*, months.*
 FROM subscriptions
 CROSS JOIN months)
 WITH status AS
 (SELECT cross_join, first_day AS 'month', CASE 
  WHEN 
  (segment = '87'
 AND subscription_start < first_day) THEN 1
  ELSE 0
  END AS is_active_87,
  CASE
  WHEN (segment = '30'
  AND subscription_start < first_day) THEN 1
  ELSE 0
  END AS is_active_30,
 CASE
 WHEN
 (segment = '87'
 AND subscription_end IS BETWEEN first_day AND last_day) THEN 1
 ELSE 0
 END AS is_canceled_87,
 CASE
 WHEN
 (segment = '30'
 AND subscription_end IS BETWEEN first_day AND last_day) THEN 1
 ELSE 0
 END AS is_canceled_30
 FROM cross_join)
 WITH status_aggregate AS
 (SELECT sum(is_active_87) AS sum_active_87, sum(is_active_30) AS sum_active_30 ,sum(is_canceled_87) AS sum_canceled_87  ,sum(is_canceled_30) AS sum_canceled_30
  FROM status
  GROUP BY month)
  SELECT month, 1.0 * (sum_canceled_87 / sum_active_87), 1.0 * (sum_canceled_30 / sum_canceled_30)
  FROM status_aggregate
  GROUP BY month;

Any help would be most appreciated. Thanks in advance! 
","



 code7431907234:

Shows up when I save it. I feel like I’m missing something obvious, but I’ve been messing with it for about an hour and can’t figure it out on my own.


Hi there! You don’t need another WITH. So, your code would be like this:
WITH months AS
(SELECT
  '2017-01-01' AS first_day,
  '2017-01-30' AS last_day
UNION
SELECT
  '2017-02-01' AS first_day,
  '2017-02-28' AS last_day
UNION
SELECT
  '2017-03-01' AS first_day,
  '2017-03-30' AS last_day),
'HERE YOU DONT NEED ANOTHER WITH'cross_join AS
[...]


I am having a similar issue on this project and when I save, it doesn’t run. I’ve been trying to debug but the project won’t even run successfully on the first WITH statement (months).
Update: I forgot the 2nd union statement
WITH months AS (
    SELECT 
     '2017-01-01' AS 'first_day',
     '2017-01-31' AS 'last_day'
   UNION
   SELECT 
     '2017-02-01' AS 'first_day',
     '2017-02-28' AS 'last_day'
   SELECT 
     '2017-03-01' AS 'first_day',
     '2017-03-31' AS 'last_day'
  ),
cross_join AS
  (SELECT *
   FROM subscriptions
   CROSS JOIN months
  ),

status AS
  (SELECT id, 
   first_day as 'month',
   CASE 
     WHEN segment = 87 AND subscription_start<first_day AND (subscription_end > first_day OR subscription_end IS NULL) THEN 1 ELSE 0 END AS 'is_active_87',
    CASE 
     WHEN segment = 30 AND subscription_start<first_day AND (subscription_end > first_day OR subscription_end IS NULL) THEN 1 ELSE 0 END AS 'is_active_30',
    CASE 
     WHEN segment = 87 AND subscription_end BETWEEN first_day and last_day THEN 1 ELSE 0 END AS 'is_canceled_87',
     CASE 
     WHEN segment = 30 AND subscription_end BETWEEN first_day and last_day THEN 1 ELSE 0 END AS 'is_canceled_30'
   FROM cross_join
  ),
status_aggregate AS
  (
  SELECT month, SUM(is_active_87) AS 'sum_active_87',
    SUM(is_active_30) AS 'sum_active_30',
    SUM(is_canceled_87) AS 'sum_canceled_87',
    SUM(is_canceled_30) AS 'sum_canceled_30'
  FROM status  
  GROUP BY 1
  )
 
SELECT month, 
1.0*sum_canceled_87/sum_active_87,
1.0*sum_canceled_30/sum_active_30
FROM status_aggregate
;


Hello,
I think i have the same issue… i’m doing dhe Churn Rate Project and I can’t see anything as a Result…
I tried to watch the youtube video with the solution and the name of the video in youtube starts with “DEPRECATED”, and i’m doing all the same code of the video (and following previous lessons), and it still does not work… i don’t know why.

Hello,
I’m having the same issue! Weird.

Hi there! You are missing a comma right before your WITH status_aggregrate AS

Here is my code! Hope it helps. Rounding at the end is unnecessary but its what i wanted to do. The end results were: Segment 87 January 0.335, February 0.464 and March 0.912  ;  Segment  30 January 0.082, February 0.079 and March 0.132
WITH months AS (
SELECT
‘2017-01-01’ AS first_day,‘2017-01-31’ AS last_day
UNION
SELECT
‘2017-02-01’ AS first_day,‘2017-02-28’ AS last_day
UNION
SELECT
‘2017-03-01’ AS first_day,‘2017-03-31’ AS last_day)
,
cross_join AS (
SELECT *
FROM subscriptions
CROSS JOIN months)
,
status AS (
SELECT id,
first_day AS month,
–#subscribers 87
CASE
WHEN subscription_start < first_day AND (subscription_end > last_day OR subscription_end IS NULL) AND segment IS 87
THEN 1
ELSE 0
END AS is_active_87,
–#subscribers 30
CASE
WHEN subscription_start < first_day AND (subscription_end > last_day OR subscription_end IS NULL)
AND segment IS 30
THEN 1
ELSE 0
END AS is_active_30,
–#cancelation 87
CASE
WHEN (subscription_end BETWEEN first_day AND last_day) AND segment IS 87
THEN 1
ELSE 0
END AS is_canceled_87,
–#cancelation 30
CASE
WHEN (subscription_end BETWEEN first_day AND last_day) AND segment IS 30
THEN 1
ELSE 0
END AS is_canceled_30
FROM cross_join),
status_aggregate AS (
SELECT month,
SUM(is_active_87) AS sum_active_87,
SUM(is_active_30) AS sum_active_30,
SUM(is_canceled_87) AS sum_canceled_87,
SUM(is_canceled_30) AS sum_canceled_30
FROM status
GROUP BY month
)
–SELECT * FROM status_aggregate LIMIT 100;
SELECT month, ROUND((1.0 * sum_canceled_87)/sum_active_87,3) AS churn_rate_87, ROUND((1.0 * sum_canceled_30)/sum_active_30,3) AS churn_rate_30
FROM status_aggregate;

UPDATE: After watching “[DEPRECATED] SQL Project Calculating Churn Rates” I realized that my active subscribers segment (from status temporary table) wasn’t counting those that canceled within the month. So to fix that i needed to change  (subscription_end > last_day) to  (subscription_end > first_day).
Now I have the correct values… Nevertheless, I’m still unsure as to why we need to count those subscribers too for the denominator part of the equation.
NEW CODE FOR THE BONUS QUESTION:
–  I will try and make this query support a larger number of segments. With help from the video [DEPRECATED] SQL Project Calculating Churn Rates.
WITH months AS (
SELECT
‘2017-01-01’ AS first_day,‘2017-01-31’ AS last_day
UNION
SELECT
‘2017-02-01’ AS first_day,‘2017-02-28’ AS last_day
UNION
SELECT
‘2017-03-01’ AS first_day,‘2017-03-31’ AS last_day)
,
cross_join AS (
SELECT *
FROM subscriptions
CROSS JOIN months)
,
status AS (
SELECT id,
first_day AS month,segment,
–#subscribers 87 and 30
CASE
WHEN subscription_start < first_day AND (subscription_end > first_day OR subscription_end IS NULL)
THEN 1
ELSE 0
END AS is_active,
–#cancelation 87 and 30
CASE
WHEN (subscription_end BETWEEN first_day AND last_day)
THEN 1
ELSE 0
END AS is_canceled
FROM cross_join),
status_aggregate AS (
SELECT month,segment,
SUM(is_active) AS sum_active,
SUM(is_canceled) AS sum_canceled
FROM status
GROUP BY month,segment

)
–SELECT * FROM status_aggregate ORDER BY segment LIMIT 100;
SELECT month, ROUND((1.0 * sum_canceled)/sum_active,3) AS churn_rate, segment
FROM status_aggregate ORDER BY segment;

I’m having the same issue and have been with the User Churn and Temporary Tables sections. Here’s my code (it matched with the instructional video, yet nothing populates after I run the code):
WITH months AS
(SELECT
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT
‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
UNION
SELECT
‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join AS
(SELECT *
FROM subscription
CROSS JOIN months),
status AS
(SELECT
id,
first_day AS month,
CASE
WHEN (subscription_start < first_day) AND (subscription_end > first_day OR subscription_end IS NULL) AND (segment = 87)
THEN 1
ELSE 0
END AS is_active_87,
CASE
WHEN (subscription_start < first_day) AND (subscription_end > first_day OR subscription_end IS NULL) AND (segment = 30)
THEN 1
ELSE 0
END AS is_active_30,
CASE
WHEN (subscription_end BETWEEN first day AND last_day) AND (segement = 87) THEN 1
ELSE 0
END AS is_canceled_87
CASE
WHEN (subscription_end BETWEEN first day AND last_day) AND (segement = 30) THEN 1
ELSE 0
END AS is_canceled_30
FROM cross_join),
status_aggregate AS
(SELECT (SUM (is_active_87) AS sum_active_87),
(SUM (is_active_30) AS sum_active_30),
(SUM (is_canceled_87) AS sum_canceled_87),
(SUM (is canceled_30) AS sum_canceled_30)
FROM status
GROUP BY month) SELECT month,
1.0 * sum_canceled_87 / sum_active_87 AS churn_rate_87,
1.0 * sum_canceled_30 / sum_active_30 AS churn_rate_30
FROM status_aggregate;

Hello @css3290358051,  I had same problem. So, instead of using AND operator for segment = 87, try to use WHERE clause.
It should look like this
… WHEN (subscription_start < first_day) AND (subscription_end > first_day OR subscription_end IS NULL) …
WHERE segment = 87

Here’s my take if anyone wants to see it
SELECT *
 FROM subscriptions
 LIMIT 100;
 
 SELECT MAX(subscription_start),
 MIN(subscription_start),
 MAX(subscription_end),
 MIN(subscription_end)
 FROM subscriptions;
 
 WITH months AS(
 SELECT 
   '2017-01-01' AS first_day,
   '2017-01-31' AS last_day
 UNION
 SELECT 
   '2017-02-01' AS first_day,
   '2017-02-28' AS last_day
 UNION
 SELECT
   '2017-03-01' AS first_day,
   '2017-03-31' AS last_day
  ),
 
 cross_join AS(
 SELECT *
 FROM subscriptions
 CROSS JOIN months
 ),
 
 status AS(
 SELECT
   id,
   first_day AS month,
   segment,
   CASE
       WHEN (subscription_start < first_day)
       AND (subscription_end > first_day
       OR subscription_end IS NULL)
   THEN 1
   ELSE 0
   END as is_active,
   CASE
     WHEN subscription_end
     BETWEEN first_day
     AND last_day
   THEN 1
   ELSE 0
   END as is_canceled
 FROM cross_join
 ),
 
 status_aggregate AS(
 SELECT
   month, segment,
   SUM(is_active) AS active,
   SUM(is_canceled) AS canceled
 FROM status
 GROUP BY month, segment
 )
 
 SELECT 
   month,
   segment,
   1.0 * canceled/active AS churn
 FROM status_aggregate;





 josephmcgrath3377571:

SELECT month, 1.0sum_canceled_87/sum_active_87, 1.0sum_canceled_30/sum_active_30 FROM status_aggregate ;


Hi, I tried your code but I cannot generate the result.

I did the bonus assignment by adding another temporary table, wonder if it wasn’t necessary

WITH months AS
(SELECT
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT
‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
UNION
SELECT
‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months
),
status AS
(SELECT id,
first_day AS month,
segment,
CASE
WHEN(subscription_start < first_day)
AND (subscription_end > first_day
OR subscription_end IS NULL)
THEN 1
ELSE 0
END AS ‘is_active’,
CASE
WHEN(subscription_end BETWEEN first_day AND last_day)
THEN 1
ELSE 0
END AS ‘is_canceled’
FROM cross_join
ORDER BY segment
),
status_aggregate AS
(
SELECT month, segment, SUM(is_active) as ‘active’, SUM(is_canceled) AS ‘sum_canceled’
FROM status
GROUP BY month, segment
ORDER BY segment
),
segment_aggregate AS
(
SELECT month, segment, SUM(active) AS ‘active_by_segment’,
SUM(sum_canceled) AS ‘canceled_by_segment’
FROM status_aggregate
GROUP BY month, segment
)
SELECT month, segment,
ROUND((1.0 * canceled_by_segment / active_by_segment), 3) AS ‘churn_rate’
FROM segment_aggregate
ORDER BY segment;


Hi,
What were your results?


Bonus1244×371 23.9 KB

"
81,Use of UNION statement with aggregation functions e.g GROUP BY,"Get Help,SQL","aggregate-functions,general",1,"
Hi,
I have a question about further usage of UNION - as in course I only saw example of using UNION without any aggregation functions.
For example can you write below kind of query using UNION and GROUP BY?

> SELECT id,sum(total_trips)
> 
> FROM riders
> 
> GROUP BY id
> 
> HAVING sum(total_trips)<500;
> 
> UNION
> 
> SELECT id,sum(total_trips)
> 
> FROM riders2
> 
> GROUP BY id
> 
> HAVING sum(total_trips)<500;

",
82,Why do I need a nested query at all?,"Get Help,SQL",,5,"
Hi, I don’t understand why we use a non correlated subquery to calculate the average distance flown per day each month.
In 2003-10, Monday it says the average distance flown is 4301, however if we look at all flights flown in 2003-10 on a Monday, it says the distances flown are: 3711 and 590. Therefore isn’t the average distance flown on a Monday (3711+590)/2 = 2150.5? 4301 appears to be the total distance flown?
I used the following query to work out the averages instead:
SELECT dep_month, dep_day_of_week, sum(distance) / count(id) AS average_distance
FROM flights
GROUP BY 1,2
ORDER BY 1,2;

Is this query right or am I completely misunderstanding the question?
","
Hey. I have the same question. Why need nested queries when you can simply do this:
SELECT dep_month, 
    dep_day_of_week, 
    AVG(distance) AS average_distance
FROM flights
GROUP BY 1,2
ORDER BY 1,2;

Can anybody explain if i missunderstood the exercise or why the subquerry is neccessary in any way?
Thanks in advance & greetings
Tim

Hi Tim, I think I’ve figured it out what we got wrong . The dataset isn’t large enough to see it but there is a slight difference in our queries.
The question was “Find the average total distance flown each day of every month”. Our query only calculates the average distance flown on each day and not the average of the total distance flown!
Take the following example dataset:




Month
Day of Week
Date
Distance




Feb
Saturday
2019-02-23
100


Feb
Saturday
2019-02-23
500


Feb
Saturday
2019-02-23
1000


Feb
Saturday
2019-02-16
100



Our query averages all of the Saturdays together, 100,500,1000,100 = 425.
The nested query first adds the total of each date together 100,500,1000 = 1600 then averages the total of each date 1600,100 = 850.
On average, a single flight travels 425km on a Saturday.
vs
On average, the total distance flown across all flights is 850km each Saturday.
Hope that helps!

Hi Paul.
That really helped. Thank you very much. Maybe I was too tired to understand the exercise correctly…  

wow!. i was scratching my head for an hour. SQL syntax seems simple but the kind of logic it can implement is just complex
Thanks for the explanation
"
83,Where Clause Project,"Get Help,SQL",,4,"
I was prompted to perform a where clause and when checking my answer the box said "" Take a look at the table schema. Notice that the  birthday  column is actually a  TEXT column. No sweat, there are still ways to find users who are born in the 80’s!""
Is there a rule about which operator to use with the Where clause (i.e. Like is used with Text, = is used with Integers, etc.)?
","
Hello @raqueldevore, you can use the = operator with text:
SELECT *
FROM table1
WHERE COLUMN1 = ""data1"";

You can also use the LEN() function to find the length of the string, so you could do:
SELECT *
FROM table1
WHERE LEN(COLUMN1) = 5;

I hope this help!
P.S. I moved this thread into the SQL Get Help category.

ah, okay, thank you!

This topic was automatically closed 41 days after the last reply. New replies are no longer allowed.
"
84,"The Attribution Query (Marketing, UTM_parameter)","Get Help,SQL","multiple-tables,general",2,"
For the Attribution Query in sql to find the first and last touch along with the UTM_source, why do we have to use a inner join like:
with last_touch as **
(select user_id, max(timestamp) as 'last_touch_at’
** from page_visits
** group by 1)**

** select lt.user_id, lt.last_touch_at, pv.utm_source **
** from last_touch as ‘lt’**
** join page_visits as ‘pv’**
** on lt.user_id = pv.user_id and **
** lt.last_touch_at = pv.timestamp**
and not use a simple query like this:
select user_id, **
max(timestamp) as ‘last_touch_at’, **
utm_source
** from page_visits
** group by 1;
When I checked, they both provided the same answer to me.
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-marketing-attribution/lessons/first-last-attribution/exercises/attr-query-iii
","
Hello @gigabyte233, the reason the exercise gets you to use an inner join is probably to get you practised at using them, but without giving you too much of a step from things you know how to do to new things; that would be my guess.
"
85,SQL code problems with the calculate churm exercise from data analysis path course,"Get Help,SQL","multiple-tables,general",3,"
Right now I am doing the SQL project calculate churn rates from the Data Analysis path course but I a have been having some code problems that dont let me get trough the project, can anyone help me? I will leave my the code here in the post together with the link to the project.
CODE:
WITH months AS (
SELECT
 ""2017-01-01"" as first_day,
 ""2017-01-31"" as last_day
UNION
SELECT
 ""2017-02-01"" as first_day,
 ""2017-02-28"" as last_day
UNION
SELECT
 ""2017-03-01"" as first_day,
 ""2017-03-31"" as last_day;
),
 
cross_join as (
  SELECT * FROM subscriptions
  CROSS JOIN months
), status as (
  SELECT id,first_day as month_, 
  CASE 
   WHEN segment = 87 AND(subscription_start < first_day)
  AND (subscription_end > month_) OR (subscription_end IS NULL)
    THEN 1
    ELSE 0
   END as is_active_87,
   CASE
    WHEN segment = 30 AND (subscription_start < first_day) AND (subscription_end > month_) OR (subscription_end IS NULL)
     THEN 1
     ELSE 0
    END as is_active_30,
   CASE
    WHEN segment = 87 AND subscription_end BETWEEN month_ AND months.last_day 
    THEN 1
    ELSE 0
   END as is_canceled_87,
   CASE
    WHEN segment = 30 AND subscription_end BETWEEN month_ AND months.last_day 
    THEN 1
    ELSE 0
   END as is_canceled_30
    FROM cross_join;
),status_aggregate as
(SELECT SUM(is_active_87) as sum_active_87,SUM(is_active_30) as sum_active_30,SUM(is_canceled_87) as sum_canceled_87,SUM(is_canceled_30) as sum_canceled_30 FROM status;)
 
SELECT months, (1.0 * status_aggregate.sum_active_87/status_aggregate.is_canceled_87) as churn_rate FROM status_aggregate
GROUP BY month;

LINK:
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj
","

also:


Hi there,
I have got 0 for the ‘sum_canceled_87’ and ‘sum_canceled_87’. Can anyone help?
here is mu status temporary table:
status AS
(SELECT id, first_day AS MONTH,
CASE
when (subscription_start < first_day
and (subscription_end > first_day or subscription_end is NULL)) and segment = 87 then 1
else 0
end as is_active_87,
case
when (subscription_start < first_day
and (subscription_end > first_day or subscription_end is NULL)) and segment = 30 then 1
else 0
end as is_active_30,
case
when (subscription_end between first_day and last_day) and segment = 87 then 1
else 0
end as is_canceled_87,
case
when (subscription_end between first_day and last_day) and segment = 30 then 1
else 0
end as is_canceled_30
from cross_join
"
86,The difference between WITH and CREATE TEMPORARY TABLE,"Get Help,SQL",general,2,"
I finished SQL course here and took one more course on Coursera to learn even more. Here, we are taught to use WITH to create temporary tables. On Coursera, they are teaching us to use CREATE TEMPORARY TABLE. What is the difference, if any?
Thanks!
","
The difference is your ability to reference that temporary table by name in a later query.
If you say WITH purchases AS ... you can reference that the temporary purchases table in only that query.
On the other hand, if you say CREATE TEMP TABLE purchases AS ... you can reference the temporary purchases table in as many queries as you want until you close the connection with that SQLite database (it is automatically deleted upon closing the connection).
So basically, if you think it is a one-off then use WITH.  If you want to make several queries from it, use CREATE TEMP TABLE or CREATE TEMPORARY TABLE.
"
87,"Why does MAX(name) FROM fake_apps return ""yearfix""?","Get Help,SQL","aggregate-functions,general",2,"
I’m curious to know how the MAX() function works on strings. I tried to MAX() fake_apps and it returned ""year fix’ why so? Why not Zotice or something such?
Here’s the link to the lesson: LINK
","
@boardrockstar88608, welcome to the forums!
When you use the MAX() function, it is essentially taking the item that would be last when using  ORDER BY ... ASC.  In SQL, when strings are ordered  in ascending order, they go alphabetically from A to Z (capital) and then from a to z (lowercase).  You can see this in action if you query this:
SELECT name
FROM fake_apps
ORDER BY name;

You will notice that “Zummaline” comes before “alphalux”.
In order to use MAX() to find the case-insensitive alphabetically last name, you will want to convert the names to all upper or lower case in your query.
For example:
SELECT MAX(LOWER(name)) --or MAX(UPPER(name))
FROM fake_apps;

"
88,Https://www.codecademy.com/paths/data-science/tracks/sql-basics/modules/dspath-sql-queries/lessons/sql-queries-code-challenge/exercises/sql-cc-end,"Get Help,SQL","queries,quiz",4,"
Hello, i couldnt answer the last two question.
Can anyone help? 
","
Hello @jacobchong2803027022, I did answer the last two questions, if the link links to what I think it does. (Is it the Code Challenges: Writing Queries exercises? Do you have any specific questions regarding how to do it?

Hi thanks for your reply but theres no link. 

Ok. I meant the link in the title
Screen Shot 2020-05-06 at 17.46.421036×71 8.92 KB
. Did you mean tho exercises I said:



 codeneutrino:

Code Challenges: Writing Queries


"
89,How do you count number of Columns using COUNT function?,"Get Help,SQL",aggregate-functions,2,"
Hi All!
This is a very basic question but how do I get a count of columns using COUNT function? Let’s say I have imported a very large data table and want to know how many different columns it has without manually counting them. And perhaps later on I want to filter columns with specific data (say only containing text). How do I go about it?
Thanks!
A
","
Hi @css2389480521, welcome to the forums!
This is actually not a basic question as far as SQL is involved.  It is actually not covered in the Codecademy curriculum.
If you are using SQLite, you can use PRAGMA functions to find this info.  See here for documentation.
To find the number of columns for a table (let’s call this table tracks) you would use this query:
SELECT COUNT(*)
FROM pragma_table_info('tracks');

If you want to find the names of the columns that contains strings, you would use this query:
SELECT name
FROM pragma_table_info('tracks')
WHERE type LIKE 'NVARCHAR%';

From there you can just SELECT those columns FROM tracks if you want.
As far as selecting only the columns that contain strings within your main SELECT statement (filtering by type), I suggest looking on Google and doing some research if it is important to you, as that is what I would have to do to answer your question.
Hope this helps.  Happy coding!
"
90,Using number reference of Column in GROUP BY and CASE statement- SQL,"Get Help,SQL",aggregate-functions,5,"
Hello, I have a question about using column’s number reference in SQL GROUP BY statement.
For example I have query as follows;
SELECT COUNT(*) AS Appearance,CASE

       WHEN url LIKE '%github.com%' THEN 'Github'

        WHEN url LIKE '%medium.com%' THEN 'Medium'

        WHEN url LIKE '%nytimes%' THEN 'NYtimes'

        ELSE 'others'

       END AS 'Source'
FROM hacker_news
GROUP BY 2;

Question : When using number reference on GROUP BY, does it take into account new column ‘Source’ as well that I created in CASE statement? or only columns in only original data scheme?
","
Hello @jiyeonjang7025175947, as far as I can see from the code you. have provided, Source and the column created by the CASE statement are the same thing. So in answer to your question, yes, it does group by the column created in the CASE.
I hope this helps!

Hi!
Thank you for your reply.
But I think I am still little confused with using number reference in Group By 
In my query, this is how original table’s structure looks like - hacker_news

It has 5 columns title, user, score, timestamp, url - so I guess here ‘title’ must be 1st column with reference number 1.
I wonder what happened in my query, as I created new column basically called Apperance and Source.
If I use number reference in Group by, does number reference only take into my new columns in SELECT statement?(so it’s not like my two new columns are added as 6th and 7th reference) - that case reference 1 should be appearance and reference 2 should be source, right.
And I do not need to think about how my original table columns formed here as I am making new scheme of columns in my query ?

Hello @jiyeonjang7025175947, as far as I know, when you create a query using SELECT, the columns you reference are referring to the columns specified in the query:
SELECT COUNT(*) AS Appearance, CASE 
       WHEN url LIKE ""%this%""
       END AS ""Source""
FROM table_news
GROUP BY 2; /*This groups by 'source'-the second column referenced by your SELECT clause*/

I hope this helps!

Thank you yes  it helps!
"
91,SQL MAX statement with multiples columns?,"Get Help,SQL",aggregate-functions,2,"
Hello,
MAX is the statement where you want to figure out maximum value of one column,
In case you want to find maximum value but based on multiple columns, is there other statement you can use alternatively?
For example, instead of writing two queries as below, can you make one query to get maximum value in money_in AND money_out columns?

SELECT MAX(money_in)
FROM transactions;

SELECT MAX(money_out)
FROM transactions;

","
Hello @jiyeonjang7025175947, you could write a query referencing two columns:
SELECT MAX(money_in), MAX(money, out)
FROM transaction;

This query selects the maximum value from  money_in and money_out, from the table transactions.
I hope this helps!
"
92,How do you open a SQL program to practice with?,"Get Help,SQL",general,3,"
I watched the first video from Codecademy youtube channel and read the article that it came with. The article didn’t make much sense nor did the video. The article said something about installing Git-bash which I did but it didn’t clearly state what it was used for or how to even use it or even how it related to SQlite. The video that was related however wasn’t even using git-bash and it skipped A LOT of info. And for some reason they didn’t use git-bash the person used CMDER. Which I get it the person who wrote the article probably couldn’t write use this not that or whatever…
","
Hello @jlee860, welcome to the forums, I’m not sure exactly how to install SQLite, but if you just wanted a place to practise writing SQL queries, you could use repl.it: https://repl.it/~.

For now, just install SQLite and if you’re a beginner the best option is probably to download DB Browser for SQLite and use that to practice.
I’m not sure why Codecademy recommends the command line approach as the first way to interact with SQLite.  It’s useful to know for building apps/programs, or if you’re scraping the web and making your own database, etc…but if you just want to practice SQL or do data exploration, it’s a bit cumbersome.
"
93,DISTINCT question,"Get Help,SQL",general,3,"
Here is a code from an exercise:
SELECT DISTINCT b.browse_date,
b.user_id,
c.user_id IS NOT NULL AS ‘is_checkout’,
p.user_id IS NOT NULL AS ‘is_purchase’
FROM browse AS ‘b’
LEFT JOIN checkout AS ‘c’
ON c.user_id = b.user_id
LEFT JOIN purchase AS ‘p’
ON p.user_id = b.user_id
LIMIT 50;

My question is simple - does DISTINCT apply only to first column ‘b.browse_date’ or does DISTINCT apply to all columns I named 'b.browse_date, ‘b.user_id’, ‘c.user_id’ and ‘p.user_id’?
Many thanks!
","
The DISTINCT keyword applies across all of the columns as a whole, meaning that each row is distinct. Therefore, some rows may have the same value for some columns, but as long as at least one column value differs, then the whole row is considered distinct.

That makes absolute sense. Thanks for the explanation!
"
94,Where is SQLite living?,"Get Help,SQL",general,5,"
Hi everyone,
I am a WIndows user and just finished installing sqlite3 as part of the data science -> Go Off-Platform with SQL -> What is SQLite?
The article says to download the file from the website and then install it from the folder that is in the downloads/ folder. I did it all and successfully installed SQLite. So, where’s SQLite living at the moment? I don’t usually like to keep folders in my downloads folder and usually keep it tidy.
Having followed the article on how to install it, here’s the question - can I delete the sqlite folder inside downloads?
","
Hello @frankjimenez93270473, you can probably move the SQLite file out of the downloads.



 frankjimenez93270473:

So, where’s SQLite living at the moment?


I suppose to find the file you just search for it.

Ok that makes sense. I am sorry but very new to this world! I thought it was installed in a way that could cause an error if I moved the file to somewhere else!
Many thanks

As far as I know, as long as you keep all the files together, then it will work anywhere on your laptop.

That’s great. Many thanks.
"
95,Date query : is this a working shortcut?,"Get Help,SQL","queries,general",4,"
Hello everyone !
I’m currently working on the SQL course inside the Data Science Specialization. In a project, I stumbled into something that tickle my brain.
I’m asked to find all the users registered in a database born in the 80’s. The birth date is a TEXT data formatted like this ‘yyyy-mm-dd’ and the column is called birthday.
Given that the birthday is a TEXT, I figured the simplest way was to to use this query :
SELECT *
FROM users
WHERE birthday LIKE ‘198%’;
My thought on that would be that if the date of birth does not start with “198” the user is not born in the 80’s. The two answer given by Codecademy was to use the comparison operator and my solution is not included. So that leads me to my question : am I missing something there ?
I got no “wrong” results using my query and I figured that maybe I would miss some of the people born in the 80’s, but I don’t understand how this would happen. Anyone got a thought on that ?
Thank you for your help !
","
Hi @beta8158182664, welcome to the forums!
Can you please post a link to the exercise you are talking about?  On first glance it seems like your query would be perfectly valid in this case, but I’d like to test it out with the actual data.
Thanks!

Hi ! Thank you for your answer !
I’m talking about this exercise and the it is the second task :
https://www.codecademy.com/paths/data-science/tracks/sql-basics/modules/dspath-sql-projects-and-applications/projects/user-segmentation-prj
After asking my question I ran a query counting the number of results for both my query and Codecademy one, both having the same result (348 if my memory does not fail me).
Thanks again !

Hello @beta8158182664, as @el_cocodrilo said, your code is not wrong, and is a short cut. The possibility is that the project wanted people to use comparison operators,  or to demonstrate some aspect about comparison operators.
"
96,User Churn - Codeflix Step 5,"Get Help,SQL",multiple-tables,3,"
I’m having a problem with this project. Below is the link to my code. I’ve copied it verbatim from the project video. I even read the code backward to find the bug. It does not run – and I have no clue why. Someone please help.


gist.github.com


https://gist.github.com/codecademydev/153c9cf9083a3451aef77d1318239dd7
test.sqlite
WITH months AS (
  SELECT 
    '2017-01-01' AS first_day,
    '2017-01-31' AS last_day
  UNION
  SELECT
    '2017-02-01' AS first_day,
    '2017-02-28' AS last_day
  UNION
  SELECT
This file has been truncated. show original







Here is a link to the project.
","
I fixed the problem. Apparently when you are setting values in a CASE WHEN statement, you need the values placed in quotes (EVEN IF IT’S NUMBERS). That is the only thing I fixed – and it now works.


gist.github.com


https://gist.github.com/codecademydev/6e5bc2c9798e1bd9aa88caf299d2bc51
test.sqlite
WITH months AS (
  SELECT 
    '2017-01-01' AS first_day,
    '2017-01-31' AS last_day
  UNION
  SELECT
    '2017-02-01' AS first_day,
    '2017-02-28' AS last_day
  UNION
  SELECT
This file has been truncated. show original








The values don’t need to be in quotes, you just had a typo the first time.
Here is your original code, where you wrote “subcription”:

image1019×851 34.4 KB

And here is your revised code, with the properly spelled “subscription”:

image1007×774 31.7 KB

I tested it out in Codecademy and the code with “subcription” doesn’t run, even though it is after an OR statement.  However, once the typo is fixed it runs without the numbers being in quotes.
On another note, your logic should be changed from:
(subscription_end > first_day OR subscription_end IS NULL)

which checks if the subscription was active for the first day of the month, to this:
(subscription_end >= last_day OR subscription_end IS NULL)

which checks if the subscription was active for at least the whole month.
Happy coding!
"
97,How can I group by a column and also list all of the results from another column,"Get Help,SQL","multiple-tables,general",2,"
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-multiple-tables/lessons/sql-multiple-tables-code-challenge/exercises/inner-join-ii
so I am working on prt 3 of the link . The directions say, “Let’s see the titles of songs that were played by each user!” The directions say how to do it however it lists the user_id and not the actually person’s name.
I wanted to see if I could have it list the first_name, last_name, and every title of each song they have listened to.
My current code --------------
WITH chart1 AS (
SELECT *
FROM plays
JOIN users
ON users.id = plays.user_id
)
SELECT first_name, last_name, title
FROM chart1
JOIN songs
ON chart1.song_id = songs.id
ORDER BY first_name
returns
fname | lname | song1
fname | lname | song2
fname | lname | song3
fname2 | lname2 | song1
fname2 | lname2 | song2
fname2 | lname2 | song3
how can I make it return?
fname | lname | song1, song2, song3
fname2 | lname2 | song1, song2, song3
edit: well I found the GROUP_CONCAT() function online and it helps “SELECT GROUP_CONCAT(titles) AS …” however the data is all in 1 column now and I would prefer it to be song1 | song2 | song3|
I think that would make it a bit easier to see the most played song and do other functions later.
","
There’s no easy way to do a pivot table like that in SQLite.  You can in SQL Server and other larger-scale RDBMSs, but in my opinion it’s generally more trouble than it’s worth in SQL.  If you’re just looking to find the most played songs by each person, you could just add a column that counts the title, then group by first_name, last_name and title


Click for example code
WITH chart1 AS (
  SELECT p.user_id, p.song_id, s.title, u.first_name, u.last_name
  FROM plays p
  JOIN users u
    ON u.id = p.user_id
  JOIN songs s
    ON p.song_id = s.id
)
SELECT first_name, last_name, title, COUNT(title)
FROM chart1
GROUP BY 1, 2, 3
ORDER BY 3;


Alternatively, if you’re just looking for the most played song (regardless of user) you just select title and COUNT(title) and group by title.


Click for example code
WITH chart1 AS (
  SELECT p.user_id, p.song_id, s.title, u.first_name, u.last_name
  FROM plays p
  JOIN users u
    ON u.id = p.user_id
  JOIN songs s
    ON p.song_id = s.id
)
SELECT title, COUNT(title)
FROM chart1
GROUP BY 1
ORDER BY 2 DESC;


"
98,Problem with importing database to SQLite,"Get Help,SQL",general,4,"

SQLITE756×340 4.88 KB

So, I was trying to do the World Populations SQL Practice II in my terminal. This is the first project I try to do from my own terminal and I can’t seem to get it started. I have downloaded the files and the database is stored in db.sqlite, which I have already opened with DB Browser to check if everything was ok, and it was. As you can see from the image above, tho, I cannot import the database to sqlite3 in the terminal and I have no idea why. I have tried looking out for an answer online, but found none, so I hope you can help me here.
","
presumably you created a new empty db rather than opening your file

The only thing I did was moving the folder in which the db was into the sqlite3 folder. I have just eliminated the files and re-downloaded them to see if anything changed, but the problem remains.

You’re specifying a filename, db.sqlite, but are you specifying where that file exists? It’s not going to search your entire file system for a match, it’s going to open that file right here whether it’s there or not
"
99,Weighted AVG,"Get Help,SQL","aggregate-functions,general",3,"
So I am working with aggregate functions and thought that in the hacker_news project (https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-hackernews) step 11 should be to find weighted averages for each time. How would I do this? I tried many different things and just could not get it. Any help would be awesome.
","
Hi @fly900,
Welcome to the Codecademy Forums!
If you’re looking to weight the score by the proportion of total stories per hour, the math you will want for your weighted column will be score * (number of stories that hour / total stories).
While it seems like this should be simple to compute, you can’t reference one of your aggregate columns to create a new column in the same SELECT statement.  You need to alias a separate query with the WITH...AS syntax and then you can create a new column when you SELECT from that aliased table.
I’m not sure if you’ve covered that in your curriculum yet or if that comes later (it’s definitely used in the Warby Parker project), so if you can’t figure it out I’ve included some sample code below:


Click Here For Code
 WITH score_table AS(
   SELECT strftime('%H', timestamp) AS 'hour',
   Round(AVG(score)) AS 'score', COUNT(*) AS 'number_of_stories'
   FROM hacker_news
   WHERE timestamp IS NOT NULL
   GROUP BY 1
 )
 SELECT hour, number_of_stories, score, score * (number_of_stories / 4000.0) as 'weighted_score'
 FROM score_table;



@ el_cocodrilo
yep have not used, “WITH” yet. I did keep trying to reference the aggregate function that I used in the same SELECT statement as well (So that makes sense why it didn’t work) and then when I tried doing all the math at once it just got too messy and I couldn’t keep track. Thank you for the help!
"
100,Cross Join,"Get Help,SQL","multiple-tables,general,quiz",3,"
Can someone explain why I didn’t have to type out “Cross Join” for this question?
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-multiple-tables/projects/querying-tables
I’m very confused!!
","
You might go ahead and apply the CROSS JOIN between the sets to see the difference in the results.

Hi @raqueldevore,
Welcome to the Codecademy Forums!
Just so you know, when you post a link to an exercise, we get directed to our own instance of the exercise and can’t see your code.  If you want to ask code specific questions, feel free to copy and paste your code here using the preformatted text button to make it readable here in the forums:

"
101,Subquery in arithmetic expression in select statement,"Get Help,SQL",aggregate-functions,2,"
Why does the final column return 0?  Also is there a simpler way to accomplish my goal here (the activity wants me to hardcode the numbers which is dumb).

image2499×525 48.4 KB

","
Hardcoding numbers leads to a result the automatic checking routine can verify.
If you examine the data, you might be able to determine why the proportion returns 0.0.
Can you provide a link to the exercise to add context?
"
102,Arithmetic operation in SQL SELECT statement,"Get Help,SQL",general,3,"
Why below query result in difficult result?
Do you always need to put number in float formation in order to use arithmetic operation in SQL SELECT statement?
SELECT (517 + 309 + 304+ 282)/6366;
=> 0
SELECT (517 + 309 + 304+ 282)/6366.0;
=>0.22180333019164
","
Hi @jiyeonjang7025175947,
Welcome to the Codecademy Forums.
I actually answered this exact question earlier today.  Check out my answer here

oh Thanks a lot! am checking the answer and now it’s clear! 
"
103,'HAVING' filter option problem,"Get Help,SQL",aggregate-functions,3,"
Hello, everyone.
I’ve been walking through the tutorials and interactive projects fine until I start trying to combine what I’ve learned with the answer to the current query.
Here is a link to the project: https://www.codecademy.com/courses/learn-sql/projects/fakeapps
Specifically, my question relates to task 14.
The task is to find the average size of a start-up in each  location, with average sizes above 500.
This is the correct answer according to the ‘hints’ dropdown:
SELECT location, AVG(employees)
FROM startups
GROUP BY 1
HAVING AVG(employees) > 500;
Here is what I have typed to make the resulting table read clearer which produces no result:
SELECT location AS LOCATION, ROUND(AVG(employees), 2) AS EMPLOYEES
FROM startups
GROUP BY 1
HAVING EMPLOYEES > 500;
The ‘HAVING’ function doesn’t seem to be accepting the alias. Is this correct?
Thank you for any help with this.
Frankie
","
@tintin85,
The short answer is because in SQL, the HAVING statement is usually executed before the SELECT statement.  Thus, the alias hasn’t been created yet when it’s being called by the HAVING statement.  For more information on the (usual) order of execution, see my answer to this post.
However, the unusual thing here is that I was able to use an alias in the HAVING statement here on CC by using an alias that wasn’t the same is the original column name the aggregate function was called on:

image1151×183 16.4 KB

I didn’t expect this, as I thought MySQL was the only RDBMS that allowed aliases in HAVING statements (see this discussion).  My suspicion is that it may have something to do with SQLite’s query optimization (see this discussion if you are interested), but I’m not entirely sure.
Either way, to be entirely safe, you should stick to syntax in the hint (HAVING AVG(employees) > 500) as most RDBMSs won’t allow your column aliases in the HAVING statement.

Thank you, el_cocodrilo. This is invaluable information. I suppose the order would have been explained to me the further I get in the course, but it’s great to know this now.
I’ve read the comments in the links you provided and it’s interesting that SELECT is so far down the order of execution.
Thanks again!
"
104,Simple Questions Regarding RPA Customer Segmentation,"Get Help,SQL",,3,"
I have a question about one of the questions in the RPA customer segmentation project.
For this question:
The marketing department wants to send a  Born in the '80s email to the appropriate users.
Find the email addresses and birthdays of users whose  birthday  is between 1980-01-01 and 1989-12-31.
My first instinct was to write this code:
SELECT email, birthday
FROM users
WHERE birthday LIKE ‘198%’;
But the assignment says the answer is something like this:
SELECT email, birthday
FROM users
WHERE birthday >= ‘1980-01-01’
AND birthday <= ‘1989-12-31’;
Is there a fundamental difference between these two? The tables returned look identical to me. I don’t really get what the point of writing the code the way it is given is. I would really appreciate the insight into why the given answer was given, considering it seems a lot more convoluted than my answer, and kind of unintuitive.
https://www.codecademy.com/paths/data-science/tracks/sql-basics/modules/dspath-sql-projects-and-applications/projects/user-segmentation-prj
","
This is just a guess, but the answer as given,
WHERE birthday >= ‘1980-01-01’
AND birthday <= ‘1989-12-31’;
is easily understood without any context.

Thank you for your answer. I did use the same logic before checking the Hint.
SELECT email AS ‘Born in the ‘80s’, birthday
FROM users
WHERE birthday LIKE ‘198%’;
"
105,Please help me understand how SQL code works,"Get Help,SQL","multiple-tables,general",5,"
I am doing SQL Intermediate course. I am currently on Code Challenge 6
I do understand the conditions in this code, I don’t understand how it works. When I was learning Python, I just read from top to bottom. I cannot do that here. I get the concept but lack true understanding of how it works.
What is the order of operations? What does SQL do first, second, third, etc?
Does this loop work the same as for loop in Python? Does it go first with January through the whole code, then February, etc?
I hope my question is clear.
 SELECT premium_users.user_id,
 	months.months,
  CASE
    WHEN (
      premium_users.purchase_date <= months.months
      )
      AND
      (
        premium_users.cancel_date >= months.months
        OR
        premium_users.cancel_date IS NULL
      )
    THEN 'active'
    ELSE 'not_active'
  END AS 'status'
FROM premium_users
CROSS JOIN months;

Thank you!
","
This SQL query is essentially selecting 3 columns — two that already exist and one that is being created with the CASE statement.  Initially, you can think of it like this:

image691×376 14.6 KB

You are selecting the user_id column from the premium_users table, the months column from the months table, and your own newly-created status column.
The status column will contain what you told it to contain in your CASE statement logic.  So here, an entry will say ‘active’ in the status column when:

The value for purchase_date is less than or equal to the value of months; AND
EITHER
a. the value of cancel_date  is greater than or equal to the value of months; OR
b. there is no cancel date (cancel_date IS NULL)


If either or both of these conditions is not met, the entry will say not_active in that column.
A CASE statement is basically the same as an if-else statement in Python.

Hey! Thanks for your response! However, I still don’t understand it completely.
Is SQL’s order of operations like this:

it selects all the tables
it takes premium_user_id = 1
it takes months = 1
it goes through the case loop
repeats STEPS 3 and 4 for all 12 months
takes premium_user_id = 2
repeats STEPS 3 - 5
takes the next user and so on

The code in SQL is written in a way that it doesn’t show what happens and in what order. Or at least I see it like that. This order of operations is the thing I don’t get. Thanks!


A quick Google search for “SQL order of operations” or “SQL order of execution” will turn up numerous resources showing essentially this same order.  I encourage you to check them out.
The one thing from your query that is missing from this list that is the CASE statement.  These get executed at the at the same time as the statement they are part of.  In your case, that is SELECT.  In another query, your CASE statement might be somewhere else, like in the WHERE or GROUP BY statements, and be executed earlier than here.
So, your query would go in this order:

FROM table_1 CROSS JOIN table_2

SELECT column_1, column_2, column_3

However, since your third column, status, doesn’t exist, this is where your CASE statement is executed to create and then select that column using essentially steps 2 – 8 that you listed above.



Hope this helps break it down a little!

This is most helpful! Thanks a lot! 
"
106,Working with your own data,"Get Help,SQL",general,3,"
Hello!
I have recently completed the SQL course and am now looking for ways to put my new skills to work in my company. My question is: how do I get third party or my own data into SQL to begin with?
I understand that for many firms, this starts in SW engineering and data analysts simply work with the existing data. That aside, what are good ways to create data bases in SQL / convert data to it to work with?
I have read the Medium article ‘Congrats you just finished Codeacademy’s SQL course… now what?’ which however seems to be concerned more with finding more ways to practice vs. actually putting the skills to work with my own data.
Thanks in advance!
","
I think this depends on several things.  For starters:

Do you already have access to data (in any form) from your company?
If not, are you looking to:
a.  Start your own database from scratch (i.e., manually input it); or
b.  Find data elsewhere to use for your company?
Do you have experience coding in any other language?

Option 1: use your company’s existing data
Starting with number 1, if you already have access to data then you are halfway done.  Many companies already collect and store data in databases.  If the database your company uses is a relational database, chances are you can use the SQL skills from these courses to query that database.  Even if that database is a different flavor of SQL (MySQL, PostgreSQL, etc…) most of the syntax you know will work, and you can look up the rest on the fly.
If your company’s data is in Excel sheets or CSV files, you can easily import those into a SQL database as different tables.  There are many ways to do this, including using the command line interface (CLI) (see docs here) or a GUI program such as DB Browser.
Option 2: Build your own database from scratch
If you don’t have data and you are thinking of starting a database from scratch by manually building one, you can again do this using either CLI or GUI options.  You may also want to review the very beginning lessons of the Learn SQL course, so you can refresh yourself on how to create a table.
Option 3.1: Find external data
If you are looking to find data elsewhere that may benefit your company, you can first look if there are any database (.db) files or CSVs out there with the data you want.  If there are, you can import those as tables like I mentioned above.  If you can’t find any, but you’re looking to extract other data from the web, you are only limited by your knowledge of other programming languages and your own creativity, because…
Option 3.2: Leverage your coding prowess to extract data from the web
If you have experience with another language (Python, Javascript…even VBA in Excel!) you can scrape your own data from the internet and store it all in your own SQLite database.
Hope this helps you get started!

Thanks a lot @el_cocodrilo! Super helpful, in particular the piece on CSV --> SQL. Will also get going on the scraping!
Cheers
"
107,Finding it extremely challenging to Part 6 in Analyze Real Data (Part 4 was easy),"Get Help,SQL",general,5,"
Good morning,
I’m reaching out for some advice on this course - Analyze Real Data.
I’ve got stuck at points for a while, usually typos or simply wrong, but not far off, but it all seemed relatively easy/immediate. The shock I got going into real-world challenges in part 6 of the above course was big, it seemed not only extremely difficult but far beyond what I was previously taught in the previous challenges and simply too much of a step up.
So what I am asking for is what to do to bridge that gap? I’m I missing something obvious or will I just have to go back to the old challenges and just keep repeating them.
","
Actually I had the same thing back in the day with python (2.7 back then), It was called
“student becomes the teacher”, I actually kept trying to do it, but I wasn’t able to do it, none of them.
I skipped all of these (I think there was 9 or 10 maybe), I think why you and I and anybody who has or had the same problem couldn’t pass these lessons, is because all along we were told what and how to do, even though there were smaller tests and such, we couldn’t pass these tests, because we didn’t really get any advice and we were alone.
The projects itself aren’t that hard, we know every statement, keyword and built-in functions for them, it’s just we aren’t able to put it together  because we weren’t practicing for it.
So my advice is that you should go and make something on your own that you want and then come back and do these tests.

Thank you, this sums the situation very nicely.
I will try using DB Browser for SQ Lite for a while which is very helpful and friendly at guessing what you want and where you want it along with the correct code.
I do feel that the part 4-6 needs review and expanding for people to climb up a bit before being let loose, I have no problem taking initiative and trying to learn with the tools given, but I seriously struggled to get through 6 without asking for the code solution as the hints and description of what was wanted and was simply not good enough.
They did the same thing with command prompt course that was recommended by Codecademy before I started SQ modules, I got to a certain point in it then it jumped too far, again hints that were really not good enough.
I’m off to create some random tables and try and improve my knowledge freeball style so I can actually progress to Python.
I don’t want to skip to Python without completing the SQL first as it may mean I am simply not good enough at SQL? or that it may impact my Python learning?




 beta3952103217:

I don’t want to skip to Python without completing the SQL first as it may mean I am simply not good enough at SQL? or that it may impact my Python learning?


I understand, even though SQL doesn’t really have much in common with python, but finishing one first and then moving onto the next one is a good idea.
I’d say complete the one you want to complete more, then move onto the other, because if you continue the one you don’t want to do that much, then you won’t be able to concentrate that hard.
I do the exact same thing with my projects, but a tip, to compare the two courses I think you should think of the problematic course before the problem so it won’t affect your opinion about it.

Thanks for the help, it was feeling a bit lonely after I discovered the gaping gap between part 4 and 6 and wondering how on earth do I traverse this gap alone.  Now with your help and guidance I think I will now move on to the pressing matter of learning Python, as SQL was always part of the goal not the end goal, as you said, if it’s not a priority and move on to what is and don’t get stuck on the thing that isn’t.
Also to be honest DB Browser can do it all for me in many respects for SQL.
"
108,Commas and semicolons in SQL,"Get Help,SQL",general,3,"
Hi!
I’m a bit confused about commas in SQL. I know i have to put a semicolon to close a statement but i’m not sure where use commas.
In this picture i have an example, i don’t understand why i have to use the comma after name.
Thanks in advance,

Screenshot_2020-04-23 Writing Queries Codecademy650×796 13.9 KB

","
Hello,
I believe there’s a comma after name because the case you created is still part of the SELECT statement. You can think of the Review column you created with the case statement as another column you are selecting in SQL

I think if you go on a bit further you’ll see why when you use that vs DISTINCT.
"
109,X-Press Publishing Project. Errors in step 2,"Get Help,SQL",general,1,"
Hey there!
I have started this project, and I can’t pass over step 2, because I get an error when I try to run npm install.
Later I tried to start a new database with sqlite3, and I couldn’t create it.
Can someone help me?
Thank you.
These are the errors:
sqlite3@3.1.13 install C:\Users\molij\Documents\Web Development\X-press-publishing\capstone-project-1-x-press-publishing\node_modules\sqlite3

node-pre-gyp install --fallback-to-build

node-pre-gyp ERR! Tried to download(403): https://mapbox-node-binary.s3.amazonaws.com/sqlite3/v3.1.13/node-v72-win32-x64.tar.gz
node-pre-gyp ERR! Pre-built binaries not found for sqlite3@3.1.13 and node@12.16.2 (node-v72 ABI) (falling back to source compile with node-gyp)
node-pre-gyp ERR! Tried to download(undefined): https://mapbox-node-binary.s3.amazonaws.com/sqlite3/v3.1.13/node-v72-win32-x64.tar.gz
node-pre-gyp ERR! Pre-built binaries not found for sqlite3@3.1.13 and node@12.16.2 (node-v72 ABI) (falling back to source compile with node-gyp)
gyp ERR! find Python
gyp gypERR! find Python Python is not set from command line or npm configuration
gyp  ERR!ERR! find Python
find Pythongyp Python is not set from environment variable PYTHON
gyp ERR!ERR!  find Pythonfind Python Python is not set from command line or npm configuration
checking if “python” can be used
and then it continues…
",
110,"Maybe the wrong forum, but Create A Table in the Introduction","Get Help,SQL",general,4,"
I’ve just started (yesterday), and I’m working on the “Create A Table” bit. I can’t move on from the first slide/set of instructions.
I started by creating my own table but followed the guidelines, and when that was complete I couldn’t move on. I cleared my own code out and copied the code used in the hints EXACTLY, assuming the checker was looking for specific things. No dice.
I’ve noticed that in the results panel it shows a schema from the “celebs” table in the initial project. I’ve tried to delete that table, but being new I’m not experiencing any success with that.
How do I move on to step…2?
","
Hello @drewphoria welcome to the forums. Could you please provide a link to the excise and your code formatted using this:.

Link
I’m not sure what the format you were trying to show is, but the code is below.
#CREATE TABLE friends (
id INTEGER,
name TEXT,
birthday DATE
#);
#INSERT INTO friends (id, name, birthday)
#VALUES (1, ‘Jane Doe’, ‘1990-05-30’);
#INSERT INTO friends (id, name, birthday)
#VALUES (2, ‘Karen Krabapple’, ‘1965-08-15’);
#INSERT INTO friends (id, name, birthday)
#VALUES (3, ‘Patty Bouvier’, ‘1949-12-01’);
#UPDATE friends
#SET name = ‘Jane Smith’
#WHERE id = 1;
#ALTER TABLE friends
#ADD COLUMN email TEXT;
#UPDATE friends
#SET email = ‘jane@codecademy.com’
#WHERE id = 1;
#UPDATE friends
#SET email = ‘karen@codecademy.com’
#WHERE id = 2;
#UPDATE friends
#SET email = ‘patty@codecademy.com’
#WHERE id = 3;
#DELETE FROM friends
#WHERE id = 1;
#SELECT * FROM friends;

The problem is that you are working on a project. To complete tasks in a project, you have to manually check the boxes. So whether your code will suffice is up to you.
"
111,Using MAX() and AVG() in the same query?,"Get Help,SQL","aggregate-functions,general",2,"
exercise: https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates/lessons/aggregate-functions/exercises/avg
I want to query “Which category has the highest average downloads?”
Similarly, how can I submit one query that lists the averages of all the distinct categories in order from highest to lowest?
My guess for the first query was the following, but it yielded nothing:
SELECT category, MAX (AVG(downloads))
FROM fake_apps;
Thank you!
","
Hello @coderelinquisher welcome to the  forums. For the second query, I think something like this might work:
SELECT category, AVG(downloads) as col2
FROM fake_apps
ORDER BY col2 DESC;

As for the first query, you could try using an aggregate table (using WITH).
"
112,Page wont load,"Get Help,SQL",multiple-tables,4,"
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-multiple-tables/lessons/multiple-tables/exercises/intro
The above link wont load for me no matter how long I wait. I’ve refreshed at least 20 times. Is it just my computer that won’t load this page?
","
Hello, what browser are you using? I think I remember reading that Codecademy is best supported on Chrome and Firefox, I think. I can use Safari very well, also.

Hi there.
It seems to be working ok for me.
Can you try these troubleshooting steps and see if they help?




Troubleshooting Guide Support


    There are a number of things you can try if you are having trouble loading, viewing, or submitting exercises. 
Reload the web page
This takes care of a majority of problems. 
Check your Internet connection.
We recommend that you have a reasonably fast connection to the internet. Any broadband connection, like DSL or cable, should be sufficient. 
If you are at work or school or using a shared wireless network, there may be a firewall or proxy that is interfering with your connection to Codecademy…
  

Thanks. 

Thanks, I got it to work. I use Safari and it’s always worked no problem. But for some reason the other day it just wouldnt load. But eventually I got it to work. I don’t know if it was an issue on CC’s side or mine but I do know at the same time my youtube was working just fine, my Netflix was working just fine. I have 500mbs down / 300mbs up internet so its fast enough for gaming. Anywho… it works now miraculously.
"
113,Create Trigger,"Get Help,SQL","queries,general",1,"
I’m trying to create a trigger fo a table called publisher. The trigger is supposed to control and adjust the year everytime someone wants to ad a post to the table, if the year is after the current year (in the future) it´s supposed to change to current year. I also have to supplement with a trigger for everytime the table is updated, otherwise someone can change the year for a current post.
This is what I’ve got (but it’s not working and I don’t know why…):
CREATE TRIGGER publisher_BEFORE_INSERT
BEFORE INSERT ON publisher FOR EACH ROW BEGIN
declare current_year integer;
set current_year = year(sysdate());
if NEW.Founded > current_year then
set NEW.Founded = current_year;
end if;
END
CREATE TRIGGER publisher_BEFORE_UPDATE
BEFORE UPDATE ON publisher FOR EACH ROW BEGIN
declare current_year integer;
set current_year = year(sysdate());
if NEW.Founded > current_year then
set NEW.Founded = current_year;
end if;
END
",
114,Unable to execute sqlite3.exe with GITBASH,"Get Help,SQL",general,4,"
At the moment, i am learning SQL on codecademy. The tutorial recommends me to download GITBASH to use as terminal and SQLITE3 to install SQL on my PC. However, i tried to execute sqlite3.exe with an SQL exmaple data on GITBASH but it seems that the terminal keeps running and showing no result. Does anyone have any suggestion to resolve this issue?
","
I have the same problem, no response.

Hey luissurez.
You need to change path and set some path default stuff to let git bash execute sql.
However, you have to use the database software to use sql more effectively anyway.
Please go to this link.
https://www.codecademy.com/articles/setting-up-db-browser
Install the db browser and perform the analytic on the software.
Wish this help you, pal.

Thank you!
Here’s another solution in case you want to use SQLite.




Trying to run SQLite in GIT Bash for Windows SQL


    If you haven’t set up your Git Bash to run it using an alias yet, you will have to navigate to the directory it is in and then use the command winpty ./sqlite3.exe to run it.  MinGW (Minimalist GNU for Windows) typically needs to use winpty to communicate with Windows console programs. 
To avoid having to type this each time, set up an alias in your Git Bash using the Codecademy instructions here for the time being. 
Because I see issues with local SQLite setup/use on here a lot, I’m currently w…
  


"
115,Trying to run SQLite in GIT Bash for Windows,"Get Help,SQL",general,3,"
Hello everyone!
I’ve started to use GIT Bash to be able to push my code into GitHub but I’m unable to run SQLite.
Normally on CMD prompt, I would type this for example:
sqlite3.exe Desktop/SQL/db.sqlite

And started doing my queries. However, I try to run SQLite in GIT Bash and get this:
luijan@laptop_luis MINGW64 /
$ ./sqlite3.exe
bash: ./sqlite3.exe: No such file or directory


If I cd to the Directory where the .exe is and try to run it nothing happens.
luijan@laptop_luis MINGW64 ~/Desktop/SQL
$ ls
acs-1-2015.sqlite       population_queries.sql        sqldiff.exe*
acs-1-year-2015.sqlite  population_queries_final.sql  sqlite3.exe*
db.sqlite               simplefolks.sqlite            sqlite3_analyzer.exe*

luijan@laptop_luis MINGW64 ~/Desktop/SQL
$ ./sqlite3.exe



I don’t know if I have to create a Path for it or how to solve this. Please help me out, thanks!
","
If you haven’t set up your Git Bash to run it using an alias yet, you will have to navigate to the directory it is in and then use the command winpty ./sqlite3.exe to run it.  MinGW (Minimalist GNU for Windows) typically needs to use winpty to communicate with Windows console programs.
To avoid having to type this each time, set up an alias in your Git Bash using the Codecademy instructions here for the time being.
Because I see issues with local SQLite setup/use on here a lot, I’m currently working on a blog post thoroughly covering the topic and will post a link in these forums once I’ve put it on Medium.

Big thanks El Cocodrilo! Nailed it.
"
116,Showcasing Pro Projects,"Get Help,SQL",general,1,"
Hey everyone! I’m starting my first Pro SQL project and I have a couple general questions.

If I’m interested moving in to a career in DS, is it worth it to get these projects uploaded somewhere public (Github) to show to employers? Be honest, I know I’m early in.
How do I get the projects I complete to my Github account in a way that I can show employers?

Thanks!
",
117,Unable to see tables/data in SQL course (Web Development Path),"Get Help,SQL",,3,"
https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/webdev-sql-manipulation/projects/learn_sql_create_table
and
https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/webdev-sql-aggregates/lessons/aggregate-functions/exercises/intro
I’m not having an issue with writing the SQL querys, persay. I’m having an issue where I can’t see the tables and the data on the right pane. I’ll include a screenshot with this post. I write the query and click the run button, and nothing shows up. I get a green check mark saying I wrote the query correctly. So, I’m not certain what’s going on here.

image.png1852×873 93 KB


e6b4661e5fe71dc5ef53c2f33787c9c8d58d8aab.png1852×917 61.9 KB

My browser is Google Chrome. Version 71.0.3578.98
I’ve also tried it in edge, same issue.
I’ve tried to clear my cookies and temp internet files.
Can anyone help me figure out why I can’t see the tables/data? Thanks.
","
im having this same issue

Hi! Did you solve this issue?
"
118,Detailed explanation of the code,"Get Help,SQL",,22,"
This is how I understood it.
The inner query works out the relative position of an id value by using COUNT(*) to get how many id values are below it.
As an example, just focusing on the inner query and manually adding the id as “815” and the carrier  as “AA”
SELECT carrier, id
	FROM flights
	WHERE id < 815 
	AND carrier = ""AA""
	ORDER BY id;

You get this returned;
carrier		id
AA			75
AA			194
AA			361
AA			391

id “815” is the (5th) next value, using “<=” would be better;
SELECT carrier, id
 	FROM flights
	WHERE id <= 815 
	AND carrier = ""AA""
	ORDER BY id;

You get this returned;
carrier		id
AA			75
AA			194
AA			361
AA			391
AA			851

If you then apply COUNT(*) you get its (relative) sequence number
SELECT carrier, id, COUNT(*)
 	FROM flights
	WHERE id <= 815 
	AND carrier = ""AA""
	ORDER BY id;

carrier		id		COUNT(*)
AA			815		5

In the example they used “<” and it gives a value one less, hence the “+ 1” is added to fix the sequence otherwise it starts at zero.
SELECT carrier, id, COUNT(*) + 1
 	FROM flights
	WHERE id < 815 
	AND carrier = ""AA""
	ORDER BY id;

carrier		id		COUNT(*) + 1
AA			391		5

The inner query is just to work out the sequence number, the outer query iterates through the whole table and feeding its current “row” id value (and carrier) into the inner query to find sequence value COUNT(*) for the id/carrier.
","
I just don’t understand what this question was ? "" Using the same pattern, write a query to view flights by origin, flight id, and sequence number. Alias the sequence number column as  `flight_sequence_number ."". I had to get the solution to see what the code was doing. I seriously did not follow this chapter so far. There should be better examples.
Thank you
Sivarama Krishnan (kvsrkrishnan)

I had the same problem, and have been having similar problems with the next few lessons as well.

SELECT origin, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.origin=flights.origin) + 1
AS flight_sequence_number
FROM flights;
Here we query based on origin and id rather than carrier and id as shown in the example.

But what does that achieve? What are you trying to query here? The Correlated subqueries are used for row-by-row processing, so for every orgin and id in the outer query… what are you executing in the inner query?

This is a very bad example of a Correlated subquery.  It’s too complicated (because of lack of explanation and level of difficulty )to get the point across.  Copy/pasting and tweaking the code to arrive at the solution is not practical as in the real world there’s no such luxury.
I think the SQL lesson falls apart in this chapter; everything else is very well explained and makes sense.

How does the query know that the ID for each carrier should be sorted.  When I run
SELECT carrier, id
from flights
where carrier=‘MQ’
LIMIT 4;
I get
|MQ|17107|
|MQ|7869|
|MQ|2205|
|MQ|14979|
How does the query know to tag the lowest ID in the entire set as 1?
For example, carrier MQ, the first ID is 1878 and there are a total of 32 IDs. So 1878 is less then 31 IDs, why is it tagged as “1”.
|carrier|id|flight_sequence_number|
|MQ|1878|1|
|MQ|2205|2|
|MQ|3068|3|
I think I understand but I am getting the inverse.  If I count the number of times the Lowest ID is less than the rest of the IDs and Add 1, so I get the highest number, and the inverse for the highest number which is Count of 0 since it is never lower than any ID, so plus 1 gives me 1. The query returns the opposite where the highest ID has the highest count and the lowest ID is a count of 1… Why?

I just figured it out now. I reversed the tables I was comparing. It looks at the outer table ‘flights’ and for each ID, it sees if it is BIGGER than the inner table ‘f’. So for the smallest ID in ‘flight’ it is NEVER BIGGER than any ID in ‘f’ so the count is 0. We then ADD 1 to it and get it the sequence number of 1. And so on and so forth… and that is how the world works

Can someone tell me why we’re adding 1? I’m losing my mind trying to figure this out.

Let’s try to think this through, and hopefully be able to relate back to the narrative. I’m going in blind right now, since I don’t have that in front of me, only a post from above.
Consider,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier)

is a number. The adding of one must be creating an incremented value, suggestive of extending a sequence.
We need to refer back to the narrative for some hint as to why the above is implemented, but at least we’ve given it some thought, to this point. Now to find the real explanation!

Agree, this exercise doesn’t make any sense… Just put ‘origin’ instead of the ‘carrier’

Hi,
First of all, I think your message helped me understand why we were incrementing by 1, which felt really weird to me, so thank you.
This whole lesson about subqueries has been a mess, no explanations at all anywhere, but I think your code does the exact same thing. I couldn’t find anything different when comparing the results.

The “f.id < flights.id” part of the code did not exactly make sense to me. It was not exactly clear why we need to compare the same column from two identical databases.
After searching online and looking over the code several times, I realized that the goal of code is  creating “flight sequence number” based on the id. With the same carrier, the flight with the smallest id would have “1” as the flight sequence number, the flight with the second smallest id would have “2”, etc. So “COUNT (*) … WHERE f.id < flights.id and f.carrier = flights.carrier” just counts how many flights with the same carrier have smaller id numbers.
This video provides a nice explanation using a different example, which might help understand the code better. https://www.youtube.com/watch?v=fwhSEqMnbgI

If we assume that we have just five flights and we want to count them we can do this in two ways:
I)
1<1 - FALSE count is 0
1<2 - TRUE count is now 1
1<3 - TRUE count is now 2
1<4 - TRUE count is now 3
1<5 - TRUE count is now 4
To have an accurate number of flights we have to + 1,
II)
or to just write a logical expression with <=:
1<=1 - TRUE count is now 1, in that situation, we don’t have to add 1 at the end.
So in this example,
we can just write logical expression without plus 1:
WHERE f.id <= flights.id
AND f.carrier = flights.carrier)
Hope it helps! 

I don’t understand much about Correlated Subqueries II , why plus 1 in this select.

Very good clarifation from nessie2015 couple post earlier. If you just past whole example code and use ORDER BY 1,3, you can see very clearly how this query works.
I think the most unclear thing here is how loops use parameter from outer queries. Inner query looks like basic loop, where outer query gives parameter (id) and inner query does own stuff this based on it. What is not well covered in these courses is how SQL references work.
In subquery f.id and f.carrier goes through all rows. Flight.id is constant during every loop, because it refers to outer query. After looking is done like nessie described, flight.id flight.carrier moves to next row. Then same procedure runs again and correct number found.


So the way we’re creating the sequence number is to make a statement that is always false equal to zero and then add 1 to it? And because this loops through the inner table to do it it generates a sequence number one larger each time it assess?
Am I reading this right? what a weird and unexplained step.

This is totally the explanation that Codecademy need to have in the lesson and never bothered with.  
Nice one, @nessie2015 ! Especially with the example and the added point that they could just be using <= rather than adding 1 all the time.

your comment is very helpful, especially youtube link:) Thanks!

@nessie2015 you’re a lifesaver!! 
"
119,New to codeacademy and seeking for help~,"Get Help,SQL",quiz,3,"
Hi all,
Nice to meet you! I am Hoffman and just new to here, and studying SQL through the data science path. However, I think the exercise is not enough for me to strength my foundation of writing query / algorithm, so may I know if any chance to get extra exercise to practice? I am now stucking at the churn rate. Thanks!
Cheers,
Hoffman
","
Hi there, welcome to the forums!
As well as the projects and tasks which form part of the SQL content in the Data Science path, if you go to your dashboard and click “Practice” at the top there are a couple of SQL focussed Challenge Projects which will put you through your paces applying what you’ve learned on SQL. 

Hello @kalokchau6005741371, as well a what @thepitycoder said, if you want to have extra practise, and more in depth-lessons (with projects, etc.) then you could also take the SQL stand-alone course.
"
120,Error setting up sqlite,"Get Help,SQL",general,3,"
Hello,
I am trying to install sqlite on windows following the instructions on this page: https://www.codecademy.com/courses/learn-sql/articles/what-is-sqlite
However, I keep getting an error message saying “command not found”.
IMG_60934032×3024 3.65 MB

","
not sure why you’re trying to run a windows application from mingw
you could, but not sure what that accomplishes
if you want to run it from mingw install it there or if you want to run it from windows then… go double click the exe file

If you’re still looking to run SQLite from your git bash so you don’t have to open up different applications, etc., it looks like when you unzipped the download you extracted your files directly into your Temp folder.
You should be able to run it from mingw by using the cd command to change directories into your Temp folder (cd Desktop/Temp).  From there, the command winpty ./sqlite3.exe should open up SQLite.
After that, follow the instructions to setup an alias so you don’t always have to navigate to that directory to run SQLite:

 press Ctrl + c (or type .exit) to exit SQLite
 Run the following commands:

echo ""alias sqlite3=\""winpty ${PWD}/sqlite3.exe\"""" >> ~/.bashrc
source ~/.bashrc

Double check that the alias works by returning to your home directory (cd ~) and then running the command sqlite3 from there.

After that, you should be able to run SQLite from your git bash, regardless of the directory you’re in.
"
121,Marketing Attribution,"Get Help,SQL",general,3,"
I have a slight misunderstanding with the Marketing Attribution CoolTshirts project.
In task number 6, where we count how many last touches on the purchase page is each campaign responsible for, the solution provided by both the hint and the walkthrough puts the required WHERE clause to the first subquery counting last touches, code looking like this:

with last_touch as (
select user_id, max(timestamp) as ‘ts’
from page_visits
where page_name = ‘4 - purchase’
group by 1
),
lt_utm as (
select lt.user_id, lt.ts, pv.utm_campaign, pv.utm_source
from last_touch lt
join page_visits pv
on lt.user_id = pv.user_id
and lt.ts = pv.timestamp
)
select utm_campaign, utm_source, count(*)
from lt_utm
group by 1, 2
order by 3 desc
;

My solution was a little bit more cumbersome and apparently has a flaw, which I can’t figure out. I add the page_name column to the join subquery and the neccessary WHERE clause to the end of the query, code looks like this:

with last_touch as (
select user_id, max(timestamp) as ‘ts’
from page_visits
group by 1
),
lt_utm as (
select lt.user_id, lt.ts, pv.utm_campaign, pv.utm_source, pv.page_name
from last_touch lt
join page_visits pv
on lt.user_id = pv.user_id
and lt.ts = pv.timestamp
)
select utm_campaign, utm_source, count(*)
from lt_utm
where page_name = ‘4 - purchase’
group by 1, 2
order by 3 desc
;

Result is nearly the same, difference is only one user in each of the top three campaigns missing in my solution. I understand that the provided solution is the correct one, but I don’t understand why.
Can anyone explain, where does my solution lose these three users?
Thanks.
","
I believe that since there are  users  that after purchasing an item viewed the website again thier max(timestamp) is no longer the purchase page_name. And since the where statement is processed before the group by statement that sale is still counted, since they filter on only looking at page name = ‘4 - purchase’

yep that is the case:
WITH buyers AS
(SELECT user_id as buyer, page_name as buyerpage
FROM page_visits
WHERE page_name = ‘4 - purchase’),
last_activity AS
(SELECT user_id, max(timestamp),  page_name as last_activity
FROM page_visits
GROUP BY 1),
aggregation AS
(SELECT *
FROM last_activity
LEFT JOIN buyers
ON
buyers.buyer = last_activity.user_id)
SELECT user_id, last_activity, buyerpage
FROM aggregation
WHERE last_activity != ‘4 - purchase’ AND buyerpage = ‘4 - purchase’;
"
122,AS statement - where do we really need it?,"Get Help,SQL","manipulation,general",2,"
Both of the codes listed below give an alias to the column name.
So where do we really need the AS statement? Where is it required?
SELECT COUNT(*) 'User Count', 
 plans.description 'Plan', 
 plans.price 'Price Category'
FROM premium_users
JOIN plans
  ON premium_users.membership_plan_id = plans.id
GROUP BY 2;

SELECT COUNT(*) AS 'User Count', 
 plans.description AS 'Plan', 
 plans.price AS 'Price Category'
FROM premium_users
JOIN plans
  ON premium_users.membership_plan_id = plans.id
GROUP BY 2;

","
I’m not 100% certain, but in the majority of cases I think it’s optional.
For the sake of a few extra keystrokes, and the increased legibility of the SQL (imho) it provides, I’d opt to use it unless the DB you’re working with doesn’t like it.
"
123,Learn Manipulation - Create a Table Project unable to add VALUES after INSERT INTO statement,"Get Help,SQL",manipulation,5,"
I am new to codecademy so firstly hello.
Secondly, I am trying to complete the ‘Create a Table’ project and I can’t get past steps 2 and 3. I have reset the project a handful of times.
In step 1, I can create the ‘friends’ table as I see it in the database schema. I then try and add the Jane Doe value, but alas my values are not needed.

Screenshot 2020-04-06 at 17.13.151396×644 64.7 KB

Any help is much appreciated. I am sure that I have made a simple error but I can’t see it.
","
Hi - welcome to the forum!
I am not sure whether it’s the intended behaviour, but you need to write your INSERT statement underneath the code which declares your table.
If you remove the CREATE TABLE statement, it doesn’t seem to work…
Like I said, I am not sure whether this is intended. I’ll try and find out. 

@thepitycoder - Thank you. I have now completed the project. The only way I got it to work was to have all statements in the editor otherwise if I ran (Saved) them after each task, nothing was returned.

Yeah…
It took me a number of attempts before I figured that out… 

Thanks for the quick answer!
"
124,MAX Aggregate with AND statement,"Get Help,SQL","aggregate-functions,general",3,"
Hello,
I’m doing the project “CALCULATE AND SUMMARIZE DATA - Trends in Startups”
Trying to combine MAX with AND - and can’t get it running.
What’m I missing here?
SELECT * FROM startups
WHERE raised = (SELECT MAX(raised) FROM startups)
   AND stage IS 'Seed';

","



 dev2616626458:

SELECT * FROM startups


Shouldn’t this have something to do with MAX(raised)?  Don’t you think it would have been better to have the first WHERE condition here instead?



 dev2616626458:

raised = (SELECT MAX(raised) FROM startups)


Do you really need this? Is this the correct way to write an SQL query? Shouldn’t this be what you are selecting?



 dev2616626458:

SELECT MAX(raised) FROM startups


Is this correct syntax? Have you not already said what table you are querying?



 dev2616626458:

AND stage IS ‘Seed’


Do you need an IS or would an = be better?
I will post the code hidden. Please try to work it out before you check my code.


Working code; only if needed
select max(raised) from startups where stage = 'Seed';

I hope this helped!

Thanks,
I wanted to see the entire row, so changed the code to this one
SELECT *, MAX(raised) FROM startups
WHERE stage IS 'Seed';

Appreciate the help 
"
125,Someone please let me know where is the error in my code,"Get Help,SQL","multiple-tables,general",2,"
WITH months AS
(
SELECT
‘2017-01-01’ AS ‘start_date’,
‘2017-01-31’ AS ‘end_date’
UNION
SELECT
‘2017-02-01’ AS ‘start_date’,
‘2017-02-28’ AS ‘end_date’
UNION
SELECT
‘2017-03-01’ AS ‘start_date’,
‘2017-03-31’ AS ‘end_date’
),
cross_join AS
(
SELECT *
FROM subscriptions
CROSS JOIN months
),
status AS
(
SELECT id, first_day AS month,
CASE
WHEN (segment = 87) AND
(subscription_start < first_day)
AND (
subscription_end > first_day
OR subscription_end IS NULL
) THEN 1
ELSE 0
END as is_active_87,
CASE
WHEN (segment = 30) AND
(subscription_start < first_day)
AND (
subscription_end > first_day
OR subscription_end IS NULL
)  THEN 1
ELSE 0
END as is_active_30,
CASE WHEN (segment = 87) AND
(subscription_end BETWEEN first_day AND last_day) THEN 1 ELSE 0
END AS is_canceled_87,
CASE WHEN (segment = 30) AND
(subscription_end BETWEEN first_day AND last_day) THEN 1 ELSE 0
END AS is_canceled_30
FROM cross_join
)
SELECT *
FROM status
LIMIT 10;
","
@beta0470961732 Welcome to the forums! Please use this article:How do I format code in my posts? to format your code.
"
126,How to set up SQLite,"Get Help,SQL",general,4,"
In what is SQLite session, I cannot run SQLite in Bash. when I search the upzipped file in Bash, it stated No such file or directory. I cannot find sqlite 3 in Bash.
Can anyone help me set up Bash and SQLite.
Thank you for your help.
","
Hi @method5770055128
There’s a quick start guide on the SQLite documentation.


thank you for your help
I will try it again 

Hi @method5770055128 - were you able to set up SQLite?  I think I am running into the same issue as you, likely because it seems to be a newer version of SQLite than in the Codecademy instructions.
"
127,How to Apply 2 AND Operators Correctly?,"Get Help,SQL","queries,general,quiz",3,"
Hello,
I’m doing the New York Restaurants Project.
Playing around with the queries, and would like to see all the Chinese restaurants, with $ price, where health isn’t NULL.
This is what I wrote, and it works perfectly when there’s just 1 AND operator (doesn’t matter if price/health), but when there’re 2 - nope.
SELECT *
FROM nomnom
WHERE cuisine = 'Chinese'
AND price IS = '$'
AND health IS NOT NULL;

Where am I wrong?
Thanks 
","
Hi there.



 dev2616626458:

AND price IS = '$'


You don’t need the IS in this line. The = on its own is fine to say ""where price is $"".




 dev2616626458:

This is what I wrote, and it works perfectly when there’s just 1 AND operator (doesn’t matter if price/health), but when there’re 2 - nope.


Thanks for the prompt reply!
"
128,Project Gold Medal Metrics - Extremely Slow DB Startup (30 mins),"Get Help,SQL",general,1,"
I am working on the below project. I have downloaded the solution code - when running node server.js, I immediately get the data loaded message as intended.
The problem comes when I open index.html, the data does not populate on the webpage. After much troubleshooting I found that if I wait (nearly 30 minutes) and refresh the webpage - it will populate as intended very quickly.
Watching the working directory in explorer window, I find that there is a file “gold_medals.sqlite-journal” which pops up to about 8kB at a time and seems to be slowly transferring into “gold_medals.sqlite”. I have to imagine it is a file used by sqlite3 to populate the database somehow. I notice that when that file finally goes away, the webpage begins to work.
Note that when I try to access the database while gold_medals.sqlite-journal is there, the DB is locked.
Any advice on how I might fix this so that I don’t have to wait a half hour after every time I start the server?
https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/project-gold-medal-metrics/informationals/bapi-p5-gold-medal-metrics
",
129,How to insert different data into different tables with the same form,"Get Help,SQL",,2,"
Is it possible to insert differente data into different tables but with the same form?
like, the user creates a dynamic table and then he wants to insert the data
Thanks, From Portugal
Gonçalo Silva.
","
You can always use INSERT INTO name(col1, col2, col3) VALUES(val1, val2, val3) and repeat if you want to insert more rows!
"
130,New York Restaurants: How are case statements read?,"Get Help,SQL",,2,"
In the lesson: https://www.codecademy.com/courses/learn-sql/projects/learn_sql_query_table
We create this code:
SELECT name,
CASE
	WHEN review > 4.5 THEN 'Extraordinary'
  WHEN review > 4 THEN 'Excellent'
  WHEN review > 3 THEN 'Good'
  WHEN review > 2 THEN 'Fair'
 	ELSE 'Poor'
 END AS 'Review'
FROM nomnom;

Does the order of the WHEN statements matter? How does the compiler read the information? For example if the code was ordered where 4.5 was after 4 would that change the results? Thanks.
","
That would certainly change the result! Case statements are like if…else if…else block. When the first condition is met(true), the code after THEN will be run or printed, otherwise the code after the else block will be run! So when your review is 5.0 and your ‘‘review > 4’’ is above ‘‘review > 4.5’’ then ‘Excellent’ will be returned though 5.0 is also greater than 4.5.
"
131,Watch Duration,"Get Help,SQL",,2,"
hello All,
i tried all the solutions and at the end … there is no result … here is the code i typed
SELECT ROUND (watch_duration_in_minutes) AS ‘duration’, COUNT (watch_duration_in_minutes) AS ‘count’
FROM watch_history
GROUP BY watch_duration_in_minutes
ORDER BY 2;

where could be the mistake ??
Best regards,
","
It should have been GROUP BY ROUND(watch_duration_in_minutes) instead of watch_duration_in_minutes!
"
132,Questions on GROUP BY I,"Get Help,SQL",,2,"
So I was doing the Aggregate functions exercise “GROUP BY I” and had a question on why when I wrote
SELECT category, SUM(downloads)
FROM fake_apps;
Did it return with only the ‘News’ category and the total sum of downloads for the table.
I understand that by not adding in the GROUP  BY line I didn’t specify the connection between category and SUM(downloads), but how did the system choose News as the category?
I believe my specific question is how exactly did the system respond to that line of code, because I don’t understand the logic it used to produce the result it did.
","
This is because SUM(downloads) only returns one value which is the sum of all downloads and results in one row. Thus, it only selects the first category which is news I believe which corresponds to that row!
If you add a group by statement , it will only then count the sum of downloads for each category and return the correct result.
"
133,Code Challenge 6 in SQL with multiple tables -,"Get Help,SQL",,2,"
Hello peeps, i have a few questions regarding this code in SQL, so i want to do something else to it, i want to make it so that it only displays the ‘active’ users without changing the filter before the cross join, What exactly should i put so that this query makes it so it does everything else but shows only the ‘active’ users, should i use a where ‘column name’ or like ‘%Active%’ ? i tried to do this but it didn’t display any results so i’m assuming there’s something wrong with that, i guess i need to do something regarding the ‘WITH’ operator? to include the previous query? but i can’t seem to figure it out and i want to experiment a little bit more regarding that since it’s such a good opportunity.
Sorry i tried looking in the forums but seems i’m the only one that has this inquiry haha
Thanks if anyone knows any pointer regarding what i want to do, hope i didn’t confuse anyone.
SELECT premium_users.user_id,
months.months,
case
when (
premium_users.purchase_date <= months.months)
and (premium_users.cancel_date >= months.months
or premium_users.cancel_date is null)
then ‘active’
else ‘not_active’
end as ‘status’
FROM premium_users
CROSS JOIN months

here after the cross join  i want to input something that let’s me display only ‘active’ users *

","
I think can just add WHERE premium_users.status - ‘active’ after your cross join!
"
134,The HAVING Clause,"Get Help,SQL",,2,"
Hi Codecademy,
In SQL, we can use numbers 1, 2, 3… etc in order to reference the columns that we are SELECTing so that we dont have to retype them all of the time.
I originally had this code:
Note that ‘1’ is supposed to reference user_id
and ‘2’ was supposed to reference SUM(watch_duration_in_minutes) AS ‘Total Minutes’
SELECT user_id, SUM(watch_duration_in_minutes) AS ‘Total Minutes’
FROM watch_history
GROUP BY 1
HAVING 2 > 400;
Well that did not work…  I had to change the ‘2’ to ‘Total Minutes’ in order for it to work:
SELECT user_id, SUM(watch_duration_in_minutes) AS ‘Total_Minutes’
FROM watch_history
GROUP BY 1
HAVING Total_Minutes > 400;
Why?
One more question: Total_Minutes has to have the “_” to connect the words. So I guess I cannot use ‘Total Minutes’
Thanks
Eric
","
When you use 2 > 400, SQL is unable to clarify that the ’ 2 ’  is a numeric value of the reference SUM(watch_duration_in_minutes) so it returns an error. It’s best to use an alias name in to replace the second command which is much shorter! AND it’s best to use an underscore to declare an alias name which improves readability though even omitted it still works!
"
135,GROUP BY and ORDER BY commands,"Get Help,SQL",,2,"
While writing a query for an aggregate function, it becomes difficult for me to determine which column is right to go with GROUP BY command or ORDER BY command. Please help!
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/lessons/sql-funnels/exercises/compare-funnels
","
GROUP BY is equivalent to ‘for each’ in the instructions, categorizing data of the same name!
ORDER BY simply orders elements numerically or alphabetically either in an ascending(ASC)  or descending(DESC) order!
"
136,Gold medal metrics solution is broken,"Get Help,SQL",general,1,"
Hello
I pass every test on project , and also download solution and neither work , tried few solutions posted by people here had similar problems , solution won’t render any data.
https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/project-gold-medal-metrics/informationals/bapi-p5-gold-medal-metrics-solution
",
137,Https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj,"Get Help,SQL","multiple-tables,general",1,"
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj
WITH cross_join AS (
SELECT subscriptions., months.
FROM subscriptions
CROSS JOIN months)
SELECT *
FROM cross_join
LIMIT 100;
This is from Step 4 from the link above; creating a cross joined temporary table between the “subscriptions” table with the temporary “months” table. I just can’t get the query for the temporary table “cross_join” to work. I’ve tried different query set ups that I’ve seen online, and none work for me.
",
138,"Strange bug in Create a Table project, only celebs table from previous lesson is generated","Get Help,SQL",manipulation,7,"
I’m having trouble running queries in the ‘Create a Table’ project: https://www.codecademy.com/courses/learn-sql/projects/learn_sql_create_table
Whenever I click ‘Save’, it generates the celebs table from the previous lesson.
I’ve tried refreshing my browser. Currently using Google Chrome. Example screenshot of what’s happening below. Am I missing something?

Example.PNG1596×648 56.4 KB

","
Check the hint for Task #2. You have a typo in your INSERT INTO statement. It isn’t rendering results from your query or any query to the celebs table. It is just showing the celebs schema.

Hi there. You have typed VALUE insted of VALUES in INSERT INTO
INSERT INTO friends (id, name, birthday)
VALUES (1, 'Jane Doe', '1900-05-16');


(update: there was a loose comma that was keeping the table from showing. Consider this query solved. Thanks for all the help!)
Thank you for the replies. I’ve fixed the typo, however I still can’t seem to run any results. I’ve tried saving the project in both Chrome and Firefox, the celebs schema is still the only thing that pops up.

im having this exact same issue and i am not seeing the solution provided

Look over your code in setting up the friends table.  I bet you have a comma after birthday DATE like in OP’s screenshot.  I made the same mistake.  Take that out and it should run properly.

This was my problem! This fixed it. Thanks!
"
139,Aggregate Functions Project some trivial questions,"Get Help,SQL","aggregate-functions,general",3,"
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-aggregates-crypto
While going through the project, trying to solve the 4th instruction, I’ve got a question in order of SELECT clause.
instruction
It was reported that Bitcoin dominates Fiddy Cent’s exchange. Let’s see if it is true within these dates by answering two questions:

How many  money_in  transactions are in this table?
How many  money_in  transactions are in this table where ‘BIT’ is the  currency ?

SELECT currency, COUNT(money_in), COUNT(money_out)
FROM transactions
WHERE currency = 'BIT'
GROUP BY 1;

The code above is my code and somehow the code given by the instruction was different from mine.
SELECT COUNT(money_in)
FROM transactions;

SELECT COUNT(money_in)
FROM transactions
WHERE currency = 'BIT';

And the code above is the code given by the instruction.
So my question is does the order of putting the column names in SELECT clause cause difference in output?
For instance,
SELECT currency, COUNT(money_in), COUNT(money_out)
FROM transactions
WHERE currency = 'BIT'
GROUP BY 1;

And
SELECT currency, COUNT(money_out), COUNT(money_in)
FROM transactions
WHERE currency = 'BIT'
GROUP BY 1;

would these two codes return different result??
I happened to think of the possibility of different result coming up because I think the first clause will filter the second clause and the second clause will filter the third clause.
","



 nayunsung3562491092:

So my question is does the order of putting the column names in SELECT clause cause difference in output?


Yes, in the sense that the columns of your output will be returned in the order you specify in your SELECT statement. No, in the sense that SELECT simply tells SQL what fields you are interested in and so the actual data returned will be the same.

image1281×335 29.3 KB

See how in both output rows, we get the same output but in a different order: 21 in both COUNT fields, and BIT for the currency.



 nayunsung3562491092:

I happened to think of the possibility of different result coming up because I think the first clause will filter the second clause and the second clause will filter the third clause.


Nothing in your SELECT statement will do any kind of filtering. It’s a list of the fields we want to see.
Refining the selection in your example is done by the WHERE clause, as you’re specifying that you only want to count rows where the currency field is BIT.

Thank you @thepitycoder for your sincere help! That was crystal clear!  
"
140,Struggling to understand why this line of code is needed,"Get Help,SQL",general,3,"
…/(
SELECT COUNT(*)
FROM subscriptions
WHERE subscription_start < ‘2017-01-01’
AND (
(subscription_end IS NULL)
OR (subscription_end >= ‘2017-01-01’)
)
)
AS result;
When calculating Churn on the second problem in the “Single Month I” section, I’m having trouble understanding why the
“OR (subscription_end >= '2017-01-01)”
is needed. If the denominator is looking for current accounts that haven’t cancelled in January, why is there a filter where the subscription HAS ended, instead of solely NULL?
","
@jalexmcgraw838836446 Welcome to the forums! What I think it is meaning is that only count things that haven’t ended before they started, or NULL ones,  not ones that have ended before 2017-01-01. Happy coding!




 jalexmcgraw838836446:

If the denominator is looking for current accounts that haven’t cancelled in January, why is there a filter where the subscription HAS ended, instead of solely NULL?


Without a link to the exercise you’re attempting, I can’t be sure, but my intuition would be that perhaps you’re looking at historical data and not the latest figures for Jan 2017.
In which case, if you’ve got data which goes beyond Jan 2017 you don’t want to eliminate subscriptions which were cancelled in a later month from your calculation of active subscribers in January.
Your WHERE will give you any subscription which started in December 2016 or earlier, and which is either still running or was cancelled in January or later.
"
141,Date,"Get Help,SQL",queries,3,"
 SELECT *
 FROM users
 WHERE birthday BETWEEN 1980 AND 1990
 ORDER BY birthday DESC;

https://www.codecademy.com/paths/data-science/tracks/sql-basics/modules/dspath-sql-projects-and-applications/projects/user-segmentation-prj
When checking the table schema of the users table, it says birthday column is a TEXT column. But somehow I could get a result as how I intended that I wanted to see the data of users who are born between 1980-01-01 and 1989-12-31 (both inclusive).
My question here is


How can SQL return the output even though I didn’t put between ‘1980’ and ‘1989’ but instead putting between 1980 and 1989? Shouldn’t it return nothing since I am making queries on the wrong data type?


I’ve learnt that BETWEEN clause goes up to the second value during this course(Data science - SQL Basics). The example given during the course is written below.


SELECT *
FROM movies
WHERE name BETWEEN 'A' AND 'J';

So therefore the terminal should show me the result of movies which all have name starting from the alphabets between A to J but only if the movie’s name is ‘J’ it will be included in the terminal.
How does this loigc apply to the date/integer data type? Or is this logic only valid with string data?

How does SQL calculate the start of a day and the end of a day?

SELECT email, birthday
FROM users
WHERE birthday >= '1980-01-01'
  AND birthday <= '1989-12-31';

Does this code mean bring data which matches birthday column data from 1980-01-01 00:00:00 to 1989-12-31 23:59:59?
","
Hey @nayunsung3562491092!



 nayunsung3562491092:


How can SQL return the output even though I didn’t put between ‘1980’ and ‘1989’ but instead putting between 1980 and 1989? Shouldn’t it return nothing since I am making queries on the wrong data type?



Ah yes, but remember, if you do 1 == “1”, you get true. The same sort of concept is displayed here, even though “1980” is a string, it is equal to a number.



 nayunsung3562491092:

How does this loigc apply to the date/integer data type? Or is this logic only valid with string data?


Different rules apply to different columns of the table. The person creating this database may have set a different rule for the “date” column then the movie column.



 nayunsung3562491092:

How does SQL calculate the start of a day and the end of a day?


I don’t think it does, or at least not unless you specify. You’ll get all the dates between ‘1980-01-01’ and ‘1989-12-31’. It doesn’t matter what time it is, it will only get included if its between the end of the first day and the start of the second. So, for example, ‘1989-12-30 23:59:59’ would be included but ‘1989-12-31 00:00:00’ would not be.

Hi stevencopeland! Thank you so much for your super clear explanation for my questions.



 stevencopeland:

Ah yes, but remember, if you do 1 == “1”, you get true. The same sort of concept is displayed here, even though “1980” is a string, it is equal to a number.


So SQL regards those two data as the same data type when it comes to numbers? If it that so, it’s quite different from Python then!
"
142,What alias-ing is going on here?,"Get Help,SQL",,13,"
Can somebody explain the inner query and atleast 2 iterations please ?
","
I do agree with you.  no explanation why the code is as it is… (unless i’ve skipped a bit)
why the ‘AS f’
why the  ‘a.’
i can copy and paste and replace well, but it doesn’t mean i understand what is happening…
Guess i’ll have to read around other forums to find out why…
Its a bit disappointing, not as well thought through (or perhaps properly tested) as the initial SQL course…

yeah I feel like up until now everything has been explained really well, but the AS f and the a stuff has flummoxed me, I can’t see where the concepts here have been explained, so I don’t really understand whats going on

@kvsrkrishnan @tagace34481 I agree about the lack of explanation and no hints makes for a frustrating lesson.
As far as I understand the as f and as a examples allow you to create an alias for the query so you can reference it easier.
In this is example:
select origin, id,
(select count(*)
from flights f #calling the inner query of flights f allows us to distinguish between the inner and outer query
where f.id < flights.id
and f.origin=flights.origin) + 1
as flight_sequence_number
from flights;
As far as the answer and what this query achieves - I found it easier to understand the example:
SELECT carrier, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
AS flight_sequence_number
FROM flights;
which produces (first 5 lines):
|carrier|id|flight_sequence_number|
|---|---|---|
|MQ|17107|25|
|DL|19471|57|
|AA|194|2|
|HP|19905|13|
|WN|11155|41|


flight_sequence_number is telling us how many times that carrier has flown. So, MQ is on its 25th flight when its ID is 17107 for reference the id for its first flight is 1878 and id for the second flight is 2205. The query is telling us to keep counting the flights up until the last recorded input id which is 19867 for MQ.
Try the order by query to get a better idea of what it is counting:
SELECT carrier, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
AS flight_sequence_number
FROM flights order by 1, 2 desc;
Hope that helps! 

I agree. I even went back and re did the whole previous SQL course over again, expecting that maybe I missed something but still am having a very hard time getting through this.

Thanks for this. I understand now of what the inner query is accomplishing.
I still don’t understand why the previous exercise uses AS f for the outer query in the previous exercise as opposed to just the f for the inner query in this exercise.
Also, I still don’t understand how this assigns the sequence number by time like the beginning of the exercise states. It appears to assume that the id is somehow related to time. However, if I add the dep_date column to the result set and then ORDER BY origin, flight_sequence_number, it’s pretty clear that the id isn’t really sorted by time at all.

I was starting to lose my mind going through this whole lesson until I came to the forum. Glad to know I’m not the only one who is frustrated by the lack of good explanations.
Does anyone have an answer yet for why the alias flights table in this example was written as “flights f” instead of “flights AS f”. Disappointed the lesson didn’t mention anything on that.

Thank for explaining, this was very helpful!
I am also still strugglng since the beginning of this “Table Transformation with SQL” course, I think it is a huge jump from the previous one and everything is not explained well. Your addition of the “ORDER BY” line made much more sense then the whole exercise attempt.




 j_williams_j:

SELECT carrier, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
AS flight_sequence_number
FROM flights order by 1, 2 desc;


Wow, a million thanks, I finally understood what happened here.

Like many others, this exercise gave me issues.  Here’s what I learned after searching around for an hour or so.


AS is optional for declaring aliases,


The table aliasing creates some ambiguity.  The intent of the query becomes clearer if we refactor the original query a little bit.


SELECT carrier, id,
    (SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
 AS flight_sequence_number
FROM flights;

Explicitly aliasing both the inner and outer references to the flights table we get the following:
SELECT carrier, id,
    (SELECT COUNT(*)
FROM flights AS inner_f
WHERE inner_f.id < outer_f.id
AND inner_f.carrier = outer_f.carrier) + 1
 AS flight_sequence_number
FROM flights AS outer_f;

To me, this version makes what’s going on much clearer.  It seems somewhat analogous to a nested for loop in any general purpose language, something akin to:
for outer_f in rows(flights):
    count = 0
    for inner_f in rows(flights):
        if (inner_f.id < outer_f.id 
        and inner_f.carrier == outer_f.carrier):
            count += 1
    print(outer_f.carrier, outer_f.id, count + 1)

For each subquery execution, all rows of inner_f are iterated through in the WHERE clause, while outer_f is held constant at a single row.

This explanation helps me understand what is going on. Same table columns have been compared to calculate sequence number by each carrier. Thanks!
To show what is the objective of this query more easier with following query.
SELECT carrier, id,
    (SELECT COUNT(*)
      FROM flights AS inner_f
      WHERE inner_f.id < outer_f.id
      AND inner_f.carrier = outer_f.carrier) + 1
       AS flight_sequence_number
FROM flights AS outer_f
ORDER BY 1,3;


I have the same feeling. Feels like there’s a big gap between the first course and this one. Bit frustrating to be honest.

Thank you! You should be teaching this course lol.
"
143,Question regarding NOT IN vs NOT EXISTS in subqueries,"Get Help,SQL",general,1,"
Hello!
I’m doing some practice problems on another site as extra work to supplement my coursework here, and I’ve run into a minor issue. I was given this problem:
Write a query to find the name (first_name, last_name) of the employees who are not supervisors.
The sample table they have you use is built as follows:
name: employees
(relevant) columns: first_name, last_name, manager_id
The way I handled this was first approaching it with the central logic that in order for an employee to not be a supervisor, their employee_id cannot be someone else’s manager_id, as manager_id is referring to that employee’s supervisor.
Given that, my solution was as follows:
SELECT first_names, last_names FROM employees
WHERE employee_id NOT IN (SELECT manager_id FROM employees);
The site’s solution was as follows
SELECT b.first_names, b.Last_names FROM employees b
WHERE NOT EXISTS (SELECT ‘X’ FROM employees a
WHERE a.manager_id = b.employee.id
);
After looking through the results of both, my solution got to the same result as the website’s suggested solution. My question to you is this: Are both of these really the same? Am I okay solving it the way I did? Because my method seems less complex and thus would take a shorter time to execute, but if this is a case where I used the wrong method to get to the right answer, I’d like to know.
Thanks in advance for the help! I just really need some people to talk to and bounce ideas off of.
",
144,Error in the studying content?,"Get Help,SQL",general,2,"
Hi everyone,
I just signed up for codecademy and started browsing the contents. I decided to have a look at SQL, and as I was going through the details, I believe I might have found an error? (on this page: Key Concepts ).
It says that "" There can be only one  PRIMARY KEY  column per table and multiple  UNIQUE  columns."". As far as I know you can have composite keys which can use 2 or more columns to form a primary key.
For example:
CREATE TABLE voting (
  QuestionID NUMERIC,
  MemberID NUMERIC,
  PRIMARY KEY (QuestionID, MemberID)
);

Correct me if I’m wrong.
","
As far as I am aware, you’re correct about the composite key.
I wonder if they simply meant to make the point that you have a single “PRIMARY KEY”, however defined, but can have multiple “UNIQUE” columns.
I’ll flag it. Thanks for mentioning it. 
"
145,Why won't this code do anything?,"Get Help,SQL",multiple-tables,5,"
Hello.
I am doing this challenge project with SQL: https://www.codecademy.com/practice/projects/world-populations-sql-practice-ii. I am not asking for the answer to this question, but I am wondering why this query:
select *
from countries
where continent = 'Oceania'
left join population_years 
  on population_years.country_id = countries.id;

Will not print anything.
Thank you!
","
SQL expects your statements to be in a specific order, and it evaluates the entire query in a specific order.
Are your statements in the correct order here?
SELECT
FROM
WHERE
LEFT JOIN ... ON ...

?

Yes, I think they are!

So, you think a LEFT JOIN (or any JOIN for that matter) comes after the WHERE clause? 

Oh, I thought you were telling me that was the order. No, I looked it up, and where comes after join. Thank you!
"
146,HELP I can't for the life of me get my head around the SQL funnels!,"Get Help,SQL","multiple-tables,general",3,"
So basically,
Ive been learning SQlite for about a week, when I hit a road block, I’ve always been able to fiqure it out and get my head around it. But, with the funnel lesson:
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/lessons/sql-funnels/exercises/multiple-tables-ii
I can understand why a funnel is used and created, but I cannot understand


The user_id ‘IS NOT NULL’ clause


The way each table is referenced towards a column


Inside the code which is taught in the lesson, it takes the checkout user_id  and purchase user_id where its NOT NULL and counts it as true of false. 0 being false and 1 being true. But to try and get around this I viewed a limited amount of all columns on the tables, and NONE of the user_id records are NULL, so why are we grabbing the NOT NULL records, isnt that all of them? so in turn, why do we need  the IS NOT NULL statement?


Maybe not such a big issue, it kind of makes sense, but in previous lessons when joining tables ive been taught to reference columns in tables as eg. ‘browse.user_id’ and ‘checkout.user_id’ but without mentioning anywhere, the text engine doesnt accept this in this lesson, instead it only accepts ‘b.user_id’ and ‘c.user_id’. Which should I use moving forward, are both genreally accepted but just not in this lesson?


One other thing about these tables, aren’t checkout and purchase the same thing? I feel like I am missing something here.


See code example:
SELECT DISTINCT b.browse_date,
  b.user_id,
  c.user_id IS NOT NULL AS 'is_checkout',
  p.user_id IS NOT NULL AS 'is_purchased'
FROM browse AS 'b'
LEFT JOIN checkout AS 'c'
  ON b.user_id = c.user_id
LEFT JOIN purchase AS 'p'
  ON b.user_id = p.user_id
LIMIT 50;

Thanks for any help offered in advance!
","



 henrycromptonsmith:


The user_id ‘IS NOT NULL’ clause



it is setting user_id to false if NULL or true if NOT NULL (it will make sense at answer #3.



 henrycromptonsmith:

The way each table is referenced towards a column


I’m not sure what you mean by that, sorry. Are  you talking about the use of alias? AS ‘c’, AS ‘p’?



 henrycromptonsmith:

Inside the code which is taught in the lesson, it takes the checkout user_id and purchase user_id where its NOT NULL and counts it as true of false. 0 being false and 1 being true. But to try and get around this I viewed a limited amount of all columns on the tables, and NONE of the user_id records are NULL, so why are we grabbing the NOT NULL records, isnt that all of them? so in turn, why do we need the IS NOT NULL statement?


You will not find any user_id == NULL on the tables, however you will find in the table that you are build in this query that you copied.
As you can see, you are using LEFT JOINS… this will join the tables, even if they don’t have matching user_ids, and this is where the user_id == NULL will appear.
You can remove 'IS NOT NULL AS ‘is_checkout’"" and “IS NOT NULL AS ‘is_purchased’” from the query and run it… you will see a bunch of NULLS… those are the ones that would turn FALSE after the LEFT JOIN.
Essentially, if a user_id appears on checkout table, but the same user_id doesn’t appear on purchase, it will return null for p.user_id when you perform the LEFT JOIN, confirming that the user went to checkout, but didn’t purchase.



 henrycromptonsmith:

Maybe not such a big issue, it kind of makes sense, but in previous lessons when joining tables ive been taught to reference columns in tables as eg. ‘browse.user_id’ and ‘checkout.user_id’ but without mentioning anywhere, the text engine doesnt accept this in this lesson, instead it only accepts ‘b.user_id’ and ‘c.user_id’. Which should I use moving forward, are both genreally accepted but just not in this lesson?


Is common practice to use the alias when referencing and joining tables, but both should work. If it is not working, is some bug on the platform. But get used to use alias on your tables, you will code faster and it is quicker to read the query as they get shorter.



 henrycromptonsmith:

One other thing about these tables, aren’t checkout and purchase the same thing? I feel like I am missing something here.


in this scenario, checkout means: “the customer put things on the cart” or “the customer went to checkout line/page”… something like that.
purchase: “the customer paid for the stuff and completed the transaction”.
You can think in a scenario that you went to the checkout and, at the moment you had to pay, your card got declined, you decided to think a little more, you found a better deal on another online shop and closed the browser without completing the transaction… you got the idea 

Thank you so much!
You answered all my questions!
I knew I was missing something obvious with regards to the checkout/purchase difference.
But after reading your answers, it seems that I was missing something obvious on most points! how a fresh pair of eyes helps.
Much appreciated, moving on in the path 
Thanks.
"
147,World Populations SQL Practice II - Solution password,"Get Help,SQL",,15,"
Hi,
I selected ‘download’ in the World Populations SQL Practice II project, however, completed the project in Codecademy. I have now downloaded the Solution and installed the ‘DB Browser for SQLite’ onto my mac. When I try to open ‘population_queries_final.sqlite’ file it requests a Password.
Could you please advise the password or what I am doing incorrectly to get to this point.
Thanks,
Reuben.
","
Please post the URL from the location bar of that exercise.

https://www.codecademy.com/practice/projects/world-populations-sql-practice
This is the link. I downloaded it and it requires a password to access the answers.

Hi there, I encountered the same issue. Have you received the password? BR, Magnus

I have the same exact problem. Both the exercise DB and the solutions one require a password.

I am having the same problem when opening the file which requires a password

I’m experiencing the same issue.

Has anyone learned the password or how to bypass it?


Here might be a way for you guys, try to import the file to this website, and the query should be displayed.
https://sqlformat.org

I am having the same issue. Has anyone received a solution for this problem, yet?  Thanks!

Thank you for this option, but I am still having issues when I try to open it through this website.

I had the same problem. @gigarockstar32737 solution worked for me.




 gigarockstar32737:

https://sqlformat.org


Thanks for the link. This worked to open the file.

Awesome!
Thanks @gigarockstar32737 
"
148,What does VARCHAR(256) mean ? Is it a special data type?,"Get Help,SQL",multiple-tables,4,"
I’ve seen an unusual data type in this exercise: https://www.codecademy.com/courses/learn-sql/lessons/multiple-tables/exercises/inner-join-ii
called VARCHAR(256)
Does anybody know what is it ?
","
Hey there - welcome to the forums!



 code8809126099:

Does anybody know what is it ?


Yes, and it’s not actually that unusual.
VARCHAR(256) is basically a 256-character variable length string - i.e. you can store a 3-character string in it, say lol, or a longer string, like this is a longer example of a string of text!, so long as it’s less than 256 characters in total.
VARCHAR is the bit which tells you “this is a variable length string”, and (256) is what tells you the maximum length. (VARCHAR can go up to 65535 characters long, if memory serves.)
There’s some more information about it on W3Schools if you like. That page is aimed at MySQL/MS SQL, but the general idea is the same for most DB engines. (If in doubt, refer to the documentation for the database engine you’re running.) 
Hope that helps. 

Thanks a lot. Now I’ve extended my knowledge of SQL

No problem.
If you get stuck with anything else, let us know. 
"
149,Column names vs reference numbers,"Get Help,SQL",,2,"
Why do I get different results between these 2 queries?
(A)
SELECT category, ROUND(AVG(valuation), 2)
FROM startups
GROUP BY 1
ORDER BY 2 DESC;
(B)
SELECT category, ROUND(AVG(valuation), 2)
FROM startups
GROUP BY category
ORDER BY valuation DESC;
The only difference is that the first uses reference numbers to the columns selected, the second uses the column names. Oddly, using the column names does not put both null values at the bottom of the list:
|Data Analytics     |   null |
|E-commerce        |60250000.0|
|Video Streaming|   null  |
https://www.codecademy.com/courses/learn-sql/projects/fakeapps?action=resume_content_item
","
@cztechgmail.com
I had the same problem:
I first ran your (B) query, and its results are incorrect also in other places. For instance,




Education
2023800000.0




Enterprise
38508333333.33



so, 2,023,800,000 (2 billion) is larger than 38,508,333,333.33 (38.5 billion) , in this list.
However, the reason the result for (A) and (B) are different, is that in (A), 2 stands for AVG(valuation), not just valuation. Hence, if you use just valuation, the results are different.
A query like so:
-- (C)
SELECT category, ROUND(AVG(valuation), 2)
FROM startups
GROUP BY category
ORDER BY AVG(valuation) DESC;

gives the same results as your (A)
"
150,Decimal values stored as INTEGER type,"Get Help,SQL",general,6,"
In the New York Restaurants project, the review column of the nomnom table is of type INTEGER, but it has decimal values like 3.5 stored in it - how is this possible? Why was INTEGER data type chosen for this column?
https://www.codecademy.com/courses/learn-sql/projects/learn_sql_query_table-1
","



 bennypr0fane:

the review column of the nomnom table is of type INTEGER, but it has decimal values like 3.5 stored in it - how is this possible?


… it shouldn’t be, as you’ve spotted.
I can’t review the project myself as I’m not a Pro subscriber… @midlindner, can you double-check that for me? 

Well the course material does say SQLite doesn’t enforce data types, but still why use INTEGER if there’s actually decimal values here?

You answered your own question? The data type should be a decimal/float. You get away with integer because SQLite doesn’t enforce data types, but that should not be the target/objective when programming.

Well I guess it’s confusing for learners, maybe it would make sense to correct this in the exercise.

This topic was automatically closed 18 hours after the last reply. New replies are no longer allowed.
"
151,How to save the session to continue later?,"Get Help,SQL",general,2,"
HI! I would like to know how to save the work that I have done to continue later.
I’m working on the following section:
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-calculate-and-summarize-data/modules/dspath-sql-aggregates/lessons/aggregate-functions/exercises/round?utm_content=calendar_reminder_learn&utm_source=google_calendar
Thanks!
You must select a tag to post in this category. Please find the tag relating to the section of the course you are on E.g. loops, learn-compatibility
When you ask a question, don’t forget to include a link to the exercise or project you’re dealing with!
If you want to have the best chances of getting a useful answer quickly, make sure you follow our guidelines about how to ask a good question.  That way you’ll be helping everyone – helping people to answer your question and helping others who are stuck to find the question and answer! 
","
every time you run the code, it saves. you can close it after that.
"
152,All caps in SQL,"Get Help,SQL",general,3,"
why are so many commands in SQL typed in all caps when they work just as well in lower case?
","
I am not sure there is an official rule, you might need to google that
i capitalize the (my)sql keywords, to improve readability. Then i know what are SQL keyword and what are table/column names. Which is really nice if you have more complicated queries
Writing working code and writing easy to read/understandable code are two very different things

ok, @stetim94,  that makes sense.
"
153,SQLite Installation,"Get Help,SQL",,4,"
Does anybody on this planet who is not a certified nerd understand how to install this?  I’m extremely disappointed with Code Academy on this.  I thought that this site and the SQL course was for beginners.  THIS IS TASK IS NOT A BEGINNER LEVEL TASK!
https://www.codecademy.com/courses/learn-sql/articles/what-is-sqlite?action=resume_content_item
Git -Bash Terminal???  Command line???
","
Hi,
I have the same problem. I manage to install SQLite  and even created the alias (though needed to replace tilde ~ by / as in my Git Bash not sure why / was appearing instead of ~). But even now, I am not sure if I did it correctly as I cannot run sqlite from Git Bash. It just does not recognize the  tables in database downloaded from the Sqlite Data Starter Packs (following the instructions from the video for Windows).
Did you get help on this? I cannot see any response to your question.
Thanks,
Karina

I faced the same problem. But quickly found tutorials how to instal it correctly. Because if you joining to IT community learning SQL in this case, you should know how to google any problems or issues.
As for your problem, i advice you to use graphic interface of SQLite, it’s more then enough) Good luck, my friend!

Hey I hope someone managed to get back to you on this!
So I found this install video useful:
https://www.codecademy.com/articles/setting-up-db-browser
Man what a difference it makes when you’re starting out to have the assistance of PREDICTIVE CODING as in if you forget a comma or parenthesis it shows you! Im loving codeacademy but when you forget one of these things its quite frustrating.
"
154,Gold Medal Metrics: why does not my 'bestYear' function pass the test?,"Get Help,SQL",,9,"
Hi there! I’m working on the Gold Medal Metrics project, and can´t figure out why my code does not pass the test. I have taken a look at the solution code, that basically does the same thing, although in a different way. Any clarification would be much appreciated! Thanks in advance!
Project: https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/project-gold-medal-metrics/informationals/bapi-p5-gold-medal-metrics
Task description:

bestYear
Takes an argument, the name of a country. Returns the SQL command that will retrieve the year that country won the most Olympic gold medals, and how many medals were won, aliased to the name count .

My code:
const bestYear = country => {
  return `SELECT year, COUNT(*) AS count FROM GoldMedal WHERE country = '${country} GROUP BY 1 ORDER BY 2 DESC LIMIT 1';`;
};

Test output:

Screenshot 2020-02-10 at 11.48.461770×174 22.2 KB

Solution Code:
const countryBestWithCount = (bestThing, country) => {
  if (['year', 'discipline', 'sport', 'event'].includes(bestThing)) {
    return `SELECT ${bestThing}, COUNT(*) AS count FROM GoldMedal WHERE country = '${country}' GROUP BY ${bestThing} ORDER BY COUNT(*) DESC LIMIT 1;`;
  }
  return null;
};

/*
Returns a SQL query string that will find the year where the given country 
won the most medals, along with the number of medals aliased to 'count'.
*/

const bestYear = country => {
  return countryBestWithCount('year', country);

Note, that the solution code makes use of an additional function ( countryBestWithCount), but the final query is the same.
Thanks again!
","
That’s only part of the output, what you omitted says what’s wrong about the result, and you can look at the test code to determine what the input was/information about how to reproduce it if you need to inspect it yourself.



 ernestohinojosa:

but the final query is the same.


how are you measuring that?
One way to measure would be to write them both out and compare them
SELECT year, COUNT(*) AS count FROM GoldMedal WHERE country = 'Paraguay GROUP BY 1 ORDER BY 2 DESC LIMIT 1';
SELECT year, COUNT(*) AS count FROM GoldMedal WHERE country = 'Paraguay' GROUP BY year ORDER BY COUNT(*) DESC LIMIT 1;

same?

First and foremost thanks for your



 ionatan:

same?


Short answer: yes, they give the same results.
Longer answer:
Result 1 (I used ‘Sweden’ instead of ‘Paraguay’ to actually get some results):

Screenshot 2020-02-10 at 16.26.421676×838 61.5 KB

Result 2:

Screenshot 2020-02-10 at 16.27.581674×860 66.5 KB

So either I need glasses, or the results are the same 
Looking forward to your reply. Cheers

That’s not what your function returns. You wrote this separately, you did not obtain it from your function. In the process, you fixed it.
What you would want to do is call both functions with 'Paraguay' as the input, copy the results, and run those queries against the same database as the test used.
If you start changing a bunch of things … then you’re no longer looking at the same situation.
You’d still probably find the problem with ‘Sweden’ and this other database, because those are not the changes that fixes the problem, there’s something else as well. But in principle, the less you change the better, ideally use the same environment as the failure is in. (Avoid observing what you think it does, observe the thing itself)




 ionatan:

Avoid observing what you think it does, observe the thing itself


Sagely advice. Thank you.

Thanks again for your reply!



 ionatan:

That’s not what your function returns. You wrote this separately, you did not obtain it from your function. In the process, you fixed it.


Yes, you are absolutely right! I put on my glasses, took a closer look at the query and found a misplaced single quotation mark… now the tests pass, thank you sir!
I have learned (once more) the importance of triple-checking the code for any misplaced characters. And I will try to find a Linter that catches these types of badly placed quotation marks.



 ionatan:

What you would want to do is call both functions with 'Paraguay' as the input, copy the results, and run those queries against the same database as the test used.


The strange thing with Paraguay, that is used as the test country in the test script, is that they have not won any medals at all, according to the database used in the project:

Screenshot 2020-02-11 at 09.23.361720×570 30.2 KB

Test script using ‘Paraguay’ as test country:
describe('bestYear', function() {
  it('a function called bestYear exists', function() {
    expect(sql.bestYear).to.exist;
    expect(typeof sql.bestYear).to.equal('function');
  });

  it('should return a SQL query string that retrieves the year a country won the most gedals', function(done) {
    const query = sql.bestYear('Paraguay');
    seededDb.get(query, (error, result) => {
      let year = result && result.year;
      if (year === 1961) {
        done();
      } else {
        done(new Error(error || `Expected year to be 1961, actual value was ${year}`));
      }
    });
  });

  it('should return a SQL query string that retrieves the number of medals a country won in their best year', function(done) {
    const query = sql.bestYear('Paraguay');
    seededDb.get(query, (error, result) => {
      let count = getCount(result);
      if (count === 2) {
        done();
      } else {
        done(new Error(error || `Expected count to be 2, actual value was ${count}`));
      }
    });
  });
});

If I understand the test script correctly, Paraguay is used as a test country and the expected year they won the most amount of medals is ‘1961’, and the expected value for amount of medals won is ‘2’.
But how come that the test script passes, taking into consideration that Paraguay has not won any medals at all, according to my query in the database?
Thanks in advance for all the help!




 ernestohinojosa:

And I will try to find a Linter that catches these types of badly placed quotation marks.


A linter wouldn’t find it because it’s part of a string.
And triple checking stuff is hard! But since there’s a crash or error of some sort, there’s something observable, and putting the two versions next to each other makes them comparable and then the quote stands out.
Running the resulting query probably results in some error or such as well, or maybe some sql linter, but it’s a computed string so…yeah.



 ernestohinojosa:

The strange thing with Paraguay, that is used as the test country in the test script, is that they have not won any medals at all, according to the database used in the project


if you look at the test code you can see what database is used.




 ionatan:

if you look at the test code you can see what database is used.


Yes, that was the source of the confusion - the test script does not query the same database as the one used for completing the project.
Thanks again for all the input!

This topic was automatically closed 18 hours after the last reply. New replies are no longer allowed.
"
155,Limit,"Get Help,SQL",queries,3,"
In the lesson about LIMIT the lesson states that using LIMIT “…makes our queries run faster”
Is this really true?
I’ve been playing around a bit with my company’s database and have very similar fetch result times for 100 and 1000 entries for the same query. 
Are there other factors that may be outweighing the benefit of LIMIT?
","
what about 10,000? or 100,000? Or even in the millions? Which is not uncommon. Databases can handle really large datasets.
also, the database is general only one layer within the application, so limiting the amount of data fetched might be very desirable.

This topic was automatically closed 18 hours after the last reply. New replies are no longer allowed.
"
156,Problem of setting sqlite3 path to environment and opening database,"Get Help,SQL",general,28,"
Hello,
I just installed sqlite3 and added it to environment.
I am now able to open to run sqlite3 from CDM. I can open database. However when I add database command .schema does not work and returns nothing. Can somebody please help to explain what is happening?

image967×303 8.03 KB

","
However if I open CMD and provide path of sqlite3 and open sqlite3.exe and provide name of database then it magically works. What is the reason for that?.

image981×512 14 KB


For some reason I need to provide a a path to sqlite3 then open sqlite3 and then it adds database correctly. Database and sqlite3 are in the same place.
Should it not work when full path of sqlite3 is added to environment?.

image527×508 6.59 KB


If you look in C:\Users\Chata there’s a file acs-1-year-2015.sqlite there because that’s what you told sqlite to open. (it even says so in your screenshot)
You told it to open two different files.
If you want to open a file somewhere other than in your current directory then you would need to provide an absolute path to that file, not just the base name.
Your PATH variable is unrelated to this.

Thanks for answer.
I was under impression it would work as a relative path as SQLite and database are in the same place.
I thought if I provide SQLite path in environment , then I can open databases in relative directory by just providing the name of data base as both are in the same place.
Also how can I open it once in SQLite3?. By providing full path as in example below doesn’t work.
Full path or database name does not work with .open.
Error with .open Absolute path:

image977×511 16.7 KB

Error with file name of database in same directory as SQLite:

image978×506 15.4 KB


The problem isn’t that sqlite can’t read a path, the problem is your path is invalid. It echo’d it back to you, note what happened to the backslashes. Presumably you would need double backslashes, backslash is a common character used for escape sequences.
If you do not supply full path then yes, the location you are then specifying is relative to YOUR location. Not to the executable’s location, that’s irrelevant.

What is the point of providing full path of SQLite to environment if I cannot open database file by providing full path of it afterwards with  .open command or just a name of the file?.

The point is to type:
sqlite3
instead of the full path to the executable

Yes, but then how can I open the database file?. It comes up with error when i provide full path of file with .open command.

Provide a valid path to your db file or change your current directory to the same directory as the database file is in and use a relative path
use forward slashes or double backward slashes, presumably

This is the file path

image975×510 9.82 KB





 ionatan:

use forward slashes or double backward slashes, presumably





 ionatan:

It echo’d it back to you, note what happened to the backslashes. Presumably you would need double backslashes, backslash is a common character used for escape sequences.



Double backward slashes didnt work, but forward slashes worked!
I was doing it wrong all the time as CMD path can be done with backward slashes.
Would you know what is the command to change current directory?. I would really want to make it work with relative path and thought that environment path would do this.

probably cd


It is .cd i googled it. Thank you for help. Much appreciated

If you’re going to use a commandline shell you might wanna consider using something other than windows, if you take a look in windows store there’s an app there named ubuntu… ubuntu is a linux distribution, an operating system, a list of programs ready to be downloaded and installed.
That’s pretty darn close to a linux system (with the difference that … well it probably dosen’t have linux in it, instead running on the windows kernel … I think), you only get a terminal but that’s also the only thing you’d ever want.
To install sqlite in that you would do something like:
$ apt update && apt upgrade && apt install sqlite3

(which is three commands to be run in sequence)
the first one updates the package index, the second one syncs local packages with that package index, the third installs the sqlite3 package
It’d take a while because it’s equivalent to a full system update and a newly installed system might have a couple things to catch up on… but after that you would have sqlite3 ready to be run:
$ sqlite3
SQLite version 3.31.1 2020-01-27 19:55:54
Enter "".help"" for usage hints.
Connected to a transient in-memory database.
Use "".open FILENAME"" to reopen on a persistent database.
sqlite> 

(it’s basically a virtual machine, separate from your system, hosted by your system. file access goes through the network, there’s some special network directory for that)

The reason you might want to do that is because while you’re using windows you’ll probably end up using a whole lot of workarounds more complicated than the thing you’re trying to do.
And, well, installing things is one command (apt install <package>), there’s no silliness like going to a website and downloading it with your browser and running a graphical installer and so on
But you might also not really have a need for a commandline shell in which case… whatever. But if you do, it should probably be this, not anything inside windows.

Thank you ionatan.
I am definitely going to look at it.
I was also looking at MySQL on Visual studio code and also XAMPP.
Would you recommend it?.

Isn’t the M in that for mariadb? (which is a MySQL fork)
vscode is an editor… I guess you would want an editor… right? but yeah, that is probably the only editor that can be easily recommended to other people (I don’t use it, but if I wasn’t using the one I do that’s probably what I’d use)
there is almost certainly a package containing mariadb and/or mysql in ubuntu, you’d do something like
$ apt search mariadb
$ apt install some-match-you-found-from-previous-command

and to start that database it would probably be something like
$ systemctl start mariadb.service

recommend it? err doubt I can say anything meaningful about that. sure I guess?

What are you using yourself? if I may ask.
I am very tempted to start using ubuntu.

using for what?

"
157,Help! Hacker news project,"Get Help,SQL",aggregate-functions,3,"
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-hackernews
I’m in the middle of hacker news project and I’m stuck at step 6 where I have to use CASE statement.  I looked at the hint and followed exactly what it says but it still gives me results with one column saying “other”
Here’s is what I have so far
Select CASE
when url like ‘%github%’ then ‘GitHub’
when url like '%medium% then ‘Medium’
when url like ‘%newyorktimes%’ then ‘New York Times’
Else ‘Other’
End as ‘source’
from hacker_news;
Then it returns result of “other” only.  What am I doing wrong here?
Help please!
","
I’m having the same problem with this one, did you ever figure it out?

Yes! I finally figured out. Are you still stuck?
"
158,THE met dates,"Get Help,SQL",queries,2,"
Hi,
I am doing the activity for SQL where we are sorting the data for the MET art. I wanted to order the art so I had the data was sorted by the date and the date going from oldest to newest. (practice item #4).  Why is the below code not doing that? what should I put for it to do so. Currently the activity wants me to find the min then use that to find the oldest, but I want to be able to order the whole list from oldest to newest
select date, title, medium
from met
group by date
order by date desc;
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-the-met
","
Hey @micro2635518921!
Your code seems to work for me. When I run it, the dates are sorted from oldest to newest.
"
159,Split one column in different ones,"Get Help,SQL",queries,6,"
Hi all!!
I want to split the column SKU into different ones by its delimiter (""-"")
Any of you guys have any idea how to do it? Its not explained in the table transformation course so far
  EXAMPLE BELOW

SKU
A-12-3ER-123
B-444-GT
V-34-TRD-122
[https://www.codecademy.com/courses/sql-table-transformation/lessons/date-number-string-functions/exercises/date-number-string-function-generalizations]
","



 bit0204429613:

I want to split the column SKU into different ones by its delimiter (""-"")


in the example, are that the values currently stored in the database? Or do you want to split the values before storing them in the database? Is this exercise related? Or a personal project?
After splitting, then what? How do you know which column(s) the data should be stored?

These are values currently stored in the database and its a personal project
The expected result would be
STYLE   |MODEL   |COLOR   |COLLECTION
--------|--------|--------|----------
A       |12      |3ER     |123
B       |444     |GT      |NULL
V       |34      |TRD     |122


Difficult to say, you give very little information. What programming language/frameworks do you use to communicate with the database? What you want to do sounds like something that could be in the application layer.

I’m using SQL Server…

you are using this piece of software: https://nl.wikipedia.org/wiki/Microsoft_SQL_Server?
Seems possible to split:
https://dev.mysql.com/doc/refman/8.0/en/string-functions.html#function_substring-index
but seems difficult for your use case
the logic you currently describe usually goes into your application layer. Where are you getting the SKU’s from?
"
160,Create a Table - Learn SQL,"Get Help,SQL",general,15,"
I just completed this exercise.  One question I had about it.  How do you re-index the rows after you remove one?  Step #8 wants you to Wait, Jane Smith is not a real person.  Remove her from friends..  What this does is cause this in the picture below.

image2560×1440 1.01 MB

project_1.sql
/*Create a table named friends with three columns: 

id that stores INTEGER

name that stores TEXT

birthday that stores DATE*/

CREATE TABLE friends ( id INTEGER, name TEXT, birthday DATE);

/*Beneath your current code, add Jane Doe to friends.Her birthday is May 30th, 1990.*/

INSERT INTO friends ( id, name, birthday) VALUES ( 1, 'Jane Doe', '1990-05-30');

/*Let’s make sure that Jane has been added to the database: SELECT * FROM friends;*/

/*Add two of your friends to the table.  Insert an id, name, and birthday for each of them.*/

INSERT INTO friends ( id, name, birthday) VALUES ( 2, 'Philip', '1980-05-30');

INSERT INTO friends ( id, name, birthday) VALUES ( 3, 'Scott', '1970-05-30');

/*Jane Doe just got married! Her new last name is “Smith”.Update her record in friends.*/

UPDATE friends SET name = 'Jane Smith' WHERE id = 1;

/*Add a new column named email.*/

ALTER TABLE friends ADD email TEXT;

/*Update the email address for everyone in your table.*/

UPDATE friends SET email = 'jane@codecademy.com' WHERE id = 1;

UPDATE friends SET email = 'philip@a.com' WHERE id = 2;

UPDATE friends SET email = 'scott@a.com' WHERE id = 3;

/*Wait, Jane Smith is not a real person.  Remove her from friends.*/

DELETE FROM friends WHERE id = 1;

/*Great job! Let’s take a look at the result one last time:*/

SELECT * FROM friends;
","
What index?
Maybe what you really mean is that you don’t want an id column

Well, the row they wanted you to remove was 1, as in id 1.  So, when you do so, it left row 2, 3, 4, in place.  It did not re-index the table.  So, how could I re-index the table so that 2 = 1, 3 =2, 4 =3?

Kay, but, why do you say id is index rather than for example the name?
What is id an abbreviation of? (not index)
What is the general purpose of identity, and is change part of that?

Old/bad habits  But I think I just realized how this would be done.  I would have to change id in all instances by -1.  How?  Not sure, but I assume that is what the answer is.

In C style language I would do this with a loop.  I’m unsure if there is a loop in SQL, or something that mimics it to change the id by -1 in all rows.

You could modify values with UPDATE and I still don’t think it’s something you want

OK, so lets say we have a table.  id is used here to enumerate the row.  We delete a row.  How is that to be handled in a real world situation?  Is this normal to have NULL rows in a database?  I’m just having a hard time seeing how you would just delete a row and forget about it?  I can understand if it was sorted by like a name, so it didn’t matter, but when its numerical like this, I would think it would matter?




 psmilliorn:

real world situation?


what says identities need to be consecutive numbers starting from 1
identity and index are two separate concepts, an identity is a unique value for something, an index is a way of finding something
your social security number is an identity. it does not change when somebody dies/is born

Think I see your point now and how I am overthinking this or thinking in the wrong direction.  In this exercise id is simply that.  It’s not an index.
This question came to mind because of past use of SQLite on a video game server I have developed for many years.  It has SQLite, and one feature was a PvP system.  Basically fighting.  So you would log win/loss/ratio in short among other things.  Well, lets say you ban a player, and you want to purge all there records.  OK so we remove those rows.  Well, in this case, we need every row sorted without any skipping in the index column.  Sure, I could use an app to repack the database.  But what if we wanted to do so by script after the ban was in place.
Hope that all makes sense and to give you an idea where I am coming from with this line of thought.

makes me wonder both why they’d need to have some consecutive numbering (I get the feeling it really shouldn’t matter, what would that be used for, is that a bug/bad idea) and also makes me wonder why they’d need to get removed if they’re banned, overkill
but yeah if you needed to change things … update

Toxic players exist in gaming.  Sometimes no matter what you do, the only solution is to ban them.  I try my best to script around such behavior to prevent unwanted behavior, but sometimes either its not possible, or requires immediate attention.
As for the consecutive numbering, imagine a scoreboard/ranking system.  You wouldn’t want your ranking to be non-sequential or have gaps in it.

So you’d filter by not banned, sort by score, take 10
gaps…?

That’s sounds like a better idea.  That is, to have a new column IsBanned and omit all results that return true in that column when you query the table.  That way, if you wish to un-ban someone, the data’s integrity remains.

If you did not have such a column, sure, removing works. Still not an issue with id’s though. You’d take as many results as you wanted to show. There’s no gap in that.
"
161,Practice Joins -- Multiple Tables with REBU Q8,"Get Help,SQL",multiple-tables,3,"
For Q8 at this link:
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-join-data/modules/analyze-data-sql-practice-joins/projects/querying-tables
While my code runs sucessfully until selecting rows less than 500.
WITH riderss AS (
SELECT *
FROM riders
UNION
SELECT *
FROM riders2
)
SELECT SUM(riderss.total_trips) AS ‘#_of_trips’, riderss.id
FROM riderss
WHERE riderss.#_of_trips < 500
GROUP BY 2
ORDER BY 1;
Codes fail after add constraint of “WHERE riderss.#_of_trips <500”
Does it break any rules?
Many Thx for helping~
","
@script5533450681 Welcome to the forums! This may be nothing, but do you need riderss.id in parentheses as well?




 script5533450681:

Codes fail after add constraint of “WHERE riderss.#_of_trips <500”
Does it break any rules?


To the best of my knowledge, you cannot use a field alias - in your case #_of_trips - in your WHERE clause.
If you wanted to restrict the query to only return rows where the total number of trips is below 500, you would need to repeat your SUM:
WITH riderss AS (
SELECT *
FROM riders
UNION
SELECT *
FROM riders2
)
SELECT SUM(riderss.total_trips) AS ‘#_of_trips’, riderss.id
FROM riderss
WHERE SUM(riderss.total_trips) < 500
GROUP BY 2
ORDER BY 1;

I think that will do what you’re after.
"
162,Https://www.codecademy.com/practice/projects/sql-codecademy-student-learners,"Get Help,SQL",queries,2,"
I’m confused with one of the questions in the Codecademy Learners Mockup Data project. There is a column in the database called mobile_app, which contains either the entry NULL or 'mobile-user'. The task is simply to count all the rows that contain 'mobile-user'. I tried this 2 different ways. The first time I used a the = operator in my WHERE clause to count all the entries where mobile_app equals ‘mobile-user’. This gave me the correct answer.
SELECT COUNT(*)
FROM `users`
WHERE `mobile_app` = 'mobile-user';

However, I also tried the query using WHERE mobile_app IS NOT NULL. This returned the count of all rows in the table, rather than only the ones that contained ‘mobile-user’.
I also tried `WHERE NOT mobile_app = ‘NULL’"" and variations thereof, to no avail.
Could someone please explain this for me?
","
When you write
WHERE column IS NOT NULL;

you are effectively saying where there is any value in the column, show the number of those columns. In your case, you wanted find the columns where the only data was 'mobile-user'. Therefore, you can only use the query where you specify this.



 cloud0621796664:

SELECT COUNT(*) FROM users WHERE mobile_app = ‘mobile-user’;


I hope this has helped you!
Happy coding!
"
163,How does the peer review of projects such as Codeflix Churn and Warby Parker Funnels work?,"Get Help,SQL",general,2,"
I’ve completed a couple of the projects so far.  In each set of directions for the project it suggests answering questions and creating a powerpoint file or similar presentation as well as a .sql file of queries used for project.  The directions go on to suggest sharing work with peers on Codecademy getting feedback based on the included rubric.  Where would I share those work products and also see others solutions?
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj
","
To the best that I can see, there is no good way of doing peer review, other than posting to the forums; however, all posts I have seen have been dead (as this one is).
"
164,AGGREGATE FUNCTIONS Average,"Get Help,SQL",aggregate-functions,2,"
Is there a way to not count the empty rows when taking an average of the column?
","
Aggregate functions (SUM, AVG, COUNT, etc) in SQL always automatically exclude NULL.
What do you mean by an empty row?
"
165,Sqlite3 .schema issue,"Get Help,SQL",queries,20,"
Hello and thank you for your help. I have just gone off the codecademy platform in the SQL learning portion (section 4) and have just opened sqlite3 on my Mac. My terminal is recognizing the imported database but none of the data is showing up when I type .schema so I am unable to enter queries. I have included a picture of what is happening. Thank you so much!
The exact video I am interacting with: https://www.youtube.com/watch?v=4MJSZi4qvIE&feature=youtu.be

Screen Shot 2020-01-14 at 11.20.30 AM978×164 27.2 KB

","



 kathleenreily:

My terminal is recognizing the imported database


How are you measuring that?
Because my first guess is that is an empty or non-existant file

Could the issue be that the file won’t open in numbers on the Mac? Therefore it is empty?


Screen Shot 2020-01-14 at 11.30.56 AM804×264 27.2 KB


I doubt mac has anything whatsoever to do with it.
You have a file. You tell sqlite about it. Sqlite does stuff.
If there’s no table then, again, my guess is, it’s empty. A 0 byte file.
And whatever this “numbers” is, it probably has no business looking at the file, does it?

Presumably you typed in a path to a file that did not exist, sqlite created it since it wasn’t there, and obviously, there’s nothing in it.
Usually you don’t want to manually type in file names, tab completion both saves you a bunch of typing and confirms that there’s really a file there or it wouldn’t complete. Commands like ls, pwd and cd can be used to find out what files exist in a directory, where you currently are, and to change directory.

Thank you again I appreciate it, the numbers is Mac equivalent to excel, and when I open the file in google spreadsheet it is populated with Data so perhaps I need to download it in google spreadsheet.
But what you’re saying makes sense maybe I need to find a new dataset that actually exists, this was a download from Stanford sqlite databases that I found through Codecademy




 kathleenreily:

when I open the file in google spreadsheet


but is that the same file?
what I’m suggesting is that you’ve got two files.
one that you’re viewing in a graphical ui, and another one that’s empty in a different location
if it really is the same file I’d be interested to see it
curl --upload-file /replace/this/with/path/to/your/file https://transfer.sh/blah


You’re definitely right, I went ahead and downloaded the google spreadsheet file instead of using the standard download link they provide. See photo below. Then I will try to produce the schema. 
Screen Shot 2020-01-14 at 12.14.09 PM1910×316 42.5 KB


here is the link to where I am getting my data : http://2016.padjo.org/tutorials/sqlite-data-starterpacks/#toc-american-community-survey-1-year-data-for-2015

Well that file is totally fine:
https://asciinema.org/a/CwDHyOyJEniPVVWymsA51Xvgv

There must something I need to download onto the Mac that will allow sqlite3 to read the database, because you’re right at this point when I download it onto the Mac it shows up empty.

Nope.
You’re just not using the file you downloaded.
If you use some gibberish as path you’ll get the same outcome, because that too does not exist.
There’s no problem opening the file. You’re telling it to open a different file.
Try it with the full path instead, something like ~/Downloads/name/of/the/file
Or do what I did, and download it to the directory that your terminal is currently in.

Okay let me follow what you sent me in your quick demo, thanks

I downloaded it using wget, not sure if you have that. You might.
Otherwise curl is probably more commonplace, basically installed on anything including your literal toaster
curl --remote-name http://2016.padjo.org/files/data/starterpack/census-acs-1year/acs-1-year-2015.sqlite

… but then again maybe you don’t have that either.
in which case, either use cd to navigate to the directory where the real file is, or use the full path to the file

I ran the command using curl and it is not returning any column or table information, so I will need to use the full path to access the file as I tried cd but that does not seem to work either. Is there anyway you could provide a quick video demo on how to use the full path in order to access the database in sqlite?

Screen Shot 2020-01-14 at 12.36.36 PM1140×238 36.6 KB


from your screenshot which shows having successfully downloaded the database, you’d only need to do
sqlite3 acs-1-year-2015.sqlite

… and .schema
using full path (as opposed to relative to your current location) isn’t particularly different
sqlite3 /path/to/wherever/the/file/is

since you know where the file is in terms of your graphical interface, that’s how you’d obtain the path, presumably you could right-click (kidding-but-not-really) the file and there’d be an option to show information about it
or for that matter you could copy/move the file to where your terminal is, but, you already did copy it from that web server

you wouldn’t see anything after just using curl … curl doesn’t read databases. it’s a program for sending and receiving data. after running it you’d have the file, nothing’s supposed to happen. but now that you have the file, you can run a different program, sqlite3, and you’d tell sqlite3 about the file you just downloaded

Bless you, thank you so much!!! It worked, the initial command
sqlite3 acs-1-year-2015.sqlite
.schema
was very successful, I really appreciate your help and bearing with me while I use my training wheels 

moral of the story, then:
don’t type file names without checking whether they’re there
and, the easiest way to verify that is to use tab completion every time you type in a file
sqlite3 ac<press TAB .. possibly twice>

when you use a graphical file explorer you’d only click things you see … using a terminal isn’t any different
a terminal is an excellent file explorer! especially after setting up some key bindings and maybe some custom commands, for example the first thing you’d do after changing directory is almost always to list the files, so you could make a cd that runs both cd and ls

I’m sure I have overcomplicated it a bit, thinking about sqlite as a graphical interface is really helpful!
"
166,SQL calculating Churn step 6. Difference between 'WITH AS' and 'AS',"Get Help,SQL",general,1,"
Hi, I’m not really sure about the function of using ‘WITH’ before ‘AS’.
There are total of 3 ‘AS’ rows in the paragraph below but only one on the top has ‘WITH’.
Why do I need to use the ‘AS’?
WITH months AS
(SELECT
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT
‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
UNION
SELECT
‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months),
status AS
(SELECT id, first_day as month,
CASE
WHEN (subscription_start < first_day)
AND (
subscription_end > first_day
OR subscription_end IS NULL
) THEN 1
ELSE 0
END as is_active
FROM cross_join)
SELECT *
FROM status
LIMIT 100;
",
167,Practice,"Get Help,SQL",,4,"
In the World population practice, in question 4, I did this:
//with uni as (select * from countries
left join population_years
on countries.id = population_years.country_id)
select sum (population) from uni
where continent = ‘Oceania’ and year = 2005;//
And the codecademy answer is this:
//SELECT SUM(population) FROM population_years
INNER JOIN countries ON
countries.id = population_years.country_id
WHERE year = 2005
AND continent = ‘Oceania’;//
And the answer was correct.
So, what is the computing difference?
","
I honestly don’t know xD!!

Will you post a link to the problem, please?

What does this line of code do?
countries.id = population_years.country_id
"
168,Trouble Setting Up Sqlite,"Get Help,SQL",general,4,"
I am having a ton of trouble with opening sqlite in gitbash from the instructions listed in the Data Scientist curriculum. I followed it exactly and it does not seem to work. Seems to be incorrect. And the video isn’t helpful since he uses command line. Also if it matters when my dad and I built my computer years ago, he decided it would be best to partition the memory if that matters.
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-go-off-platform/modules/analyze-data-sql-learn-off-platform/articles/what-is-sqlite
","
Hey @ethanwright904369191, and welcome to the forum.
There’s a quickstart guide for SQLite on their documentation, which may help.
Otherwise, it’s not very helpful to us to simply say “sqlite isn’t working”. If you can explain how it’s not working, for instance by sharing what you’re entering into the console and what (if any) error you’re getting back, then we may be able to help.

So on step 2 of the following is where I am having issues.
Setting Up SQLite
Binaries for SQLite can be installed at the SQLite Download page.
Windows
For Windows machines:

Download the  sqlite-tools-win32-x86-3200100.zip  file and unzip it.
From your git-bash terminal, open the directory of the unzipped folder with  cd ~/Downloads/sqlite-tools-win32-x86-3200100/sqlite-tools-win32-x86-3200100/ .
Try running sqlite with the command  winpty ./sqlite3.exe . If that command opens a  sqlite>  prompt, congratulations! You’ve installed SQLite.

It says not found in library. I know the sqlite has a newer version so I updated that, but it can’t seem to locate the file. Tried multiple combinations and moving the folder of the download. what does the cd~ part mean? And if my computer is partitioned will that effect this?

To run a program from a terminal, type the filepath to the executable file
This is like clicking on the file
the environment that comes bundled with git for windows is probably not where you want to do much of anything other than possibly run git, if even that. consider using wsl, msys2, or plain windows instead
"
169,[project] Calculating Churn Rates,"Get Help,SQL",multiple-tables,1,"
Sometimes my code cannot be executed, even what my code is same as the answer.
Here is my struggle:
In project: Calculating Churn Rates
my code:
with months as (
select
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
union
select
‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
union
select
‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join as (
select *
from subscriptions
cross join months
),
status as (
select id,
first_day as month,
segment
case
when (segment = 87)
(subscription_start < first_day)
and (subscription_end > first_day
or subscription_end is null) then 1
else 0
end as is_active_87,
case
when (segment = 30)
and (subscription_start < first_day)
and (subscription_end > first_day
or subscription_end is null) then 1
else 0
end as is_active_30),
case
when (segment = 87)
and (subscription_end between first_day and last_day) then 1
else 0
end as is_canceled_87,
case
when (segment = 30)
and (subscription_end between first_day and last_day) then 1
else 0
end as is_canceled_30,
from cross_join
),
status_aggregate as (
select
month,
sum(is_active_87) as sum_active_87,
sum(is_active_30) as sum_active_30,
sum(is_canceled_87) as sum_canceled_87,
sum(is_canceled_30) as sum_canceled_30
from status
group by month, segment
)
select
month,
1.0 * sum_canceled_87 / sum_active_87 as churn_rate_87,
1.0 * sum_canceled_30 / sum_active_30 as churn_rate_30
from status_aggregate;
What is the answer of [project] Calculating Churn Rates?
",
170,Group By II - Ascending vs. Descending,"Get Help,SQL",general,2,"
How do we request the results of our query be presented in descending order:
select category, price, avg(downloads)
from fake_apps
group by 1, 2;
Result:




category
price
avg(downloads)




Books
0.0
11926.5


Books
0.99
27709.5


Books
1.99
21770.3333333333


Books
2.99
16281.0




","
@array5804981380, welcome to the forum!
In order to order things in descending order, you would have to use the order by function in SQL. The keyword for descending in DESC and the key word for ascending is ASC.
For example:
   from table1
   group by column 1
   order by column1 DESC;

"
171,Sql-missing important stuff,"Get Help,SQL",general,1,"
the course miss important stuff- like

about count function- with group by , its not important on which column you do it, and in the course they wrote- 'we use * because we want to count all the result, instead explain how it work
2, the order sql actually work( like where happening befor ect…) and why we write in this order

",
172,Can i order by my category?,"Get Help,SQL",queries,1,"
like order excellent first, after great, after good ect…
i
You must select a tag to post in this category. Please find the tag relating to the section of the course you are on E.g. loops, learn-compatibility
When you ask a question, don’t forget to include a link to the exercise or project you’re dealing with!
If you want to have the best chances of getting a useful answer quickly, make sure you follow our guidelines about how to ask a good question.  That way you’ll be helping everyone – helping people to answer your question and helping others who are stuck to find the question and answer! 
",
173,Warby Parker Project - Last Question Help,"Get Help,SQL",multiple-tables,1,"
On question 6 of the Warby Parker Usage Funnel Project, we wrote this script:
`SELECT DISTINCT q.user_id,
  q.user_id IS NOT NULL AS 'is_home_try_on',
  h.number_of_pairs,
  p.user_id IS NOT NULL AS 'is_purchase'
FROM quiz q
LEFT JOIN home_try_on h
  ON q.user_id = h.user_id
LEFT JOIN purchase p
  ON q.user_id = p.user_id
LIMIT 10;`

I’m wondering why is it is that in the Project Walkthrough they do not use this table to query by using WITH. Instead, the instructor uses UNION ALL to join all tables together (see below) which was a little confusing to me:
WITH q AS (
SELECT '1-quiz' AS stage, 
  COUNT(DISTINCT user_id)
FROM quiz),
h AS (
SELECT '2-home_try_on' AS stage,
  COUNT(DISTINCT user_id)
FROM home_try_on),
p AS (
SELECT '3-purchase' AS stage,
  COUNT(DISTINCT user_ID)
FROM purchase)

SELECT *
FROM q
UNION ALL
SELECT *
FROM h
UNION ALL
SELECT *
FROM p;

Instead of the above method, why does the following approach result in 1000 results for both ‘1-quiz’ and ‘2-home_try_on’?
WITH funnel AS (
SELECT DISTINCT q.user_id,
  q.user_id IS NOT NULL AS 'is_home_try_on',
  h.number_of_pairs,
  p.user_id IS NOT NULL AS 'is_purchase'
FROM quiz q
LEFT JOIN home_try_on h
  ON q.user_id = h.user_id
LEFT JOIN purchase p
  ON q.user_id = p.user_id
)
SELECT COUNT(DISTINCT user_id) AS '1-quiz',
  SUM(is_home_try_on) AS '2-home_try_on',
  SUM(is_purchase) AS '3-is_purchase'
FROM funnel;

I would have never thought to break it apart like the walkthrough did and some insight as to why one is preferred over the other would help a lot.
Thanks!
",
174,Project Assignment: Marketing Attribution,"Get Help,SQL",general,1,"
I’m sorry if this doesn’t belong, I just don’t know where it goes. Currently, I’m working on the Marketing Attribution Project and working on the slideshow aspect. I can’t find the source data table for the project, therefore I can’t show the source code.
Thanks for the help!
",
175,Https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/projects/analyze-data-sql-usage-funnels-with-warby-parker,"Get Help,SQL",queries,3,"
Query not working for Usage Funnels project.sqlite:
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/projects/analyze-data-sql-usage-funnels-with-warby-parker
I cannot understand why this query is not working that I am using in order not to use Excel spreadsheet:
SELECT COUNT (CASE
WHEN question =‘1. What are you looking for?’ THEN user_id END) AS ‘Q.1’,
COUNT (CASE
WHEN question =‘2. What’‘s your fit?’            THEN user_id END) AS ‘Q.2’,
COUNT (CASE WHEN question = '3. Which shapes do you like?'THEN user_id END) AS ‘Q.3’,
COUNT(CASE WHEN question = ‘4. Which colors  do you like?’ THEN user_id END) AS ‘Q.4’,
COUNT (CASE WHEN question = ‘5. When was your last eye exam?’ THEN user_id END) AS ‘Q.5’
FROM survey;
It just returns me the correct number for Question 2 and Question 5. As for the remaining questions, their COUNT value is 0.
Could you help me please?
","
I have a feeling you have a typo or something but to reduce the risk of that use LIKE instead of =
Try this:
WITH q as(
SELECT
COUNT(CASE WHEN question LIKE ‘1%’ THEN user_id END) AS ‘Q1’,
COUNT(CASE WHEN question LIKE ‘2%’ THEN user_id END) AS ‘Q2’,
COUNT(CASE WHEN question LIKE ‘3%’ THEN user_id END) AS ‘Q3’,
COUNT(CASE WHEN question LIKE ‘4%’ THEN user_id END) AS ‘Q4’,
COUNT(CASE WHEN question LIKE ‘5%’ THEN user_id END) AS ‘Q5’
FROM survey)
SELECT 100.0 * Q2/Q1 as ‘1-to-2’,
100.0 * Q3/Q2 as ‘2-to-3’,
100.0 * Q4/Q3 as ‘3-to-4’,
100.0 * Q5/Q4 as ‘4-to-5’
FROM q;

ALSO, I want to know if SQL without Excel is a viable thing? or is that why ppl use python as well as? any link to a more rich discussion is welcome! <3
"
176,Telephone's code replacement,"Get Help,SQL",queries,3,"
Hi everyone))) Can anybody help me with the SQL task?
We have: telephone’s data type is decimal
Task: Need to replace telephone code from 495 to 499.
Code:
UPDATE dbo.Readers
SET Contact_telephone = REPLACE(Contact_telephone, 495, 499);

If I do it like this, every single 495 record in Readers.Contact_telephone will be replaced with 499. This isn’t right 

I’ll be very glad if you help me)))
","
Solved by me)))
If somebody will get into this trouble, so here’s the solution:
UPDATE dbo.Readers_new

--using STUFF to replace Contact_telephone's value on 499 with len = 3 starting from 2nd index
SET Contact_telephone = STUFF(Contact_telephone, 2, 3, 499) 

--where Contact_telephone's value = 495 starting from 2nd index with len = 3
WHERE SUBSTRING(STR(Contact_telephone , 11), 2, 3) = 495

--select everything from Readers_new table
SELECT * FROM dbo.Readers_new


This topic was automatically closed 18 hours after the last reply. New replies are no longer allowed.
"
177,"#sql, #compare, #2columns # queries","Get Help,SQL",queries,1,"
** The energy table shows the 2014 energy consumption and production of each U.S. state, measured in billions of BTU (British Thermal Unit). How many states produce more energy than they consume?** I need help. Thank you.
",
178,My sql code is not giving any result,"Get Help,SQL",,18,"
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/projects/calc-churn-proj
in this exercice i am not getting any result when i am attempting fifth question.
","
Hello  Welcome to the forum.
Please post your code. We simply cannot help if we don’t know what is the problem.
In this article -> How to ask good questions (and get good answers) you will find some helpful tips on how to help us to help you 

WITH months AS
( SELECT ‘2017-01-01’ AS ‘first-day’,
‘2017-01-31’ AS ‘last-day’
UNION
SELECT ‘2017-02-01’ AS ‘first-day’,
‘2017-02-28’ AS ‘last-day’
UNION
SELECT ‘2017-03-01’ AS ‘first-day’,
‘2017-03-31’ AS ‘last-day’
FROM subscriptions
),
cross_join AS
( SELECT *
FROM subscriptions
CROSS JOIN months
)
status AS
(
SELECT id, first-day AS ‘month’,
CASE
WHEN (subscription_start < first_day)
AND (
subscription_end > first_day
OR subscription_end IS NULL)
THEN 1
ELSE 0
END as ‘is_active’
FROM cross_join
)
SELECT *
FROM status
LIMIT 10;

The article I linked above also talks about code formatting 
Take a look at these two lines:
SELECT ‘2017-01-01’ AS ‘first-day’,

WHEN (subscription_start < first_day)

Do you see some inconsistency in the naming? Awesome, you can fix this!

By the way, name first_day is a much better choice. first-day looks like an expression, you would have to use brackets in comparisons:
WHEN (subscription_start < [first-day])

Use first_day and last_day.

It is not working even after I changed “first-day” as “first_day”
WITH months AS
( SELECT ‘2017-01-01’ AS first_day,
‘2017-01-31’ AS last_day
UNION
SELECT ‘2017-02-01’ AS first_day,
‘2017-02-28’ AS last_day
UNION
SELECT ‘2017-03-01’ AS first_day,
‘2017-03-31’ AS last_day
FROM subscriptions
),
cross_join AS
( SELECT *
FROM subscriptions
CROSS JOIN months
)
status AS
(
SELECT id, first_day AS month,
CASE
WHEN (subscription_start < first_day)
AND (
subscription_end > first_day
OR subscription_end IS NULL)
THEN 1
ELSE 0
END AS is_active
FROM cross_join
)
SELECT *
FROM status
LIMIT 10;

Good job! 
There is only one slight problem left, here:
)
status AS

status is the next temporary table, so you need to add ,:
),
status AS


Thank you for taking time and helping me out.

You’re very welcome 

Hi,
I’ve had the same issue with this question on the project, even after using the above (corrected) code in my project it has still returned no results. Went through the walkthrough video over and over and still nothing - the code seems to work up to question 4 but it stops returning results after this.
Here is the code I’ve managed to do:
WITH months AS
(SELECT '2017-01-01' AS first_day,
		'2017-01-31' AS last_day
UNION
SELECT '2017-02-01' AS first_day,
		'2017-02-28' AS last_day
UNION
SELECT '2017-03-01' AS first_day,
		'2017-03-31' AS last_day),
       
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months),

status AS
(SELECT id,
 first_day AS 'month',
 CASE
 	WHEN (subscription_start < first_day) AND (subscription_end > first day OR subscription_end IS NULL) AND (segment = 87)
 THEN 1
 ELSE 0
END AS 'is_active_87',
CASE
 	WHEN (subscription_start < first_day) AND (subscription_end > first day OR subscription_end IS NULL) AND (segment = 30)
 THEN 1
 ELSE 0
END AS 'is_active_30'
 FROM cross_join) 
SELECT *
FROM status
LIMIT 50;


Hello  Welcome  to the forum!
Two times in your code you are referring to the first_day column as first day. This is why the query does not work. Simply a typo 
Eh, there should be error messages in this course 

Thank you so much! 

You’re very welcome 

Hi Guys,
Also on this challenge and can’t seem to see my mistake :
status as
(SELECT
id,
first_day as month,
CASE
WHEN (subscription_start < first_day) AND
(subscription_end > first_day OR subscription_end IS NULL) AND (segment = 87) THEN 1
ELSE 0
END AS is_active_87,
CASE
WHEN (subscription_start < first_day) AND
(subscription_end > first_day OR subscription_end IS NULL) AND (segment = 30) THEN 1
ELSE 0
END AS is_active_30,
CASE
WHEN
(subscription_end BETWEEN first_day AND last_day)
AND
(segment = 87) THEN 1
ELSE 0
END AS is_canceled_87,
CASE
WHEN
(subscription_end BETWEEN first_day AND last_day)
AND
(segment = 30) THEN 1
ELSE 0
END AS is_canceled_30
FROM cross_join
)

please post your full code

I’m having the same result. Can’t see any error in my code!
WITH months AS
(SELECT
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
UNION
SELECT
‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
UNION
SELECT
‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
FROM subscriptions),
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months),
status AS
(SELECT id,
first_day AS month,
CASE
WHEN (subscription_start < first_day)
AND (subscription_end > first_day
OR subscription_end IS NULL)
AND (segment = 87) THEN 1
ELSE 0
END AS is_active_87,
CASE
WHEN (subscription_start < first_day)
AND (subscrption_end > first_day
OR subscription_end IS NULL)
AND (segment = 30) THEN 1
ELSE 0
END AS is_active_30,
CASE
WHEN (subscription_end BETWEEN first_day AND 	last_day) AND (segment = 87) THEN 1
ELSE 0
END AS is_cancelled_87,
CASE
WHEN (subscription_end BETWEEN first_day AND last_day)
AND (segment = 30) THEN 1
ELSE 0
END AS is_cancelled_30
FROM cross_join)
SELECT * FROM status LIMIT 10;




 boardjumper37163:

AND (subscrption_end > first_day


I found inconsistency here. Change subscrption to subscription.

I’m not getting a response and I can’t see where I’m making my mistake.  Code below.  Help greatly appreciated.
WITH months AS
(SELECT
‘2017-01-01’ AS first_day,
‘2017-01-31’ AS last_day
UNION
‘2017-02-01’ AS first_day,
‘2017-02-28’ AS last_day
UNION
‘2017-03-01’ AS first_day,
‘2017-03-30’ AS last_day
),
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months),
status AS
(SELECT
id,
first_day AS month,
CASE
WHEN (subscription_start < first_day)
AND (subscription_start > first_day)
OR (subscription_end IS NULL)
AND (segment = 87)
THEN 1
ELSE 0
END AS is_active_87,
CASE
WHEN (subscription_start < first_day)
AND (subscription_start > first_day)
OR (subscription_end IS NULL)
AND (segment = 30)
THEN 1
ELSE 0
END AS is_active_30,
CASE
WHEN subscription_end BETWEEN
first_day AND last_day
AND (segment = 87)
OR subscription_end IS NOT NULL
THEN 1
ELSE 0
END AS is_canceled_87,
CASE
WHEN subscription_end BETWEEN
first_day AND last_day
AND (segment = 30)
OR subscription_end IS NOT NULL
THEN 1
ELSE 0
END AS is_canceled_30
FROM cross_join)
SELECT *
FROM status
LIMIT 10;

UPDATE: I figured it out.  In the first temporary table, I wasn’t putting a ‘SELECT’ statement in for each month date range (a dumb mistake) but something that took me an hour and then some coming back to see. In the meantime, I was able to refactor some code and got all the answers correct.  WOW. What a learning experience.  Here is my final code:
WITH months AS
(SELECT
‘2017-01-01’ AS first_day,
‘2017-01-31’ AS last_day
UNION
SELECT
‘2017-02-01’ AS first_day,
‘2017-02-28’ AS last_day
UNION
SELECT
‘2017-03-01’ AS first_day,
‘2017-03-30’ AS last_day),
cross_join AS
(SELECT *
FROM subscriptions
CROSS JOIN months),
status AS
(SELECT
id,
first_day AS month,
CASE
WHEN (subscription_start < first_day)
AND (subscription_start > first_day
OR subscription_end IS NULL)
AND (segment = 87)
THEN 1
ELSE 0
END AS is_active_87,
CASE
WHEN (subscription_start < first_day)
AND (subscription_start > first_day
OR subscription_end IS NULL)
AND (segment = 30)
THEN 1
ELSE 0
END AS is_active_30,
CASE
WHEN (subscription_end BETWEEN
first_day AND last_day)
OR (subscription_end IS NOT NULL)
AND (segment = 87)
THEN 1
ELSE 0
END AS is_canceled_87,
CASE
WHEN (subscription_end BETWEEN
first_day AND last_day)
OR (subscription_end IS NOT NULL)
AND (segment = 30)
THEN 1
ELSE 0
END AS is_canceled_30
FROM cross_join),
status_aggregate AS
(SELECT
month,
SUM(is_active_87) AS ‘sum_active_87’,
SUM(is_active_30) AS ‘sum_active_30’,
SUM(is_canceled_87) AS ‘sum_canceled_87’,
SUM(is_canceled_30) AS ‘sum_canceled_30’
FROM status
GROUP BY month)
SELECT
month,
ROUND((1.0 * (sum_canceled_87) / (sum_active_87)),2) AS ‘Churn_87’,
ROUND((1.0 * (sum_canceled_30) / (sum_active_30)),2) AS ‘Churn_30’
FROM status_aggregate
GROUP BY month;
"
179,Code Challenge: Aggregate Functions Code Challenge 9,"Get Help,SQL",general,2,"
I’ve noticed on the Code Challenge 9 that the SELECT Clause would not let me write MIN(…), MAX(…)
Example:
SELECT MIN(watch_duration_in_minutes) AS ‘Min’,
MAX(watch_duration_in_minutes) AS ‘Max’
FROM watch_history;
I would get an error stating that it is incorrect. I just went and review the questions again and it just said "" Use one query and rename the results to max and min.""
Does the Order of operation/rules apply to MAX & MIN in the SELECT Clause, or must it be MAX & MIN? I didn’t see this on regarding to the order of operations for the use of these clause or must have missed it?
","
Hello, @rubysurfer86188.
Welcome to the forums.



 rubysurfer86188:

Does the Order of operation/rules apply to MAX & MIN in the SELECT Clause, or must it be MAX & MIN?


It’s not that your code isn’t a valid SQL query. It does return the correct results, but it returns them in the opposite order requested by the exercise’s instructions. Sometimes (frequently) the SCT for the exercises is very picky.
"
180,When does SQLite table reset itself? (I like to play),"Get Help,SQL",general,3,"
I like to play around a bit as I learn SQL within my browser, so I often type additional statements into the code editor to see what will happen in the 3rd area (output). I realize that there are limitations to the way SQL is running in the web page, but I often get outputs which confuse me because they seem to have reset the database when I did not push the Reset button at the bottom of the web interface.
For example, after I ran the ALTER TABLE command taught, I ran an UPDATE-SET-WHERE set of clauses to add data into the new column, but since the table had already been “altered”, I removed the ALTER TABLE statement and just ran the UPDATE statement along with a SELECT statement to display the results. But the result was that the new column was gone.
So it seems to me that each set of instructions in the code editor starts over from a standardized database whenever we press RUN. Is this correct?
In summary, if we want to do a second set of things after pressing RUN, we should keep the existing statements that gave us the first modified state of the database and not delete them? Our database isn’t harmed by re-running those first-stage statements along with our new second-stage statements?
Thanks for an explanation!
","
No replies for six days.  I’ve now figured out that, for a given page of coursework, we are to add statements to what’s already there, else we lose the values in our table. Each time you hit Run or Save, you’ll run the entire page of statements, and the results will be as expected. Removing statements you’ve already run once, but which created tables, or added or modified data, will mean that data doesn’t appear in your table.

This topic was automatically closed 18 hours after the last reply. New replies are no longer allowed.
"
181,SQL BASICS - PROJ 1. Updating mutiple 'emails' in diff rows in 2-3 lines (more concise?) HOW?,"Get Help,SQL",manipulation,2,"
SQL LEARN SQL PROJECT_1
https://www.codecademy.com/courses/learn-sql/projects/learn_sql_create_table
I did this but I am sure you can do this in 2-3 lines;
update friends
set email = ‘jane@codeacademy.com’
where name = ‘Jane Smith’;
update friends
set email = ‘john@codecademy.com’
where name = ‘John Brown’;
update friends
set email = ‘charlene@codecademy.com’
where name = ‘Charlene Buckett’;
","
ok i google this and got; and it worked…
however - not sure why I am paying extra for say compared to data quest when I am having to google; would expect more support… really not happy no slack, no live help…
UPDATE friends
SET email =
CASE name
WHEN ‘Jane Smith’ THEN ‘jane@codecademy.com’
WHEN ‘John Brown’ THEN ‘john@codecademy.com’
WHEN ‘Charlene Buckett’ THEN ‘charlene@codecademy.com’
ELSE 0
END
WHERE name IN (‘Jane Smith’,‘John Brown’,‘Charlene Buckett’);
"
182,Looking for errors in 'status' temporary table in Churn Rates Project,"Get Help,SQL",general,1,"
Hi! Here’s another “I’m not getting a result or error code” question about the Churn Rates Project. I combed back through my code comparing it with the code in the walkthrough. I found some little issues, like a missing comma and such like, and have cleaned all that up. I also went through temporary table by temporary table with a
SELECT * FROM [table] LIMIT 10;
command, and everything with the ‘months’ and ‘cross_join’ tables checks out. So I’m on ‘status’ and can’t find what I’m missing comparing it to the code in the walkthrough. I’ve even changed some differences that appear arbitrary (extra parentheses, order of statements in the ‘ AND  AND ’ bit of the CASE WHEN commands for ‘is_active_87’ and ‘is_active_30’. No results yet. You all see anything?

Capture d’écran 2019-11-26 à 21.27.39.png474×600 62.8 KB


Capture d’écran 2019-11-26 à 21.29.45.png570×573 69.5 KB
 
Thanks!
",
183,DB Brower wants a password / encryption key to open a codecademy .sql file,"Get Help,SQL",general,3,"
Hi! I’m on World Populations SQL Practice II, working in macOS Mojave version 10.14.6. I found a similar query already posted up here without a resolution.
I’m running my SQL commands in DB Browser for SQLite. I opened the file “population_queries.sql” no problem, but when I try to open the solution file “population_queries_final.sql” I get a pop-up window in DB asking for a password, which I’m not seeing in the Codecademy instructions. My system’s in French, which maybe I should change if I have more things I need to screenshot and ask questions about, but since this is the first time I’ll just translate it.

Capture d’écran 2019-11-18 à 15.51.27.jpg852×436 72.2 KB

""Please enter the key used for the encryption of the database.
“If other parameters have been modified for this database, you have to also provide this information.”
Then next to the open field right below it, it just says “Password.” Then there’s a drop down menu to the right for either “Secret Phrase” or “Encryption Key.”
It get the same popup when I try to open the solution file from Finder and when I try to open the file from DB Browser.
I should also note I’m able to open the .sql solution file with TextEdit:

Capture d’écran 2019-11-18 à 16.02.59.png802×566 182 KB

Any thoughts? Let me know if there’s any other information we need to figure this out. Thanks!
Update: I just tried to open the solution .sql file after quitting DB Browser and got the same popup. Then I tried to open the original .sql file that I opened successfully before and got the same popup! Thanks again for any help.
","
I firgured it out (with some help over at stack overflow)! I was accidentally opening .sql files that didn’t contain databases, so DB Browser assumed they were encrypted.

This topic was automatically closed 18 hours after the last reply. New replies are no longer allowed.
"
184,Does an SQL query step over a failed constraint or does it fail out completely?,"Get Help,SQL",general,1,"
Hi!
So, let’s say I’m inserting a row like this:
INSERT INTO mytable
VALUES (13, “Martin”, “Passenger”)
INSERT INTO mytable
VALUES (more stuff here…)
INSERT INTO mytable
VALUES (more stuff here…);
But the constraint for the data associated with “Martin” has been previously declared to be UNIQUE, and “Martin” is not unique. My question is, will the second and third INSERT INTO clauses work, (assuming that they’re correctly formed and within constraints), or will the interpreter crash out of the query at the first INSERT INTO clause and not even try to do anything with the subsequent clauses?
Thanks!

Mark

",
185,SELECT DISTINCT Applies to multiple column 'selections'?,"Get Help,SQL",queries,1,"
select distinct q.user_id,
h.user_id is not null as ‘is_home_try_on’,
h.number_of_pairs,
p.user_id is not null as ‘is_purchase’
from quiz as ‘q’
left join home_try_on as ‘h’
on q.user_id = h.user_id
left join purchase as ‘p’
on q.user_id = p.user_id
limit 10;
In the above code, am I specifying to select the distinct user_id from each of the tables (alias q, h, and p)? Or to just select the distinct user_id from table alias as q?
",
186,"Hi, why use UNION but not use CREATE TABLE and INSERT INTO?","Get Help,SQL",general,3,"
hi, why we not use CREATE TABLE and INSERT INTO? for new table?
lesson: https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-user-churn/lessons/churn-rates-les/exercises/multi-month-i

with months as
(
SELECT
‘2017-01-01’ AS first_day,
‘2017-01-31’ AS last_day
union
SELECT
‘2017-02-01’ AS first_day,
‘2017-02-28’ AS last_day
union
SELECT
‘2017-03-01’ AS first_day,
‘2017-03-31’ AS last_day)
SELECT *
FROM months;

","
You can use CREATE TABLE and INSERT INTO. But I THINK that this will consume more memory and space in your SQL database, and a temporary table (Using  WITH) doesn’t waste it.




 juliomsiqueira:

a temporary table (Using WITH)


WITH doesn’t create a temporary table, it creates a CTE (Common Table Expression).
You’re on the right track, though. A CTE only exists within the scope of the query that defines it, so once your query has finished executing the CTE no longer exists.
In contrast, I think most SQL engines keep temporary tables around for the duration of the session so the table exists until you disconnect from the server.
Which one you’d use, i.e. CTE vs temp table, would depend on how long you’d need the resulting data.
"
187,What wrong with my code? SQL project,"Get Help,SQL",general,9,"
[# Usage Funnels with Warby Parker] (https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/projects/analyze-data-sql-usage-funnels-with-warby-parker)
table funnels was true, but  the ‘quiz_to_try’ is like this, resulted as 1.0 . please answer me. THanks. link
edit: hi, i figure out because i use group by (1) so it only count user_id of each kind then result as 1.0, but then i change denominator ‘count(user_id)’ to 1000 it resulted as 0.0, so what is the right code?




number_of_pairs
quiz_to_try
try_to_purchase





0.0



3 pairs
1.0
0.530343007915567


5 pairs
1.0
0.792452830188679




with funnels as (SELECT DISTINCT q.user_id,
h.user_id IS NOT NULL AS is_home_try_on,
h.number_of_pairs,
p.user_id IS NOT NULL AS is_purchase
FROM quiz q
LEFT JOIN home_try_on h
ON q.user_id = h.user_id
LEFT JOIN purchase p
ON p.user_id = q.user_id)
select number_of_pairs,
1.0*(sum(is_home_try_on)/count(user_id))as quiz_to_try,
1.0*sum(is_purchase)/sum(is_home_try_on) as try_to_purchase
from funnels
group by 1;

","
If the user has chosen a pair to try, he converted.
So, quiz_to_try will always be 1.
Your code is correct.

i know but the result should be <1, ;quiz to try’ funnels, so i ask for solutions.
frequently, Code academy, use sum, then tell us to use excel to calculate the ‘rate’

then i change ‘count(user_id)’ to 1000 (just a number) then it result as 0.0? why?

You did multiplicated for 1.0 to get a float number?
1.0 * SUM(is_home_try_on)/1000

You’ll get 0.75 that’s quizz to home try convertion

yes, i’ve already used still 0.0 at that column

with funnels as (SELECT DISTINCT q.user_id,
h.user_id IS NOT NULL AS is_home_try_on,
h.number_of_pairs,
p.user_id IS NOT NULL AS is_purchase
FROM quiz q
LEFT JOIN home_try_on h
ON q.user_id = h.user_id
LEFT JOIN purchase p
ON p.user_id = q.user_id)
select number_of_pairs,
1.0*(sum(is_home_try_on)/1000) as quiz_to_try,
1.0*sum(is_purchase)/sum(is_home_try_on) as try_to_purchase
from funnels
group by 1;


You’ve used () in your code. 1.0 x 0 = 0
You wrote:
1.0*(sum(is_home_try_on)/1000) as quiz_to_try,

What you should wrote:
1.0*sum(is_home_try_on)/1000 as quiz_to_try,


Ohhhh, so smart , thanks a lot!!

This topic was automatically closed 18 hours after the last reply. New replies are no longer allowed.
"
188,Relate to Group by function and data shown,"Get Help,SQL",general,4,"
question:  the table show timestamp column, i dont group by them but they show, i want to ask why they show that information but not others?
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-hackernews
can you access this link? task 9 to 11
my script:

SELECT timestamp, strftime(’%H’, timestamp), round(avg(score)) as avgscore, count(*)
FROM hacker_news
where timestamp is not null
GROUP BY 2
order by 2;

thanks
","
Hi There. If you don’t want timestamp to show, just don’t type it on SELECT. Here’s how your code would be without timestamp:
SELECT strftime('%H', timestamp) AS Hour, ROUND(AVG(score),0) AS avgscore, COUNT(*)
FROM hacker_news
WHERE timestamp IS NOT NULL
GROUP BY 1
ORDER BY 2 DESC;


hi, thanks but i just ask that why when i select timestamp and they show like that?

I can’t see your exercise. But running your script I see this:

image.png807×284 9.83 KB

timestamp format is on the source format. You need to use strftime to set your format. This is a usefull link: strftime reference
"
189,Https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/projects/analyze-data-sql-usage-funnels-with-warby-parker,"Get Help,SQL",,2,"
I am hoping someone help me solve the confusion of the 5 question in project ‘Usage funnel Warby Parker’. The codes from solutions are as followed:
WITH q AS(
SELECT ‘1-quiz’ AS stage, COUNT(DISTINCT user_id)
FROM quiz
),
h AS(
SELECT ‘2-home-try-on’ AS stage,
COUNT(DISTINCT user_id)
FROM home_try_on
),
p AS(
SELECT ‘3-purchase’ AS stage, COUNT(DISTINCT user_id)
FROM purchase)
SELECT *
FROM q
UNION ALL SELECT *
FROM h
UNION ALL SELECT *
FROM p;
My question is, how can we choose ‘1-quiz’, ‘2-home_try_on’ in the WITH…AS… clause? Since the ‘1-quiz’ AS stage doesn’t exist in the databased quiz…Please explain.
","
Hi @shawnxcai126 - welcome to the forum.



 shawnxcai126:

My question is, how can we choose ‘1-quiz’, ‘2-home_try_on’ in the WITH…AS… clause? Since the ‘1-quiz’ AS stage doesn’t exist in the databased quiz…Please explain.


In SQL, when we do something like this:
SELECT 'value' AS column
what we’re doing is creating a new column in the query called column and giving every row in the returned data set the value value.
So, SELECT '1-quiz' AS stage creates a new column - stage - and gives every row the same value of ‘1-quiz’.
Does that make sense? 
"
190,BETWEEN TEXT values with the '%' character,"Get Help,SQL",queries,1,"
What happens if we insert a ‘%’ into a condition like so:
BETWEEN ‘D’ AND ‘F%’ ;
To a SELECT clause on a column whose values are supposed to be TEXT in a relation somewhere.
I’m curious, what all values does this operator compare from the column? Will it compare strings like ‘foot’ or ‘Fzzzzzzz’ to others in the column?
If you want to use a comparison with different bounds like this
BETWEEN ‘D’ AND ‘G’ ;
there is a possibility the single letter ‘G’ could be returned, if it is in the column. I would like if my query somehow did not return the single letter G. Practically, if G can somehow be flagged as anomalous and therefore not returned, I’m curious how that is done.
",
191,Glitch in Codecademy,"Get Help,SQL",,3,"
Code challenge 3 in the joining of multiple tables in Code academy straight up doesn’t work. This is the third code challenge in intermediate in the data science path. It says that it can’t connect to this specific challenge, which makes it quite difficult to pass obviously. It also makes me feel foolish for paying for pro if only a day in i am unable to progress any further.
","
Hello, @cjamy.
Welcome to the forum.
Have you tried refreshing your browser?
I just went to the code challenge you referenced, and it connects with no problem.
Here’s the link:
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-multiple-tables/lessons/sql-multiple-tables-code-challenge/exercises/left-join

It appears to have fixed itself within the last hour and i have been doing it.
Thank you for replying anyway.
"
192,SQLite after setup. How to open database again?,"Get Help,SQL",,1,"
Hey!
Have followed the video in SQLite setup and got everything setup and was able to run queries in PowerShell, did go to control panel, added the path so it would be easier to access it later.
Problem - closed  PowerShell and now cannot get to the database file anymore, tried the thing below.
How to open it again then?
Thanks
sqlite> .open acs-1-year-2015.sqlite
sqlite> SELECT * FROM states;
Error: no such table: states
sqlite>
",
193,"When using CASE statement, the COUNT function could be used after THEN?","Get Help,SQL",,1,"
I’m trying to use the COUNT aggregate function after the THEN statement of a CASE but I always get the value seted on the ELSE. I tested the sub-query funnel and it’s working, the problem is in the CASE.
The code below:
WITH funnel AS(
SELECT
DISTINCT q.user_id,
CASE
WHEN h.user_id IS NOT NULL
THEN ‘True’
ELSE ‘False’
END AS ‘is_home_try_on’,
h.number_of_pairs,
CASE
WHEN p.user_id IS NOT NULL
THEN ‘True’
ELSE ‘False’
END AS ‘is_purchase’
FROM quiz AS q
LEFT JOIN home_try_on AS h
ON q.user_id = h.user_id
LEFT JOIN purchase AS p
ON p.user_id = h.user_id)
SELECT
CASE
WHEN number_of_pairs LIKE '3 pairs’
AND is_purchase LIKE 'True’
THEN COUNT(*) ELSE '0’
END AS ‘3 pairs’,
CASE
WHEN number_of_pairs LIKE ‘5 pairs’
AND is_purchase LIKE ‘True’
THEN COUNT(*) ELSE ‘0’
END AS ‘5 pairs’
FROM funnel;
I’m trying to complete the funnel of the Warby Parker project.
Warby Parker Project
",
194,Query not producing result... depending on the order you ask?,"Get Help,SQL",,1,"
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-marketing-attribution/projects/analyze-data-sql-attribution-queries
Hi there,
I am having an issue where if I try to view multiple query results, the 2nd table I query will not show.
I am working on the Marketing Attribution project for Cool T-shirts. If try to view the first_touch table and last_touch table at the same time only the query I enter first will show. So, if I do the following then only the first_touch table shows:
SELECT * FROM first_touch LIMIT 10; – this query shows
SELECT * FROM last_touch LIMIT 10; – this query does not show
SELECT 2; – this query shows
SELECT COUNT (DISTINCT user_id)
FROM page_visits
WHERE page_name = ‘4 - purchase’; – this query shows
If is swap the first 2 queries then still the 2nd query does not show:
SELECT * FROM last_touch LIMIT 10; – this query shows
SELECT * FROM first_touch LIMIT 10; – this query does not show
SELECT 2; – this query shows
SELECT COUNT (DISTINCT user_id)
FROM page_visits
WHERE page_name = ‘4 - purchase’; – this query shows
I added a 3rd basic query (i.e. SELECT 2;) to test if something in the syntax means that the code stopped working after the first query, I also tried the 4th query to see if something a little more complex worked… and it did.
So I am completely stumped… why doesn’t the 2nd query work?
Full disclosure of my code below:
WITH first_touch AS (
SELECT user_id,
MIN(timestamp) as first_touch_at
FROM page_visits
GROUP BY user_id),
ft_attr AS (
SELECT ft.user_id,
ft.first_touch_at,
pv.utm_source,
pv.utm_campaign
FROM first_touch ft
JOIN page_visits pv
ON ft.user_id = pv.user_id
AND ft.first_touch_at = pv.timestamp
),
last_touch AS
(SELECT user_id,
MAX(timestamp) AS last_touch
FROM page_visits
WHERE page_name = ‘4 - purchase’
GROUP BY user_id
)
SELECT * FROM first_touch LIMIT 10;
SELECT * FROM last_touch LIMIT 10;
SELECT 2;
SELECT COUNT (DISTINCT user_id)
FROM page_visits
WHERE page_name = ‘4 - purchase’;
",
195,Single quote in query,"Get Help,SQL",,1,"
When should I use single quote in my query?
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/lessons/sql-funnels/exercises/compare-funnels
",
196,How do I refer to an AS statement with a space later in the Query,"Get Help,SQL",,3,"
So if I run
SELECT full_name AS 'Full Name', sum(age) AS 'Years Old' FROM friends;

I understand the sum(age) makes no sense, but I’m using it as an example here. If I want to reference the sum(age) in my WHERE clause I can do it 2 was. The first way is to write
WHERE sum(age) > 21;

The other I know is to remove the space in my as statement.
SELECT full_name AS 'Full Name', sum(age) AS 'yearsOld' FROM friends
WHERE yearsOld > 21;

Is there a way to reference ‘Years Old’ in the WHERE statement?
","
given spaces are used for argument separation, its just bad practice to have spaces in your name fields or aliases. Even if it was possible, you would need a very good reason to do so (by which i mean: that reason is nearly non-existing)

Thank you, was really just curious if it was possible.
"
197,"Add to friends to the table ""friends"" - Not working","Get Help,SQL",,5,"
https://www.codecademy.com/courses/learn-sql/projects/learn_sql_create_table
Upon choosing “SAVE” on the following code, I get the error message below:
…
CREATE TABLE friends (id INTEGER, name TEXT, birthday DATE )
INSERT INTO friends (id, name, birthday) VALUES (1, ‘Jane Doe’, 1993-05-19);
…
Error - Error: near line 1: near “INSERT”: syntax error
I get the same error when putting a quote around the DATE
…
CREATE TABLE friends (id INTEGER, name TEXT, birthday DATE )
INSERT INTO friends (id, name, birthday) VALUES (1, ‘Jane Doe’, ‘1993-05-19’);
…

a61a4a2a2d3f4493be99a2127046d0a2093c3123.png850×216

Also, after creating the table, if I use a SELECT * FROM friends; it tells me it cannot find the table…like it isn’t saving the table.
Anyone have an idea?
","
You are missing the ; at the end of your CREATE statement.

Ah, ok, I didn’t realize it had to be at the end of every statement.  I thought you were only to have it at the end of the overall string of commands.  Thanks!

I am not sure what is wrong with the following query?
CREATE TABLE friends (id INTEGER, name TEXT, birthday DATE);
INSERT INTO friends (id, name, birthday)
VALUES (1, “Jane Doe”, “1993-05-19”);
INSERT INTO friends (id, name, birthday)
VALUES (2, “HAMED”, “1998-05-19”);
INSERT INTO friends (id, name, birthday)
VALUES (3, “SAMAH”, “1997-05-19”);
INSERT INTO friends (id, name, birthday)
VALUES (4, “MAHSA”, “1996-05-19”);
SELECT * FROM friends;
UPDATE friends
SET name = “Jane Smith”
WHERE id = 1
SELECT* FROM friends;

"
198,Correct answer is not accepted,"Get Help,SQL",,10,"
In this section the instructions say:
1. Any time  enriched_flour  appears in the ingredients list, we’d like to replace it with just  flour . Apply this transformation and also be sure to remove the underscore in  enriched_flour .
The solution button gives this:
SELECT REPLACE(ingredients,'enriched_',' ') as item_ingredients
FROM baked_goods;

My (“WRONG”) solution is this:
SELECT REPLACE(ingredients,'enriched_flour','flour') as item_ingredients
FROM baked_goods;

I feel that my answer is more correct than the solution provided for the following reason.
If any other ingredient in that column contains ""enriched_"" that will also be replaced.
For example if there was something like ""enriched_chocolate"" it will be changed to "" chocolate"" while the instructions say only to replace enriched_flour.
I know it is redundant to replace flour too, but it would yield more accurate results if you don’t know what each and every ingredient in that list is.
Maybe I’m not understanding the question correctly? But that’s my take on it.
","
I stumbled upon the same issue. Did you figure out the solution or is this a bug?

I did the same, and even when I put in the given “correct” solution from the Hint, it said my answer was incorrect.

ditto, must be a bug

Yes, I’m also seeing my code is incorrect, even after I match with the solution, reset the exercise, and go back to resubmit. I have submitted some feedback for previous lessons having this same apparent bug. Hopefully this gets fixed but it seems the problem has persisted since last year arrgghhhh!

The QA testing for this lesson seems to be nonexistent.  I’m very disappointed especially after the mostly excellent ‘Learn SQL’ lesson.

Indeed, I see the quality falls off a cliff edge once upgrading to Pro

Good thing I haven’t upgraded yet. Guess I won’t be upgrading considering this is a known bug for almost a year now and it’s still not fixed…

Thank you very much for bringing this to our attention. I reported this as a bug.

The problem now has been resolved. Thank you again for bringing this to our attention.
"
199,In SQL can GROUP BY be used with non-aggregate fields?,"Get Help,SQL",,4,"
This is a general question on SQL.
Is GROUP BY always be used with some aggregate functions, such as COUNT() OR SUM()? Is there any edge case where you use GROUP BY with other normal fields?
","



 38fule.north.america:

Is there any edge case where you use GROUP BY with other normal fields?


Nope.
GROUP BY clause only makes sense with the aggregate function. GROUP BY clause without an aggregate function will give the same result as using DISTINCT, but DISTINCT is a much faster option.

To understand this it is good to know what happens when you use GROUP BY.
Take a look at this table named bugs:
id			course_id		exercise_id		reported_by
1			14				2				Alex
2			5				4				Tod
3			14				4				Tod
4			14				6				Tod
5			5				4				Alex
6			5				3				Roy
7			14				2				Roy
8			7				4				Alex
9			5				4				Roy
10			7				8				Tod

Now, we want to GROUP BY column reported_by. This gives us three sets of rows:
id			course_id		exercise_id		reported_by

1			14				2				Alex
5			5				4				Alex
8			7				4				Alex

6			5				3				Roy
7			14				2				Roy
9			5				4				Roy

2			5				4				Tod
3			14				4				Tod
4			14				6				Tod
10			7				8				Tod

And now, what happens when we want to SELECT data from, for example, column exercise_id? We have to look at each set of the rows above and decide what will be the single result. It does not make sense, right? How we can change 2, 4, 4 into a single value? This is where aggregate functions come in. For example, SUM() takes multiple numerical values and returns a single value.
This is why GROUP BY clause has to operate with the aggregate functions 

Just out of curiosity, is a detailed answer like this one only available to PRO users? I’m still on trial.




 38fule.north.america:

detailed answer like this


Thank you very much! 
No, I am not a codecademy employee. I am simply a volunteer trying to help people learn how to code. So honestly, I don’t care if the user is PRO or not.
"
200,Weird behaviors of SQL,"Get Help,SQL",,1,"
I have a question about this exercise. When you use COUNT(*) with GROUP BY, the system seems to automatically know that you are counting the numbers in each category, not the total number. What if I group by some fields that are never repeated in the table? Will this force the system to count all entries?
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-calculate-and-summarize-data/modules/dspath-sql-aggregates/lessons/codeflix/exercises/count2
",
201,SQL queries,"Get Help,SQL",,1,"
Please who van help with the answer and explanation to it thanks
link  https://www.examtopics.com/exams/microsoft/70-461/view/7/
You administer a Microsoft SQL Server database that includes a table named Products. The Products table has columns named ProductId, ProductName, and
CreatedDateTime.
The table contains a unique constraint on the combination of ProductName and CreatedDateTime.
You need to modify the Products table to meet the following requirements:
✑ Remove all duplicates of the Products table based on the ProductName column.
✑ Retain only the newest Products row.
Which Transact-SQL query should you use?
A. WITH CTEDupRecords AS ( SELECT MIN(CreatedDateTime) AS CreatedDateTime, ProductName FROM Products GROUP BY ProductName HAVING COUNT(*) > 1 ) DELETE p FROM Products p JOIN CTEDupRecords cte ON cte.ProductName = p.ProductName AND cte.CreatedDateTime > p.CreatedDateTime
B. WITH CTEDupRecords AS ( SELECT MIN(CreatedDateTime) AS CreatedDateTime, ProductName FROM Products GROUP BY ProductName HAVING COUNT(*) > 1 ) DELETE p FROM Products p JOIN CTEDupRecords cte ON p.ProductName = cte.ProductName AND p.CreatedDateTime > cte.CreatedDateTime
C. WITH CTEDupRecords AS ( SELECT MIN(CreatedDateTime) AS CreatedDateTime, ProductName FROM Products GROUP BY ProductName ) DELETE p FROM Products p JOIN CTEDupRecords cte ON p.ProductName = cte.ProductName
D. WITH CTEDupRecords AS ( SELECT MAX(CreatedDateTime) AS CreatedDateTime, ProductName FROM Products GROUP BY ProductName HAVING COUNT(*) > 1 ) DELETE Products FROM Products p
",
202,Calculating Churn Rates,"Get Help,SQL",,1,"
Hi all!!
I am working on my SQL course and working on the project ’ Calculating Churn Rates’ under ‘ANALYZE REAL DATA WITH SQL’. See the link here: Description of the task
I got to step 3 and it asked me to create a new table with 3 months of data. I wonder why can’t I write my code like this:
WITH months AS (
SELECT *
FROM subscriptions
WHERE subscription_start <= '2017-03-30'
AND subscription_start >= '2017-01-01'
)

The right code is:
WITH months AS
(SELECT
  '2017-01-01' as first_day,
  '2017-01-31' as last_day
UNION
SELECT
  '2017-02-01' as first_day,
  '2017-02-28' as last_day
UNION
SELECT
  '2017-03-01' as first_day,
  '2017-03-30' as last_day
FROM subscriptions
)

It is a simple code and I can just memorize it but I wonder if there is a way to understand it better. Thank you guys so much!!
",
203,Using Excel or Google Sheets with SQL,"Get Help,SQL",,1,"
I am completing the ‘Analyze Real Data with SQL’ portion of the Data Science track. This might be a silly question, but how do I export my data into Excel or Google Sheets? Is it simply copy/paste from the table Codecademy provides? Or, this there a better way?
Thank you in advance for your help; if there is a topic/thread that addresses this elsewhere, please point me towards that.
",
204,How do I create temporary tables for multiple queries?,"Get Help,SQL",,1,"
In this project Usage Funnels with Warby Parker
I’m using the WITH command to create temporary tables, however I was wondering if I could create a temporary table I can use for multiple queries so that I don’t have to copy and paste the WITH command for every new query?
WITH analysis AS (SELECT DISTINCT q.user_id,
	CASE
		WHEN h.user_id IS NOT NULL THEN ""True""
    ELSE ""False""
  END AS 'is_home_try_on',
h.number_of_pairs,
	CASE 
	  WHEN p.user_id IS NOT NULL THEN ""True""
	  ELSE ""False""
	END AS 'is_purchase'
FROM quiz q
LEFT JOIN home_try_on h
ON q.user_id = h.user_id
LEFT JOIN purchase p
ON h.user_id = p.user_id)
SELECT number_of_pairs AS ""Number of pairs"", 
CAST(COUNT(CASE WHEN is_purchase = 'True' THEN 1 END) AS float)/CAST(COUNT(CASE WHEN is_home_try_on = 'True' THEN 1 END) AS float)*100 AS ""Purchase Rate (%)""
FROM analysis
WHERE number_of_pairs IS NOT NULL
GROUP BY number_of_pairs;

",
205,Sqlite setup,"Get Help,SQL",,3,"
I am trying to download sqlite on my windows pc. I know I have 64 bit.
the setup guide says to download this binary ( I tried understanding what I binary is but no luck neither ):
sqlite-tools-win32-x86-3200100.zip
but when I go to the SQlite download page (https://www.sqlite.org/download.html)
The only options for windows download are the following (wanted to include links but as a new user I am limited to 2 per post):
Which one should I download and what is a git-bash?
","
The file called “sqlite-tools-win32-x86-3290000.zip” worked for me.
I cannot help you with the other questions though 

Thank you. I downloaded GIT Bash. I’m still figuring it out?
"
206,Foreign key and compound primary keys,"Get Help,SQL",,1,"
Hej all!
I am currently trying to compose a database for my reasearch. While exploring the concepts behind some of my tables I stumbled upon one question I could not find an answer to (after a quick web search):
Table 1 specimens has a column called id with values 0001 to 9999, obviously the primary key for this table.
Table 2 sequences has two columns called specimen (foreign key, specimens.id) and gene. Since I am able and willing to take sevaral genes per specimen, I need at least a compound key consisting of specimen+gene, which would be unique.
Given that scenario, is it possible that a foreign key is part of a compound primary key?
Cheers,
Jonathan
PS: I could also create another column with unique values, which is necessary anyway in order to publish the sequences later. And even though I might do that instead, the question above remains unanswered.
",
207,SQL command line interface setup,"Get Help,SQL",,1,"
good afternoon, i’m a new student and currently on command line interface setup (https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-go-off-platform/modules/analyze-data-sql-learn-off-platform/articles/command-line-setup) and I’ve successfully completed the ‘Try it out!’ section. However, two things are bothering me. First, some things didn’t operate as expected. For instance, in ‘Try it out! #1’, I cannot use the ‘enter’ key for a response. I’ve learned to hit the space bar then Tab twice to get the following: ‘Display all 84 possibilities?’ My question is, Is this normal for command line key behavior? After this I can use the ‘Enter’ key.
Second, I’m certain I have an install issue. The setup installed to my C-drive, but GitBash is looking and storing in my Y-drive. Here’s what I know: When I click on GitBash I get the following: ‘Could not load icon’, then a path, then ‘The system cannot find the file specified.’ The GitBash window still opens after I click ‘I see’. The top of the window is ‘MINGW64:/y/’.
As i mentioned, I’ve successfully completed the ‘Try it out!’ section, but i’m hesitant to continue this lesson without understanding and hopefully fixing these two issues.
Patiently waiting, but I’ll buy another computer if I have to.
Eddie
",
208,Non-Correlated Subqueries III,"Get Help,SQL",,1,"
I am confused as to why ‘dep_date’ is required in this exercise:
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/non-correlated-iii?action=resume_content_item
I ended up asking for a solution after not being able to run the query. I seemed like the only difference was that the actual solution included dep_date in the subquery, which I didn’t include. I don’t understand why is it needed. Can anyone explain?
This is the code I used before seeing the solution:
SELECT a.dep_month, a.dep_day_of_week, avg(a.flight_distance) as average_distance
from (
  SELECT dep_month, dep_day_of_week, sum(distance) as flight_distance
  from flights
  group by 1,2,
  ) a
  group by 1,2;

",
209,Lead lag command,"Get Help,SQL",,4,"
Hey, my question is about the following exercise:
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/projects/analyze-data-sql-usage-funnels-with-warby-parker
Im trying to solve 3.
Thats my current attempt, that works, which means it returns a table, the percentages arent the ones im looking for.
instead of deviding by 500 i want to devide the column by itsself leading 1, so i get the percentage of users who answer each Question from the previous one.
So instead of 500 I want to insert:
LEAD(funnel.qcompletet) OVER(ORDER BY funnel.question)
WITH funnel AS (
SELECT question,
COUNT(DISTINCT user_id)
AS ‘qcompleted’ FROM survey
GROUP BY 1)
SELECT funnel.question,
funnel.qcompleted,
(funnel.qcompleted * 100.0 / 500)
AS ‘pcompleted’
FROM funnel
GROUP BY 1
ORDER BY 1;
Does anybody know how it is supposed to work?
","
Hello  Welcome to the forum.
Such an interesting question!



 beta2078318772:

LEAD(funnel.qcompletet) OVER(ORDER BY funnel.question)


This would select the value from the next row in relation to the current row, not from the previous one. And you should define a default value, because if the row you are querying does not exist then you will get a NULL. You can read more about window functions in the documentation -> https://www.sqlite.org/windowfunctions.html#built_in_window_functions.

I would solve this problem by writing this query:
WITH funnel AS (
  SELECT 
    question, 
    COUNT(DISTINCT user_id) AS 'qcompleted' 
  FROM 
    survey 
  GROUP BY 
    question
) 
SELECT 
  funnel.question, 
  funnel.qcompleted, 
  (
    funnel.qcompleted * 100.0 / (
      LAG(qcompleted, 1, qcompleted) OVER (
        ORDER BY 
          question
      )
    )
  ) AS 'qcompleted' 
FROM 
  funnel 
GROUP BY 
  question 
ORDER BY 
  question;

I made only a single change. Instead of 500, I used a LAG function call. The LAG function allows us to evaluate expression against the n-th row before the current row.
Let’s break down what is going on in the function call:
LAG(qcompleted, 1, qcompleted) OVER (
  ORDER BY 
    question
)

The first argument - qcompleted is the expression that we would like to execute. We want to get the value of qcompleted from the previous row, right? 
The second argument - 1 is the offset. We want to execute expression against the previous row, this is the 1 row before our current row.
The third argument -  qcompleted is the default, if the row specified by the offset does not exist then this value will be used (if this value is not specified then the call will result in NULL); We are selecting the previous row, this row will not exist only for the first question, and in this case we would like to perform calculation funnel.qcompleted * 100.0 / 500, but 500 is the value of qcompleted, so I decided to use this instead of hard-coding 500 (in the future we might get a few new rows and this version of the query will always work but feel free to change the default value to 500 if you want).
And finally we have an OVER clause which provides context for our LAG function call - window functions must know what does it mean “first row”, “previous row” etc. So we simply define the ORDER, in this case, the ORDER of the LAG is the same as the ORDER of the whole SELECT, but this is not always the case.

Let’s run our query and see what is the result:
question							qcompleted	qcompleted
1. What are you looking for?		500			100.0
2. What's your fit?					475			95.0
3. Which shapes do you like?		380			80.0
4. Which colors do you like?		361			95.0
5. When was your last eye exam?		270			74.792243767313

That looks correct!

Unfortunately, you will not be able to run this query in this exercise. For some reason (probably something related to the security, not sure) codecademy does not allow window functions. That’s probably the reason why they left this note:

Using a spreadsheet program like Excel or Google Sheets, calculate the percentage of users who answer each question:

Nonetheless, I hope this was a bit informative 

Thanks a lot, so codecademy sql is limited to the commands listed in the cheat sheet or how do i identify which commands work and which don’t? Also are there similar limitations for python or r?

You’re very welcome 



 beta2078318772:

so codecademy sql is limited to the commands listed in the cheat sheet or how do i identify which commands work and which don’t?


I don’t know. Right after I submitted my previous comment I reported this as a bug. Even if the given functions are prohibited - the corresponding error message should be returned. So I will get back to you when I will get an answer to my report 



 beta2078318772:

Also are there similar limitations for python or r?


I had never noticed this behaviour in the Python or R course, so I would say no, there are no limitations like this 
"
210,What happens if the tables we perform the UNION operator on have different primary keys or unique values?,"Get Help,SQL",,2,"
When we stack one dataset on top of the other, we would be joining values that might be unique or primary keys. What would happen in that case?
FAQ: Multiple tables - UNION
","
Not sure if I understand what you are asking. When using the UNION command, a new table is created using the same columns in the previous tables. In later lessons, you will see that sometimes null values are present in a new table if one table has incomplete data.
"
211,Help with an excercise on the command line | DATA PATH,"Get Help,SQL",,6,"
Hello everybody!
I am doing the DATA Path, but, there’s something that is not letting me go further.
Here is the link:
https://www.codecademy.com/paths/data-science/tracks/analyze-data-sql-go-off-platform/modules/analyze-data-sql-learn-off-platform/articles/what-is-sqlite
What I cannot do is how to open the SQL in the command line? I have been doing just the same like the video, but nothing came up.
I can get into the folder and I can see the files, but when I type ./sqlite3.exe … nothing works!
Any suggestions fellas? I’d really appreciate it! :)
","



 idelima:

I can get into the folder and I can see the files, but when I type ./sqlite3.exe … nothing works!


Do you get any error message? May I ask you to post a screenshot showing what is going on?

Sorry for the late response, I was doing some university homework.
Yes, here is a screenshot of my issue; I got everything just as the video, but, I cannot go through the “sqlite >” command. 
Untitled.png1920×1080 229 KB


Sure 
Can you try to precede the command with winpty? Like so:
winpty ./sqlite3.exe ...

If this does not work - please try to use cmd or PowerShell instead of Git Bash.

Thanks man, I did it finally.
Just one question: how did you know I had to use the command winpty? Whta’s that?




 idelima:

how did you know I had to use the command winpty?


I worked with few developers who refused to transition to the Linux and they were really attached to using git bash. So I had to work out a troubleshooting approach  I had encountered this problem before.




 idelima:

Whta’s that?


In short - mintty has some features that are not compatible with Windows console and when you run a program (sqlite for example) that expects that it will be executed in Windows console - some problems might arise. winpty solves this problem by running the given program in a hidden, native Windows console and forwarding input from the emulator (mintty) to the hidden console and output from the hidden console to the emulator.
I am sorry, but to give you a proper, informative answer to this question I would have to spend some time reading about interworkings of Windows. And to be honest this topic does not interest me.
If the description above is not sufficient please read a bit about TTY and PTY. And then head to the mintty terminal emulator which you decided to use in your instance of git bash (there is a step in the setup of the git bash where they let you decide if you want to use mintty or Windows default console window) and figure out why mintty is not compatible with Windows console. And then google and read the description of winpty, it’s an open-source project so you can even study the source.
"
212,SQL CASE statement to modify column,"Get Help,SQL",,2,"
Hi I have a question. Does the CASE statement ALWAYS result in creating a new column ( in the example, ‘Mood)’? Or can be used to modify the values of an existing column? If so what would be the structure of the statement?
Does someone know? - Thank you
","
Okay if you want to update values in a column .then you need to use UPDATE.you can look it up.
If you want to modify as in change the datatype of that column the you need ALTER.
Not sure where you are getting the definition of CASE but it  just goes through conditions an returns a value of the true condition
"
213,SQL WHERE order of execution,"Get Help,SQL",,3,"
I have another question regarding the exercise 11 on for the project ‘New York  Restaurants ‘ in SQL Basic course.
Use a   CASE  statement to change the rating system to:


review > 4.5  is Extraordinary

review > 4  is Excellent

review > 3  is Good

review > 2  is Fair
Everything else is Poor

How does SQL WHERE  order operate? Is it based on the order of the conditions (and parentheses )?
As  in, if the review is 4.1 it will be higher 2 and 3 … so it is true for Fair, Good and Excellent… instead I would have written the code
when review > 2 and review <3 then ‘Fair’
when review > 3 and review <4 then ‘Good’
when review > 4 and review <4.5 then ‘Excellent’
when review > 4.5 then ‘Extraordinary’
else ‘Poor’
can someone tell me how sql execute the code?
Thank you for your help
Semhar
","



 semhar.yohannes:

How does SQL WHERE order operate? Is it based on the order of the conditions (and parentheses )?


you have a question about WHERE while you use CASE?
its from right to left, top to bottom like you expect, and parentheses first



 semhar.yohannes:

As in, if the review is 4.1 it will be higher 2 and 3 … so it is true for Fair, Good and Excellent… instead I would have written the code


no, once a case condition is met, the remaining cases are no longer executed, see docs:
https://dev.mysql.com/doc/refman/5.7/en/case.html

Got it, thank you for your clarification.
"
214,Constraints,"Get Help,SQL",,8,"
Can someone please explain the difference between UNIQUE and PRIMARY KEY clauses? I don’t know how these clauses specify the uniqueness in different ways:slightly_smiling_face:
","
The difference is really one of purpose.
UNIQUE just tells SQL that this column cannot contain duplicate values.
PRIMARY KEY, however, tells SQL that the designated column(s) are the unique and and individual identifier for the record (row). Thus, PRIMARY KEY implies UNIQUE.
Primary key column(s) also cannot contain NULL values whereas you can have NULL values in a column which is simply unique.

Thanks for the clear explanation 

No worries.
It took me a while to get to that post. The difference is subtle, I think, and it can seem a little bit like there’s a difference for the sake of there being a difference, so I wanted to try and get it as clear as possible.
Still not convinced there isn’t a better explanation of the differences…




 thepitycoder:

you can have a single NULL value in a column which is simply unique.


This is generally not true, especially in the context of the Codecademy course.
Codecademy uses SQLite in the course. SQLite, PostgreSQL, MySQL, Oracle allow multiple NULL values in the UNIQUE columns. It’s rather unpopular to allow only a single NULL value, the only example that comes to my mind is MS SQL.




 factoradic:

It’s rather unpopular to allow only a single NULL value, the only example that comes to my mind is MS SQL.


That might’ve been what I was thinking of.
I’ll amend the answer. 

Thank you very much 

Thanks for the correction and help 
"
215,Quiz q ? home_try_on h? purchase p?,"Get Help,SQL",,5,"
I may be missing something but I’m not sure I understand why these three table names have a single character following them in the hint statement. Any ideas ?
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/projects/analyze-data-sql-usage-funnels-with-warby-parker
","
I think it is possible shorthand coding for “quiz AS q”, “home_try_on AS h”, and “purchase AS p” which should allow us to reference the Quiz table as q instead of writing the whole reference out like quiz.some_column_name.
Although I think I understand it, if what I said above is correct, it’s not good practice to implement a coding technique without explaining it on a website that is teaching coding.
Also, when I ran the queries, even with the code the site provided, I couldn’t get any results. I also didn’t get results in the first Funnels lesson on the last step. Anyone else having problems with getting results to show in the query display?

Yes, I am having trouble with the Warby Parker Usage Funnels project Step 5 as well.  The query returns no results, even when I eliminate the aliasing and write out the names of the tables every time.  

Are you still having trouble with this? They fixed one of the lessons in Mattresses and More, the other problem in the Warby Parker one was my own fault.

When I run out of steam for troubleshooting, I copy my solution over to a text editor, get the solution, and compare.  I still don’t know what I did wrong on Warby Parker, but I imagine it was a misplaced comma or semicolon.  Thanks for checking in.
"
216,Import a table without header,"Get Help,SQL",,2,"



SQLite Tutorial



Import a CSV File Into an SQLite Table
This tutorial shows you various ways to import CSV data into an SQLite table using sqlite3 and SQLite Studio tools.





Hello,
I am learning how to import .csv file in SQLite and following the above link.
They show 2 separate cases, if you have already or don’t have yet the table in the database.
In the case where you have already the table and want to import the data, they show this import file_no_header command. I tried it, but SQLite don’t recognise it, and I ended up importing all and later deleting the first row.
Has any of you encountered this file_no_header command, and how does it work?
ps. I’m using the bash environment, not the studio.
Thanks.
ps. just for a laugh, the section “Your topic is similar to…” has very hilarious suggestion, like “3-dimensional Cube using just FOR loops in Java”. Maybe I should check there for an answer LoL
","
Hi @capitanf,  I think you’re mis-reading the tutorial.



 capitanf:

In the case where you have already the table and want to import the data, they show this import file_no_header command. I tried it, but SQLite don’t recognise it


Since you’re working with sqlite directly via the command-line, importing a CSV is done by:
sqlite> .mode csv
sqlite> .import [path_to_file] [target_table]

where [path_to_file] and [target_table] are the path to your CSV file and the table you want to import into, respectively.
The tutorial you’re following says this:

If the table already exists, the sqlite3 tool uses all the rows, including the first row, in the CSV file as the actual data to import. Therefore, you should delete the first row of the CSV file.
The following commands import the city_without_header.csv file into the cities table.
sqlite> .mode csv
sqlite> .import c:/sqlite/city_no_header.csv cities


They are importing a different CSV file, called city_no_header.csv - not running a different command called file_no_header.
The SQLite CLI reference also says the following:

There are two cases to consider: (1) Table “tab1” does not previously exist and (2) table “tab1” does already exist.
In the first case, when the table does not previously exist, the table is automatically created and the content of the first row of the input CSV file is used to determine the name of all the columns in the table. In other words, if the table does not previously exist, the first row of the CSV file is interpreted to be column names and the actual data starts on the second row of the CSV file.
For the second case, when the table already exists, every row of the CSV file, including the first row, is assumed to be actual content. If the CSV file contains an initial row of column labels, that row will be read as data and inserted into the table. To avoid this, make sure that table does not previously exist.

So, to summarise - if you want to import the CSV data into an existing table you need to remove the “header” line, if one exists. But then, you already knew that…



 capitanf:

I ended up importing all and later deleting the first row.



"
217,"After selecting distinct values how do you sort the result, largest to smallest, alphabetically, etc?","Get Help,SQL",,3,"
After selecting distinct values how do you sort the result, largest to smallest, alphabetically, etc?
","
With the use of ORDER BY 

Thank you. As I found out later in the course. I should have finished the course before asking the question.
"
218,Codeflix User Churn exercise Step 7 (status_aggregate),"Get Help,SQL",,1,"
Hey!
First time I ask about help regarding the exercises. So for some reason if I run the code, I don’t get query output. Can you spot the mistake in the syntax? (I know there are still some conditions wrong, but it should not prevent me to get an output, right?)
WITH
months AS (
SELECT 	‘2017-01-01’ AS ‘first_day’,
‘2017-01-31’ AS ‘last_day’
UNION
SELECT	‘2017-02-01’ AS ‘first_day’,
‘2017-02-28’ AS ‘last_day’
UNION
SELECT 	‘2017-03-01’ AS ‘first_day’,
‘2017-03-31’ AS ‘last_day’
),
cross_join AS (
SELECT * FROM subscriptions
CROSS JOIN months
),
status AS (
SELECT 	id,
first_day AS ‘month’,
CASE
WHEN (subscription_start < first_day)
AND (segment = ‘87’)
AND (subscription_end > first_day
OR subscription_end IS NULL)
THEN 1
ELSE 0
END AS ‘is_active_87’,
CASE
WHEN (subscription_start < first_day)
AND (segment = ‘30’)
AND (subscription_end > first_day
OR subscription_end IS NULL)
THEN 1
ELSE 0
END AS ‘is_active_30’,
CASE
WHEN (segment = ‘87’)
AND (subscription_end BETWEEN first_day AND last_day)
THEN 1
ELSE 0
END AS ‘is_cancelled_87’,
CASE
WHEN (segment = ‘30’)
AND (subscription_end BETWEEN first_day AND last_day)
THEN 1
ELSE 0
END AS ‘is_cancelled_30’
FROM cross_join
),
status_aggregate AS (
SELECT month,
SUM(is_active_87) AS ‘sum_active_87’,
SUM(is_active_30) AS ‘sum_active_30’,
SUM(is_canceled_87) AS ‘sum_canceled_87’,
SUM(is_canceled_30) AS ‘sum_canceled_30’
FROM status
GROUP BY month
)
SELECT * FROM status_aggregate
LIMIT 10
;
PS: I was to unpatient to wait for the code generated as a link, so that’s why you get to look at it this way.
",
219,Churn code not working properly,"Get Help,SQL",,2,"
https://www.codecademy.com/programs/ff4a1f518fc0a2102b06265b0b9bd79f/content-items/2a8080024264af1e01c8fd6138aa0619/exercises/single-month-i
I’m not understanding the relevant difference between these two queries:

My answer to the question:

SELECT 1.0 *
(
SELECT COUNT()
FROM subscriptions
WHERE subscription_start < ‘2017-1-01’
AND (
subscription_end
BETWEEN ‘2017-1-01’
AND ‘2017-1-31’
)
) / (
SELECT COUNT()
FROM subscriptions
WHERE subscription_start < ‘2017-1-01’
AND (
(subscription_end >= ‘2017-1-01’)
OR (subscription_end IS NULL)
)
)
AS result;

The given solution:

SELECT 1.0 *
(
SELECT COUNT()
FROM subscriptions
WHERE subscription_start < ‘2017-01-01’
AND (
subscription_end
BETWEEN ‘2017-01-01’
AND ‘2017-01-31’
)
) / (
SELECT COUNT()
FROM subscriptions
WHERE subscription_start < ‘2017-01-01’
AND (
(subscription_end >= ‘2017-01-01’)
OR (subscription_end IS NULL)
)
)
AS result;
Thanks
","
Hey, I’m new to SQL, so may be wrong, but I think you need to put January as ‘2017-01-%’ rather than ‘2017-1-%’ in the 1st query.
"
220,Query works in one exercise but not the previous,"Get Help,SQL",,4,"
Hello, I am referencing Introduction to SQL, parts 5/11 and 6/11.
https://www.codecademy.com/paths/data-science/tracks/dspath-why-data-python-basics/modules/dspath-introduction-to-sql/lessons/manipulation/exercises/select
In part 5/11, we put entries into the table. In 6/11, we submit a query with SELECT * FROM celebs. However, if  SELECT * FROM celebs is entered after the data entry lines in 5/11, there is no query result shown. Is there a reason for this?
Thank you!
","
I just tried it, and it worked fine. Could you post your code from lesson 5?

That’s strange, I just went back and tried it again myself and it worked for me too. Sometimes I’ve found that the platform can go unresponsive, maybe it was just that.
Thank you!

Just tried it too and it worked.
"
221,World Populations SQL Practice,"Get Help,SQL",,2,"
Question 8. What is the difference in population between 2000 and 2010 in Indonesia?
The above question is stumping me especially since the SQL course hasn’t taught how to do basic arithmetic yet. I don’t want to be given the answer but I’d like some examples that show how to do addition, subtraction, etc. so I can arrive to the answer on my own.
https://www.codecademy.com/practice/projects/world-populations-sql-practice
","
Try to make two columns with year and population. It’s enough)
"
222,"""The Met"", SQL: Intermediate","Get Help,SQL",,2,"
I am just wondering the following,
Project:
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-the-met
Question: 7
When I write the following code:
SELECT CASE
WHEN medium LIKE ‘%gold%’   THEN ‘Gold’
WHEN medium LIKE ‘%silver%’ THEN ‘Silver’
ELSE NULL
END AS ‘Bling’,
COUNT(*)
FROM met
WHERE Bling IS NOT NULL
GROUP BY 1
ORDER BY 2 DESC;

What happens if I have a piece of art that has silver and gold, does this code double counts that piece? if so, how would you write a code that excludes silver in gold and gold in silver, I guess you would have to also add a new CASE counting pieces with both, silver and gold
","
Greetings. I thought about your question and I experimented with the command “NOT LIKE”.
Try this for example:

SELECT * FROM met
LIMIT 20;

Getting the following results;

test.png444×628 33.5 KB

Imagine now that we want to query for titles including the word ‘Dollar’ but not the word 'Two"".

SELECT * FROM met
WHERE title LIKE ‘%dollar%’ AND title NOT LIKE ‘%two%’
LIMIT 20;

I believe this statement would do the trick.

SELECT CASE
WHEN (medium LIKE ‘%gold%’ AND medium NOT LIKE 		      	‘%silver%’) THEN ‘Gold’
WHEN (medium LIKE ‘%silver%’ AND medium NOT LIKE 					‘%gold%’) THEN ‘Silver’
ELSE NULL
END AS ‘Bling’, COUNT(*)
FROM met

Of course there is no way to test this on the table ‘met’ provided. At least when I run this, I receive the same results as with the Solution Code provided in the exercise.
Hope this helps. If you can test it somewhere else please let me know.
"
223,Question on the task of build a funnel from multiple tables2,"Get Help,SQL",,1,"
https://www.codecademy.com/paths/analyze-data-with-sql/tracks/analyze-data-sql-analyze-real-data/modules/analyze-data-sql-usage-funnels/lessons/sql-funnels/exercises/multiple-tables-ii
b.user_id, c.user_id is not null as 'is_checkout', p.user_id is not null as 'is_purchse'
from browse as 'b'
left join checkout as 'c'
	on b.user_id = c.user_id
left join purchase as 'p'
	on b.user_id = p.user_id
limit 50;

I don’t understand why here should select distinct b.browse_date while the result’s b.browse_date is not distinct.
and for this task, i also don’t know why we only join on user_id. ?  why don’t we also join on item_id\
I feel messy on this task
",
224,Using GROUP BY with column names gives incorrect results with CASE block,"Get Help,SQL",,2,"
So, I was talking to someone with experience with SQL, and they told me that when using GROUP BY statement, I should refer to aggregated columns by their name, rather than by number.
For example, I should use the first lot of code, not the second:
SELECT imdb_rating, COUNT(name)
FROM movies
GROUP BY imdb_rating;

SELECT imdb_rating, COUNT(name)
FROM movies
GROUP BY 1;

They said that it makes the code more readable and maintainable, and avoids issues when the order of columns is changed later.
However, using this convention breaks down when I attempt to solve this puzzle: Https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates-projects-and-applications/projects/sql-hackernews
If I wanted to avoid using numbers in the following code using a CASE block, what should I put the the GROUP BY clause? If I use source, it returns all rows as if they matched the ELSE statement.
SELECT CASE
	WHEN url LIKE '%github.com%' THEN 'GitHub'
	WHEN url LIKE '%medium%' THEN 'Medium'
        WHEN url LIKE '%nytimes%' THEN 'New York Times'
	ELSE 'irrelevant'
END AS 'source',
COUNT (*)
FROM hacker_news
GROUP BY 1;

","
I can see the point with this convention, and i agree. But of course, they are exceptions. Here i would absolute use number for column.
"
225,Working With Mutiple Tables COMP SCI path 9,"Get Help,SQL",,1,"
I am very confused by this exercise.
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-multiple-tables/lessons/multiple-tables/exercises/with
",
226,Https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/webdev-sql-intro/lessons/sql-queries-code-challenge/exercises/headlines-iii,"Get Help,SQL",,2,"
why is this correct:
select *
from news
where category = ‘b’
order by timestamp desc
limit 20;
and not this:
select *
from news
where category = ‘b’
and order by timestamp desc
limit 20;
basically isn’t the logic the same?
","
Hello, @method7432690185! Welcome to the forum. The issue is with your use of and. AND is a logical operator. It is not used as it is in spoken or written human language to append. We may tell someone to take out the trash and feed the dog and wash the dishes and mop the floor. In computer languages the usage is completely different. In your provided code, you would only use AND if you wanted to apply another condition that also had to be true in your WHERE clause. You aren’t specifying another condition. Instead, you are immediately applying an ORDER BY clause. Hopefully that made some sense.
"
227,SQL - BETWEEN operator question,"Get Help,SQL",,3,"
https://www.codecademy.com/paths/data-science/tracks/sql-basics/modules/dspath-sql-queries/lessons/queries/exercises/between
I was wondering for the BETWEEN operator in SQL, why is it that for letters it’s not inclusive of the second letter but for number it is inclusive of the second letter? Wouldn’t it just be simpler to establish a single rule for both?
","
Hello 
This statement from the instructions:

Really interesting point to emphasize again:


BETWEEN  two letters  is not  inclusive of the 2nd letter.

BETWEEN  two numbers  is  inclusive of the 2nd number.


is unfortunately not true. Thank you for bringing this up, I will report this as a bug.

You are right, it would be easier to have a single, consistent rule and in fact there is a single, consistent rule - BETWEEN operator is inclusive, always.
This is a common mistake and let me show you why this is troublesome. Let’s say that this is our schema:
CREATE TABLE IF NOT EXISTS `docs` (
  `id` int(6) unsigned NOT NULL,
  `content` varchar(200) NOT NULL
) DEFAULT CHARSET=utf8;
INSERT INTO `docs` (`id`, `content`) VALUES
  ('1', 'Aa'),
  ('2', 'B'),
  ('3', 'Bc'),
  ('4', 'C'),
  ('5', 'Ca'),
  ('6', 'Cb'),
  ('7', 'D'),
  ('8', 'De');

So we have a table docs that has two columns -id and content. There are 8 records inside this table.
Let’s execute this query:
SELECT *
FROM docs
WHERE content BETWEEN 'B' AND 'C';

This is the result:
id	content
2	B
3	Bc
4	C

As you can see, record with content = 'C' was included in the result. This is because the BETWEEN operator is inclusive. But the question is - why records with content 'Ca' and 'Cb' were not included?  It’s because 'Ca' > 'C' - in my opinion this makes perfect sense, but I know that for some students this is a hard to grasp concept, so I will show another example.
Schema stays the same, but this time we will execute this query:
SELECT *
FROM docs
WHERE content BETWEEN 'B' AND 'Ca';

and the result is:
id	content
2	B
3	Bc
4	C
5	Ca

Now we got 'C' and 'Ca', because 'C' < 'Ca'.

That makes sense! Thank you for the clarification 
"
228,"Why is it ""ALTER TABLE tablename"" instead of just ""ALTER tablename""?","Get Help,SQL",,2,"
See title. Maybe I will discover the reason later, but I was wondering about it.
https://www.codecademy.com/courses/learn-sql/lessons/manipulation/exercises/alter?action=resume_content_item
","
can’t be certain of course, but alter table is more descriptive, if you inherit someone else his code base, and it just said alter, you have to figure out what he is altering. if it says alter table, you know he is altering the table. More descriptive, thus easier to read.
"
229,Creating a Table in SQL,"Get Help,SQL",,4,"
Hypothetical situation. You create a column in SQL where the datatype is TEXT. However you wish that said column be limited to only certain text options in the same manner as a multiple choice question to prevent users from entering meaningless text into the column. Is there a way to do this?
","
there isn’t a single straight forward answer to this question, if you want to enforce this at database level there is enum:
https://dev.mysql.com/doc/refman/8.0/en/enum.html
or enforce this logic at application level, depending on what it is exactly you are after.

Thank you. I have only been on codeacademy for three days so forgive me when I ask…
Is the difference between application level vs databaselevel that at application level the program will have this restriction for every database it uses vs database level it is restricted more per the application and database you are using.
If this is correct, I can see a desire to restrict at database level but at application level what would be the point?

there are some good answers:
https://www.vertabelo.com/blog/notes-from-the-lab/business-logic-in-the-database-yes-or-no-it-depends
https://softwareengineering.stackexchange.com/questions/194446/how-much-business-logic-should-the-database-implement
if you enforce business logic on application level, other developers might not be aware of it and abuse the database, but enforcing on database level is less flexible
there are a lot of pros and cons to consider to which approach you want to use, and maybe you want to enforce the logic at both levels
"
230,Operatons with CASE,"Get Help,SQL",,4,"
When using CASE and inqualities in the WHEN part of the statement, why is it not necessary to use BETWEEN?
For Example…using the following code:
SELECT *,
CASE
WHEN review > 4.5 THEN ‘Extraordinary’
WHEN review > 4 THEN ‘Excellent’
WHEN review > 3 THEN ‘Good’
WHEN review > 2 THEN ‘Fair’
ELSE ‘Poor’
END AS ‘rating’
FROM nomnom ;
I would think it would cause a syntax eror because if a number is >4.5 it is also >4 and >3 and >2 so I am suprised the program knows which THEN statement to apply. Why do you not need to write the code as follows?
SELECT *,
CASE
WHEN review > 4.5 THEN ‘Extraordinary’
WHEN review > 4 AND <=4.5 THEN ‘Excellent’
WHEN review > 3 AND <=4 THEN ‘Good’
WHEN review > 2 AND <=3 THEN ‘Fair’
ELSE ‘Poor’
END AS ‘rating’
FROM nomnom ;
And what if the code was like this
SELECT *,
CASE
WHEN review > 4 THEN ‘Excellent’
WHEN review > 4.5 THEN ‘Extraordinary’
WHEN review > 2 THEN ‘Fair’
WHEN review > 3 THEN ‘Good’
ELSE ‘Poor’
END AS ‘rating’
FROM nomnom ;
Now that the review> are out of order would the compound statements be necessary?
","
The reason you don’t have to check for ‘between-ness’ is that the CASE block is exited as soon as a WHEN condition is satisfied. If the review is greater than 4.5, execution jumps to END and ‘Extraordinary’ is assigned AS 'rating'. In your third example, you would have to check for ‘between-ness’ since the conditions are not in numerical order. Following the pattern of your first example is a common strategy in programming to avoid having to use AND to check for ‘between-ness’ in every language. Hope this helps!

Thank you. Does CASE work that way for every version of SQL?

I’m no authority on every version of SQL, but I would assume so. This behavior is common to every programming language I’m familiar with. It basically mimics the behavior of an
if..then..else if..else if..else block of code.
"
231,Changing a column name in a table,"Get Help,SQL",,6,"


How do use ALTER TABLE to change the name of an existing column in an SQL table?


Why would an SQL user use
SELECT name AS ‘______’ FROM movies;
instead of just changing the name of the column in the table to begin with?


","


have you checked documentation? https://dev.mysql.com/doc/refman/8.0/en/alter-table.html


mysql can also do sum(), lets say we want to see how much money we made we can do:


// not a real example
SELECT sum(price) FROM movies

this will gives use a column named sum(prices), which is not a nice name, i would certainly use AS for aliasing.
i am sure there are plenty more examples for aliasing, sometimes to teach a concept, the exercise starts with a simple example to keep it simple. The drawback of this approach is that in that particular case aliasing isn’t very useful, while aliasing can be very useful.

Thanks for the quick reply. The link for commands is extremly helpful. I was trying to find a resource just like that.
In your “not real example” does sum(price) refer to the sum of all the values in the hypothetical colum price? And if so would the result not be a sinlge value and not a column of values?




 script0520211567:

does sum(price) refer to the sum of all the values in the hypothetical colum price?


yes, very good 



 script0520211567:

And if so would the result not be a sinlge value and not a column of values?


Seems i made to big a leap, it will be a single value. However, SQL is often not used on its own, we use other languages as well. To then access the value of the column we need to do: row->column_name (so row->sum(price)), while if we used an alias, we could just do:
row->profit

assuming:
SELECT sum(price) AS profit FROM movies;

another good example would be if you have two tables with the same column name, and you would do a join operation, you need aliases as well, otherwise you have problem (i experienced this in python, php and more).
Then again, using only SQL without any additional programming language is really uncommon, so certain things might only start falling into place when you do some projects where SQL is used in combination with another language (c#, python, php, ruby, golang or something else)

When you typed ‘row->profit’ is the ‘-’ a subtraction sign? If so then ‘->’ seems like an odd pairing. Does it mean subtract only if it is greater than price?

what syntax would you prefer then? i know to many:
row.profit
row['profit']

anyway, row is usually a kind of object/dictionary, and then we use the column name (profit) as property/key to get the value.
"
232,Condition unable to reference temporary table,"Get Help,SQL",,5,"
Stuck on trying to set a condition based on a temporary table i created within the following query:
I get an error: Invalid column name ‘amount_usd’.
Any thoughts on why my “>10” condition isn’t referencing the temporary ‘amount_usd’ and any suggestions to correct this?
Many thanks in advance.
SELECT 
	USER_ID,
	AMOUNT,
	round((amount * fx.rate),2) as AMOUNT_USD,
	CREATED_DATE
FROM (
	SELECT * , ROW_NUMBER() 
	OVER(
		PARTITION BY user_id 
		ORDER BY user_id, created_date) 
	AS RN FROM transactions)
	a
		join fx_rates fx
			on (fx.ccy = currency
				and base_ccy = 'usd')
WHERE RN=1
	and state = 'completed'
	and type = 'card_payment'
	and amount_usd > 10
order by created_date

","



 nemm2149919646:

AS RN FROM transactions) a


Where does that stray a come into play?



 nemm2149919646:

order by created_date


Will that raise a syntax error (missing EOS)?

Hi mtf,
The a is a table alias for
(
	SELECT * , ROW_NUMBER() 
	OVER(
		PARTITION BY user_id 
		ORDER BY user_id, created_date) 
	AS RN FROM transactions)

its basically
FROM a [a basically an expression to remove duplicates, it gives me the first instance of user_id in chronological order, removing all subsequent instances]
the entire query works fine if I use the condition
amount > 10
but I do not want the condition to apply to the original amount, I want it to apply to the converted USD amount, as such:
amount_usd > 10
but I get invalid column name ‘amount_usd’ even though I defined it on line 4, as so:
round((amount * fx.rate),2) as AMOUNT_USD,

I may be wrong, but doesn’t AMOUNT_USD need to be in quotes?
Edit: Nevermind. It doesn’t since there’s no spaces.




 nemm2149919646:

The a is a table alias for


Where is it referenced? One would expect to see, a.column somewhere, or am I off my rocker?
"
233,Analyzing heart disease,"Get Help,SQL",,5,"
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-cumulative-project/projects/cadcademy-milestone
There is the link to the lesson.
I was wondering why the “hint” for step 2 used
DELETE FROM panels
WHERE Cholesterol IN
(SELECT Cholesterol FROM panels LIMIT 1);
Instead of
DELETE FROM panels
WHERE Cholesterol IS ‘Cholesterol’;
Is there a reason or is it preference?
Is it a matter of flexibility since I can change the limit to extend how much is deleted from the table?
","
Hi,
I was wondering the same as you about the hint. However, I’ve looked up the reference in SQLite and this kind of form of sub-query is allowed and I think very practical.
My problem is that their code doesn’t work in the course interface. I’ve sent them a bug report… nor reply yet.
If I get any answer, I’ll post it here.

Hi remitropcuit,
I have encountered a similar problem where code from the hint of task 4 is not working. I am assuming this is a problem of their server. Here is a link to my issue (which I think is quite similar).
Cheers!

I used
DELETE FROM panels 
WHERE ID = 'ID';

And that worked to delete the duplicate row.

Heart disease is not a common disease  to treat and requires a sufficient amount of price. If you are suffering from any heart disease and interested to take the health insurance plans then you can take these plans from The Health Exchange Agency
Mutual of Omaha health insurance
Mutual of Omaha Medicare supplement
Mutual of Omaha medicare
Mutual of Omaha supplement
Mutual of Omaha Medicare supplement plan F rates
Mutual of Omaha Medicare supplement plan G rates
AARP Medicare supplement plan G
Medicare plan F  high deductible
Medigap plan G
supplement quotes
They will help you to provide the best plans with a budget friendly price.
"
234,What does it do - single Char followed by punctuation used as a prefix to a table or column e.g. u.table,"Get Help,SQL",,3,"
Hi guys,
Just trying to understand the use of a single characters followed by a punctuation as a prefix to a table or column name.
For example:
WITH processed_users
AS ( SELECT LEFT (u . phone_country , 2 ) AS short_phone_country ,
u . id
FROM users u)
“users” is the table, “phone_country” is the column but what is the relevance of the u.
Can anyone shed some light on this feature? What is is called? What is ts used for? I feel like it is an abbreviation or a simplification tool but haven’t been able to find any hits on google for its use specifically, probably because I do not have the actual term for the feature.
Many thanks for any support.
Best,
Nick
","
its table aliasing, here:
FROM users u

you alias the table users to u, its a shorthand of:
FROM users AS u


That was quick, thanks a lot, stetim94.
"
235,"SQL using 1,2,3... referencing arguments","Get Help,SQL",,2,"
I am in the middle of SQL intermediate training and my code was not working and I want to make sure i understand why it does not work.
’why do this work vvv
SELECT user_id,
SUM(watch_duration_in_minutes)
FROM watch_history
GROUP BY 1
HAVING SUM(watch_duration_in_minutes) > 400;
but not this vvv
SELECT user_id,
SUM(watch_duration_in_minutes)
FROM watch_history
GROUP BY 1
HAVING 2 > 400;
","
Basically because HAVING is processed after GROUP BY, which prevents using aliases (source: [1]).
"
236,Installing SQLite,"Get Help,SQL",,1,"
I’ve been trying to install SQLite following the tutorial video provided by codecademy so I can go the coding challenges from the Data Scientist courses offline but I keep running into an error message on cmder and I am unsure how to resolve it. I’ve added a photo that will hopefully make it easier to help with the issue I’m having.

",
237,Didn't get my badges,"Get Help,SQL",,1,"
Hi all
Thanks for this very usefull website !!
I think there is something wrong with my account
I just finished LEARN SQL, COMMAND LINE and other lessons and I didn’t get my badges or points gain on my profil…Really strange (Still blocked to 46…)
Could you just check that please ?
Thanks by advance
Fred
",
238,SQL doing joins; redundant ID#,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/learn-sql/lessons/multiple-tables/exercises/inner-join-ii
When doing the lesson on inner joins,
I couldn’t get over the uncomfortable fact that the inner join diagram work is different from the actual SQL commands
The diagram in the instruction suggests that
| 1 | A |
|---|---|
| 2 | B |
| 3 | C |

combined with
| A | 2 |
|---|---|
| D | 2 |
| C | 3 |

would result in
| 1 | A | 2 |
|---|---|---|
| 3 | C | 3 |

but in the case of the problem for the inner joins
it seems to generate
| 1 | A | A | 2 |
|---|---|---|---|
| 3 | C | C | 3 |

where the IDs compared through ON keyword after JOIN seems to be repeated
(Question 1) how do I alter the code so that the redundant ID does not appear on the resulting table?

SELECT *
FROM newspaper
JOIN online
ON newspaper.id = online.id;
results in


where you could see that the ‘id’ column is repeated
(Question 2) Or if the ID was to be the last column on newspaper (the table on the leftside)
would the ID column not be repeated?
(Question 3) After overlooking the other exercises a bit, I realize that left ID is newspaper.id while right ID is online.id but is there a purpose in keeping both of them? (if one is not supposed to be removed);
","
The column you’re using to join the tables are different.
They might look like they’re being repeated, but they are part of different tables.
The example shown below is correct record wise:



 soohyeok:

| 1 | A | 2 |
|---|---|---|
| 3 | C | 3 |



However, data wise (especially if you join and SELECT *, ALL of the columns from both tables will be selected.
So if you have these tables:
TableA
Columns: TableA_ID, Name, DateAdded.

TableB
Columns: TableB_ID, Type, Description.

And you JOIN them like this:
SELECT *
FROM TableA A
    INNER JOIN TableB B ON B.TableB_ID = A.TableA_ID

The result will include all of the selected columns:
TableA_ID, Name, DateAdded, TableB_ID, Type, Description

If you don’t want to select all of the columns from both tables, you have to write it something like this:
SELECT A.TableA_ID, A.Name, A.DateAdded, B.Type, B.Description
FROM TableA A
    INNER JOIN TableB B ON B.TableB_ID = A.TableA_ID

Your last question (Question 3) has a very generic answer: It depends.
Usually there won’t be a use for the second ID column (I can’t think of a case where it is needed, I might be wrong though?).
It just takes longer to write out all of the columns you want (instead of just *), especially if you just want to write a quick query to see the result.
On the other hand, it would be beneficial to write out all of the columns you think are relevant if you want to display the results on a dashboard for example, or if it is a query that gets executed a lot over a network, it might save a tiny amount of bandwidth (and data if over the internet) to select only what you need.
"
239,Order of when-clauses in case statement,"Get Help,SQL",,2,"
Hi there,
I have reached the 1st SQL code challenge in the web development curriculum.
https://www.codecademy.com/paths/web-development/tracks/sql-for-web-development/modules/webdev-sql-intro/projects/learn_sql_query_table-1
One of the exercises includes a case statement:
SELECT name,
case
when review > 4.5 then ‘Extraordinary’
when review > 4 then ‘Excellent’
when review > 3 then ‘Good’
when review > 2 then ‘Fair’
else ‘Poor’
end as ‘Grade’
from nomnom;
I had all the when clauses in reverse order before and noted that nearly all the restaurants had a grade of ‘Fair’. Just wanted to check and confirm, as to me, this means that the order does in fact matter, right? A restaurant with a rating of say ‘4’ will be evaluated against the first rule in the list, and if that rule says ‘greater than 2’, the restaurant satisfies the rule, and will get a rating of ‘Fair’, although that was not intended. I also assume that the rest of the clauses is not evaluated if a prior rule or clause delivers a match. Is that correct?
Thanks in advance,
Frank.
","



 ruby_mcpython:

the order does in fact matter, right?


Yes. CASE returns the value of the first clause it gets to in which the condition is met, and then does not evaluate any others.
"
240,Why does changing lines matter in some cases but don't in some others?,"Get Help,SQL",,1,"
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates/lessons/codeflix/exercises/sum2
In this exercise,
SELECT user_id,
SUM(watch_duration_in_minutes) AS ‘total_duration’
FROM watch_history
GROUP BY user_id
HAVING total_duration > 400;
works, while
SELECT user_id, SUM(watch_duration_in_minutes) AS ‘total_duration’
FROM watch_history
GROUP BY user_id
HAVING total_duration > 400;
does not.
Why does it matter to separate the lines here, and when does it matter? I noticed that the line change matters when using the CASE as well. It would be helpful to understand the circumstances that require pressing enter.
",
241,Can I use ORDER BY to arrange in my prefer order in SQLite?,"Get Help,SQL",,2,"
Is it possible to use ORDER BY on a TEXT format column and arrange in my preferred order and not necessarily A-Z (ASC) or Z-A (DESC)? Or how can it be done?
For example if I want to arrange a rating in this particular order:
Extraordinary
Excellent
Good
Average
Fair
Bad
","
The easiest way to accomplish that, would be to assign numbers to those ratings:
1 = Extraordinary
2 = Excellent
3 = Good
4 = Average
5 = Fair
6 = Bad
Store the number instead of the text.
Then order by this number.
Saving the text in another table and then joining on select, or using a case statement to replace the numbers with the text.
"
242,"In SQL, is Comparison character = always absolute regarding Upper or Lower case?","Get Help,SQL",,2,"
In this  babies table exercise,
Typing the code query below  returns no query result because the name case (First letter) isn’t exactly as written in the table. But when changed to upper case ‘Lillian’ it returns results. Is this always the case? And how can it be written not to be absolute/case sensitive?
SELECT year, number
FROM babies
WHERE name = ‘lillian’ AND gender = ‘F’;
","
Short answer: yes queries are case sensitive. There is a way around it though. My SQL is a little rusty, but I found this link: https://alvinalexander.com/sql/sql-select-case-insensitive-query-queries-upper-lower



 tadepacket.com:

SELECT year, number
FROM babies
WHERE name = ‘lillian’ AND gender = ‘F’;


Using either upper() or lower() methods will allow you to find results regardless of case.
For example:
SELECT year, number
FROM babies
WHERE lower(name) = 'lillian' AND upper(gender) = 'F';

By converting the stored values to the same case as your search string, you eliminate differences in case. These conversions only apply in the query. They don’t permanently change the stored values.
Hope this helps!
"
243,Database Schema,"Get Help,SQL",,2,"
Why does the “Database Schema” always appear when we run a query?

","
It is just a reminder, so you don’t have to use .schema in sqlite3, it is also useful if you are altering the schema
"
244,Cross Join : month x newspaper example,"Get Help,SQL",,1,"
https://www.codecademy.com/courses/learn-sql/lessons/multiple-tables/exercises/cross-join
Hello !
I’m having trouble with this exercise. I understand the concept and got the code down; however, the whole point of this exercise was to find the number of users per month, yet after running the code I’m just seeing the cross join between the month and newspaper tables. How am I able to check the number of users per month?
Thank you
",
245,Getting off track in SQL lesson,"Get Help,SQL",,3,"
This problem needs fixing!
1.The question asks for the average distance flown by day and by month. It is not clear what is being asked. I took it to ask for average distance flow on all Mondays etc… and then average distance flown all Januaries… etc.

I also don’t understand why the code groups by dep_date along with dep_month and day columns. It seems redundant, but when only grouping by dep_date, I get a different average. Am I missing something here?

SELECT dep_month,
dep_day_of_week,
dep_date,
sum(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3 --why group by all three columns?
I tried converting the date to show only month and see the if there are any discrepancies but the date is input as text which is annoying. I hope future lessons show how to convert this to datetime.
","
I ran a query to find errors in the month because I was getting different values of average distance base on grouping by dep_date and dep_month
select id, dep_date, dep_month from
(select id, dep_date, dep_month,
case
when dep_date like ‘1/%’ then ‘01’
when dep_date like ‘2/%’ then ‘02’
when dep_date like ‘3/%’ then ‘03’
when dep_date like ‘4/%’ then ‘04’
when dep_date like ‘5/%’ then ‘05’
when dep_date like ‘6/%’ then ‘06’
when dep_date like ‘7/%’ then ‘07’
when dep_date like ‘8/%’ then ‘08’
when dep_date like ‘9/%’ then ‘09’
when dep_date like ‘10%’ then ‘10’
when dep_date like ‘11%’ then ‘11’
when dep_date like ‘12%’ then ‘12’
end as dep_date_month
,
substr(dep_month, 6,2) as dep_month2
from flights)
where dep_month2 != dep_date_month;
Two flights have opposing months. I believe the day of the week entry has errors as well. This could all be avoided if the dep_date was a datetime field. How to you convert text to datetime?
|9405|9/1/2001|2001-08|
|7027|1/1/2005|2004-12|

Below is my code for average total distance each day of week and each month.
I realized something is very wrong though. The dataset does not include data on when days have no flghts. the AVG function will on average days on which there is a flight not including a 0 value for days with no flights.
–Selects average distance by day
select dep_day_of_week, avg(total_distance)
from
–Subquery to sum distance from every flight grouped by day. The CASE is to order by day correctly.
(select case
when dep_day_of_week = ‘Monday’ then 1
when dep_day_of_week = ‘Tuesday’ then 2
when dep_day_of_week = ‘Wednesday’ then 3
when dep_day_of_week = ‘Thursday’ then 4
when dep_day_of_week = ‘Friday’ then 5
when dep_day_of_week = ‘Saturday’ then 6
when dep_day_of_week = ‘Sunday’ then 7
else null
end as daysnumbered, dep_day_of_week, dep_month,dep_date, sum(distance) as total_distance
from flights
Group by dep_date)
–grouped by days to get average of miles for every day
group by daysnumbered
order by daysnumbered
;
select month, avg(total_distance)
from
–SUBSTR converts dep_month into month only
(select dep_month, substr(dep_month,6,2) as month, sum(distance) as total_distance
from flights
group by 1
order by 1)
group by 1
order by 1;
"
246,Question about CASE statement,"Get Help,SQL",,2,"

a644847ec42224ac7dadd4322cf286e75ed28b27.png1394×543 130 KB

Please see the screenshot attached. I wrote specific codes with CASE statement but the Hint shows differently with the exact same result. In Hint solution, wouldn’t a value satisfies more than one statement and gets assigned multiple column names? Does the order of statements under CASE means the priority of assignation?
Thanks for your help in advance!
","



 ericayang1209:

Does the order of statements under CASE means the priority of assignation?


If you mean assignment, it would appear than only one when can apply and the others are ignored. You could play around with the order and see if the outcome is different. If not, then that would support that notion of only one when clause.
"
247,How do Inner Joins 4/10,"Get Help,SQL",,4,"
how do Inner Joins 4/10
","
Post a link to the lesson, your errors, and your code?

Link to the problem:
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/inner-join-ii?action=resume_content_item&course_redirect=learn-sql
I am having issues specifically with step 3:
“Join newspaper and online on id (the unique ID of the subscriber).
How many rows are in this table?”
Code that doesn’t work:
SELECT COUNT (*)
FROM newspaper
JOIN online
ON newspaper.id = online.id;
Error that I get: Did you remember to count all rows of online joined with newspaper?
I don’t understand why this is wrong. The hint is exactly the same as what I entered but it doesn’t work. If I understand the steps right, it should be correct.

Did you figure out why? I just tried your code and it worked, my problem is I don’t get why we needed to count it joining as the question didn’t specify that.

Don’t remove your previous queries (see below)
Join  newspaper  table and  online  table on their  id  columns (the unique ID of the subscriber).
How many rows are in this table?

My answer was SELECT * FROM newspaper
JOIN online
ON newspaper.id = online.id;
From the question, I understood that they wanted to see both ‘newspaper’ and ‘online’ table join on their ‘id’ column, and user mtf understood it similarly 4. Inner joins step 1. Counting newspaper subscribers
(The previous questions if anyone is interested:  1) The Codecademy Times, a newspaper with two types of subscriptions: print newspaper & online articles.
Some users subscribe to just the newspaper, some subscribe to just the online edition, and some subscribe to both.
There is a  newspaper  table that contains information about the newspaper subscribers.
Count the number of subscribers who get a print newspaper using  COUNT() .

Don’t remove your previous query.
There is also an  online  table that contains information about the online subscribers.
Count the number of subscribers who get an online newspaper using  COUNT() .

from https://www.codecademy.com/courses/learn-sql/lessons/multiple-tables/exercises/inner-join-ii)
"
248,Usage Funnel: Help to export query result to Excel and combine,"Get Help,SQL",,1,"
Hi all,
I chose a capstone project for SQL learn from scratch: Usage Funnels with Warby Parker and want to know how to export query result to Excel file on the codeacademy.
Thanks
",
249,Https://www.codecademy.com/courses/learn-sql/lessons/manipulation/exercises/update,"Get Help,SQL",,2,"
Can you use ALTER to add a new column with existing data into a table or you can only use UPDATE to add data into the newly added column
","
ALTER allows you to add or remove columns from a table, while UPDATE allows you to update row(s)/record(s) in the table.
"
250,How do I know what the SQL COUNT() will count?,"Get Help,SQL",,2,"
Link to exercise
I do not understand the following SQL code:
SELECT price, COUNT (*)
FROM fake_apps
GROUP BY price;
This code returns the price and the number of apps of that price. How does the code know to count the number of rows with the same price, as COUNT(*) returns the number of rows and there is no WHERE condition?
","
* is a placeholder for any or all
it’s counting all / any prices
Means it’s looking at how many times any price is there in all prices -> if there is any price at least once it will be counted.
"
251,Why is my table not updating,"Get Help,SQL",,3,"
CREATE TABLE friends (
id INTEGER,
name Text,
birthday DATE,
);
Insert INTO friends (id, name, birthday);
VALUES (1, ‘Jane Doe’,‘1990-05-30’);
INSERT INTO friends (id, name, birthday);
VALUES (2, ‘abraham lincoln’, ‘2019-05-15’);
INSERT INTO friends (id, name, birthday);
VALUES (3, ‘big boy with with big socks’, ‘2001-9-20212’);
UPDATE friends
SET name = ‘Jane Smith’
WHERE id = 1;
SELECT * FROM friends;
it also wont let me update anything other i even copy and paste the code but it wont change anything
","
Are you sure the table has been created?



 matthewbaccam:

CREATE TABLE friends (
id INTEGER,
name Text,
birthday DATE,
);


After “birthday Date” there shouldn’t be a comma, as this is the last line.




 matthewbaccam:

Insert INTO friends (id, name, birthday);
VALUES (1, ‘Jane Doe’,‘1990-05-30’);


Also, this should just be one line. You shouldn’t have a semicolon after “friends (id, name, birthday)”.
"
252,Non-Correlated Subqueries III - script error,"Get Help,SQL",,3,"
Please,
Could anyone help me find the error in my script?
Tks!
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.distance) AS average_distance
FROM( SELECT dep_month,
dep_day_of_week,
dep_date,
SUM(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
Error - Use the select statement to view the table
","



 pauloandrtavares7783:

AVG(a.distance)


AVG(a.flight_distance) not AVG(a.distance)

Tks a lot!
It worked well =)
"
253,Non-Correlated Subqueries help,"Get Help,SQL",,2,"
Link to the excercise: https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/non-correlated-iii?action=resume_content_item
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
My question is, what does the a stand for in a.dep_month, a.dep_day_of_week, and a.flight_count? Also, why is there an a after the ) in
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
Thanks.
","
FROM (

) a

a in this instance is the table from the inner query, which is what the outer query will be applied to. We need to use object syntax to reach the columns of that table, not the table in the inner query.
"
254,"The output years don´t match the input years, so why not?","Get Help,SQL",,2,"
I followed the instructions, but got a strange result.
Screenshot from 2019-03-26 13-41-51.png1920×1080 327 KB

If you want to have the best chances of getting a useful answer quickly, make sure you follow our guidelines about how to ask a good question.  That way you’ll be helping everyone – helping people to answer your question and helping others who are stuck to find the question and answer!  
Screenshot from 2019-03-26 13-41-51.png1920×1080 327 KB

","
This happened because you inserted an integer into the last field instead of a date string, you have to insert it with the single quotes:
Correct way:
'1990-05-30'
Wrong way:
1990-05-30
The birthday values you inserted are as follows:
1990 - 05 - 30 = 1955;

because 1990 - 5 = 1985, and 1985 - 30 = 1955.
"
255,SQL Online testing,"Get Help,SQL",,2,"
Hello I was wondering if anyone knew of a good SQL testing website where I can practice SQL. and if there is a way to implement a SQL file into just as an example a HTML file.
Thank you! Sincerely denver35
If you want to have the best chances of getting a useful answer quickly, make sure you follow our guidelines about how to ask a good question.  That way you’ll be helping everyone – helping people to answer your question and helping others who are stuck to find the question and answer! 
","
Hello,
if you want to just check some queries and to fiddle around with them you can use services like db-fiddle or sqlfiddle.

if there is a way to implement a SQL file into just as an example a HTML file.

Well, there is a way to do that, kind of. You migh want to use library sql.js, this is port of the SQLite for JavaScript. This is suitable for learning and testing, but not for real production applications. I will not explain here how to use this library becuase it is pretty well documented, but if you will have any problems or questions do not hesitate to ask 
"
256,Can I write multiple constraints in sql when creating a table,"Get Help,SQL",,2,"
Can I write multiple constraints in sql when creating a table
If “Yes”
,what then is the syntax?
So???
CREATE TABLE celebs(
 id INTEGER NOT NULL AND UNIQUE,
vasya cocat TEXT NOT NULL AND UNIQIE
);

","
@5778543419 I think this is what you’re looking for:
CREATE TABLE x(
x VARCHAR2(20),
y NUMBER(2) NOT NULL,
CONSTRAINT fk_cons FOREIGN KEY(x) REFERENCES user_info(user_id),
CONSTRAINT null_cons CHECK(x IS NOT NULL)
)

Blockquote

It’s an example to the answer of your question. Yes, you can.
"
257,How does the computer perceive when we don't put/do put column name in front of OR,"Get Help,SQL",,1,"
HI everyone,
I know I got different results from below two different sets. But I don’t really understand how exactly the computer perceives these two sets differently.


the correct one, which shows the medium that is only silver or only gold and silver/gold & others
SELECT *
WHERE medium LIKE ‘%gold%’
OR medium LIKE ‘%silver%’
FROM met;


the wrong one, which shows the medium that is silver/gold and others
SELECT *
WHERE medium LIKE ‘%gold%’ OR ‘%silver%’
FROM met;


link to OR course: https://www.codecademy.com/paths/data-science/tracks/sql-basics/modules/dspath-sql-queries/lessons/queries/exercises/or
",
258,How to use SQL to analyze real data in a csv file,"Get Help,SQL",,4,"
I’ve gone through Code Academy SQL training and am ready to analyze a real data set that I currently have in a csv file - how do I do that?
I know the actual code and the syntax needed to do what I want to do, but I have no idea how. I need help figuring out what program to download or install to be able to code in SQL and how to import data from the csv file.
Code Academy does a great job at teaching the language, but I’m struggling with the real world application and a quick google search doesn’t seem to do the trick.
Please help!
","
SQL does not analyze data. We do. All it gives us is a means to apply aggregate functions and conditionals on select groups extracted from the rows in a collection of database tables.
What part of that did you not learn in this course? Can you in all likelihood jump into something if this is still in doubt? There is every reason to do complete review, no matter what the discipline. Learning is all about two steps forward, one step back. It’s a built in requirement.

Let me rephrase my question:
What’s the setup to use SQL outside the Code Academy interface for data in a csv file?

TBH I really cannot tell you that. You would need a local installation of SQL (or SQLite).
"
259,"SQL - where did ""rv"" come from","Get Help,SQL",,9,"
I’m new to SQL (and programming).  Can someone explain to me what “rv” stands for in this block of code?  I’m guessing it’s a short hand for the table named recommended_values but no where did it rename the table to rv.  It just seems to randomly appear in the code.  This one of the learning module solutions  I’m working on and I hate to move on b/c I have no idea how they came up with the short hand rv.  Thank you!!!
SELECT
active_patients.Name as Name, round(LDL) as LDL,
active_patients.Address As Address,
active_patients.Phone as Phone
FROM
panels,
(SELECT Borderline_High, High
FROM recommended_values
WHERE LIPID = ‘LDL’) rv
JOIN active_patients on
panels.patient_ID = active_patients.ID
GROUP BY LDL
HAVING LDL>= rv.Borderline_High
ORDER BY LDL DESC;
","
Hi @msphilomath,
See if this helps you out please: Tables Aliases
The short is, as the title to the other post suggests; a Table Alias. SQL doesn’t not like knowing where it’s getting it’s info from. So every object needs a name. This object is a derived table, and needs a name in order for SQL to reference it correctly.

Am I the only one thinking this particular exercise was of a whole other level of complexity with respect to the SQL exercise done previously? It’s like they passed from basic SQL queries to nested commands and new concepts (like this table aliases) out of the blue.

Totally agree and totally confused by this project. Not sure what the point of having a project where you’re being asked to do things you’ve never done before and with no help other than to just give you the whole code.

Working on this same project, and fully agree that it was too much of a jump from previous lessons/exercises. What I’m not following is why my code returns different results from the suggested code - any help is appreciated
My code:
select active_patients.name as ‘Name’,
round(panels.ldl) as ‘LDL’,
active_patients.address as ‘Address’,
active_patients.phone as ‘Phone’
from panels, active_patients
where LDL >= ‘130’
group by name
order by LDL desc
limit 5;
Results:
|Name|LDL|Address|Phone|
|Alfredo Haggis|136.0|9 Roth Terrace|596-731-3727|
|Anastasia Bartolomieu|136.0|57 Fallview Street|326-441-6684|
|Antonella Horsell|136.0|19 Roth Road|380-427-0552|
|Ariel Gooday|136.0|2836 Harbort Drive|292-741-8754|
|Bari Arnely|136.0|860 Sycamore Way|692-377-4787|
their code is returning results w/ LDL of 199, why are mine cut off at 136? brand new to sql

I think you need to use the table connection, otherwise the data will be incomplete.

For those who are still struggling to understand how the rv alias is working, it is just an alternative to using WITH alias AS ().
So, this code:



 msphilomath:

SELECT
active_patients.Name as Name, round(LDL) as LDL,
active_patients.Address As Address,
active_patients.Phone as Phone
FROM
panels,
(SELECT Borderline_High, High
FROM recommended_values
WHERE LIPID = ‘LDL’) rv


is exactly the same as this:
WITH rv AS (
SELECT Borderline_High, High
FROM recommended_values
WHERE Lipid = ‘LDL’)
SELECT
active_patients.Name AS ‘Name’,
round(panels.LDL) AS ‘LDL’,
active_patients.Address AS ‘Address’,
active_patients.Phone AS ‘Phone’
FROM
panels, rv
…
Why they decided to include that as the hint without explaining that it works this way is beyond me, but if you watch the video (made for a previous version of the exercise) it is completed using WITH AS.

I’ve just started to learn programming and SQL my first language so this project is a little strange. Feels like I’ve skipped some necessary info about how to do its tasks. T_T
Also there was nowhere to find out which type of patients I should use - active or inactive? So I did it in my way using everything I’ve learned in the lessons:
create table all_patients as
select * from active_patients
union
select * from inactive_patients;
with together as (
select * from all_patients
join panels
on panels.patient_ID = all_patients.ID)
select together.Name as ‘Name’,
case
when together.LDL >= recommended_values.High then ‘High’
when together.LDL >= recommended_values.Borderline_High then ‘Borderline High’
else ‘low’
end as ‘Level’,
together.LDL as ‘LDL’,
together.Address as ‘Address’,
together.Phone as ‘Phone’
from together, recommended_values
where recommended_values.Lipid = ‘LDL’ and
LDL > 129
order by 3 desc;
Results:


totally agree! I had to look all the time to the hints they give…you’re not the only one, uf
"
260,General Questions about SQL commands,"Get Help,SQL",,2,"
I have questions regarding some commands on SQL
1)What is the difference between using the INNER JOIN function and the JOIN function?
2)When rounding numbers on SQL, an example was DECIMAL (5,2). The 2 means to round to 2dp but what does the 5 mean?
Thank you
","



 benjipf:

1)What is the difference between using the INNER JOIN function and the JOIN function?


JOIN performs an INNER JOIN by default.
SELECT *
FROM TableA
[Specify Optional] JOIN TableB ON TableA.ColX = TableB.ColY




 benjipf:

2)When rounding numbers on SQL, an example was DECIMAL (5,2). The 2 means to round to 2dp but what does the 5 mean?


DECIMAL(Precision, Scale) OR DECIMAL(TotalLength, DecimalPlaces)
The first number (in your case 5) is the max length of the number (INCLUDING the decimal places), so with a scale of 2 decimal the number will have this structure: 123.45.
"
261,Https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates/lessons/aggregate-functions/exercises/count,"Get Help,SQL",,1,"
Hello, I hope you are all well.
Please could you help with this SQL question that I’ve been thinking about,
Why does:
“SELECT price, COUNT (*)
FROM fake_apps;”
Bring a count of 200 for a price at 0.0 (and not 0.99 or any other price)?
Thank you so much!! 
",
262,SQL Newbie,"Get Help,SQL",,4,"
Can’t seem to figure why I am getting an error in my (very simple) code:
SELECT *, order_total AS Net_Revenue,
CASE
WHEN ‘Net_Revenue’ > 0 THEN ‘$0-$9.99’,
WHEN ‘Net_Revenue’ > 9.99 THEN ‘$10-$19.99’,
WHEN ‘Net_Revenue’ > 19.99 THEN ‘$20-$29.99’,
WHEN ‘Net_Revenue’ > 29.99 THEN ‘$30-$39.99’,
WHEN ‘Net_Revenue’ > 39.99 THEN ‘$40-$49.99’,
WHEN ‘Net_Revenue’ >= 50 THEN ‘$50+’,
END AS ‘Bucketed_Net_Revenue’
FROM “Orders”;
","

SELECT * indicates that you want to retrieve all colums from a table
so trying to select only a part of the columns will throw an error.
Unless you’re using Oracle PL/SQL, MS SQL Server or something, SQL doesn’t support SELECT CASE statements directly in SQL
I think that you wanna convert integers into currency format.
In this case it isn’t done with a CASE or WHEN function anyways.

So what kind of SQL are you using?

Your SQL looks pretty good  I suspect you might be getting an error because of some extra quotation marks.
When I’ve worked with SQL, I’ve never needed to put quotes around the names of tables, columns, or aliases. Try removing those quotes and see if your query works.
For example, instead of this:
END AS ‘Bucketed_Net_Revenue’

Try this:
END AS Bucketed_Net_Revenue

And so on.

After many iterations and making the query a little more complicated, I got it to work. The null values within the table were throwing a lot of errors so had to do a sub-select which I did not know you could do. Also, found out that I needed to use PostgreSQL for this specific application.
SELECT *, (OrderTotalAmt - ShippingAmt - DiscountAmt) AS Net_Revenue,
CASE
WHEN (OrderTotalAmt - ShippingAmt - DiscountAmt) BETWEEN 0 AND 9.99 THEN ‘$0-$9.99’
WHEN (OrderTotalAmt - ShippingAmt - DiscountAmt) BETWEEN 10 AND 19.99 THEN ‘$10-$19.99’
WHEN (OrderTotalAmt - ShippingAmt - DiscountAmt) BETWEEN 20 AND 29.99 THEN ‘$20-$29.99’
WHEN (OrderTotalAmt - ShippingAmt - DiscountAmt) BETWEEN 30 AND 39.99 THEN ‘$30-$39.99’
WHEN (OrderTotalAmt - ShippingAmt - DiscountAmt) BETWEEN 40 AND 49.99 THEN ‘$40-$49.99’
WHEN (OrderTotalAmt - ShippingAmt - DiscountAmt) >= 50 THEN ‘$50+’
END AS Bucketed_Net_Revenue
FROM
(SELECT order_id, customer_id,
CASE
WHEN order_total is null THEN 0.00
WHEN order_total is not null THEN order_total
END as OrderTotalAmt,
CASE
WHEN shipping is null THEN 0.00
WHEN shipping is not null THEN shipping
END as ShippingAmt,
CASE
WHEN discount is null THEN 0.00
WHEN discount is not null THEN discount
END as DiscountAmt
FROM ““Orders””) AS OrdersCalculated;
"
263,Finished the Intermediate part of SQL but have some doubts!,"Get Help,SQL",,3,"
Hey guys,
I’ve just finished the intermediate part of the SQL course and everything was fine until I got to the Cumulative Project! I could not understand the syntax from exercises 6, 11, 12 and 13. To be more specific, I cracked my head to solve them but it just didn’t! Should I relax a little and go on or go back the whole path?
This code below is one I could not understand. I mean, the first part when it’s asking for the Name, Address and Phone is fine, but when it goes further and THIS:
(SELECT Borderline_High, High FROM recommended_values WHERE Lipid = “LDL”) rv — what’s “rv”?
SELECT
active_patients.Name AS Name,
round(LDL) AS LDL,
active_patients.Address AS Address,
active_patients.Phone AS Phone
FROM
panels,
(SELECT Borderline_High, High FROM recommended_values WHERE Lipid = “LDL”) rv
JOIN active_patients ON panels.patient_ID = active_patients.ID
GROUP BY
LDL,
active_patients.Name
HAVING LDL >= rv.Borderline_High
ORDER BY LDL DESC;
This is another example:
SELECT
COUNT(CASE WHEN (LDL >= rv.Borderline_High AND LDL < rv.High) THEN LDL END) AS Borderline_High,
COUNT(CASE WHEN LDL >= rv.High THEN LDL END) AS High
FROM
panels,
(SELECT Borderline_High, High FROM recommended_values WHERE Lipid = “LDL”) rv;
I’m still getting used to the CASE statement so it’s a little tricky. But again the “rv” which I have no idea what stands for.
I would really appreciate if someone could help a brother out.
Thanks!
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-cumulative-project/projects/cadcademy-milestone 
","
“rv” is the name for the data that this SQL statement returns: (SELECT Borderline_High, High FROM recommended_values WHERE Lipid = “LDL”)
It’s the same as “active_patients.Phone AS Phone”, just for a collection instead of a column.
You can also write it like this:
(SELECT Borderline_High, High FROM recommended_values WHERE Lipid = “LDL”) AS rv
This can then be used to reference the columns returned by this statement like this:
rv.Borderline_High

Yes, I also found this lesson a bit frustrating. It introduces so many things that were never previously explained.
I found it very helpful to go through step by step and test things out in pieces, rather than try to get an entire block of code to work, like the one you need for exercise 11.
For instance, here’s some things I learned:

As @louwding stated, the SELECT(...) rv is a short way to create a new table that is only available for the SELECT statement you’re currently working in. In other words, after creating the rv table, you will not see it show up in the Database Schema because it’s not a globally available table. To better understand how this code block was working, I actually took the that line of code out and instead created the rv table separately before then creating the larger SELECT statement.
CREATE TABLE rv
AS SELECT Borderline_High, High
FROM recommended_values
WHERE Lipid = 'LDL';


When you intend to use a table in a SELECT statement, but are not initially selecting any data from that table, you still need to include it after FROM (or JOIN), otherwise, the data in that table won’t be accessible. For instance, with my code, the creation of the rv data was done outside the main SELECT statement. But when I created the main SELECT statement, I still needed to include rv after FROM, even though the code doesn’t need any data from rv until later. Eg:
DOES NOT WORK:
CREATE TABLE rv
AS SELECT Borderline_High, High
FROM recommended_values
WHERE Lipid = 'LDL';

SELECT
  active_patients.ID AS 'patientsID',
  panels.patient_ID AS 'panelsID',
  active_patients.Name AS 'Name',
  ROUND(panels.LDL) AS 'LDL',
  active_patients.Address AS 'Address',
  active_patients.Phone AS 'Phone'
FROM panels
JOIN active_patients ON panels.patient_ID = active_patients.ID
WHERE panels.LDL > rv.Borderline_High
GROUP BY Name
ORDER BY active_patients.ID;

DOES WORK:
CREATE TABLE rv
AS SELECT Borderline_High, High
FROM recommended_values
WHERE Lipid = 'LDL';

SELECT
  active_patients.ID AS 'patientsID',
  panels.patient_ID AS 'panelsID',
  active_patients.Name AS 'Name',
  ROUND(panels.LDL) AS 'LDL',
  active_patients.Address AS 'Address',
  active_patients.Phone AS 'Phone'
FROM panels, rv
JOIN active_patients ON panels.patient_ID = active_patients.ID
WHERE panels.LDL > rv.Borderline_High
GROUP BY Name
ORDER BY active_patients.ID;


Be very careful with GROUP BY. This really threw me off when I was first starting to understand this code block. I didn’t know why the sample code said:
GROUP BY
  LDL,
  active_patients.Name

Why do you need to group by LDL? Aren’t the LDL values almost all unique, especially those taken from a single individual?
So, I took out the GROUP BY part.
Side note: I did this by turning the code I didn’t want to run into a comment. In SQL you can do this to a single line by starting the line with -- or you can do it with multiple lines by starting with /* and ending with */. I highly recommend learning the comment code for all the languages you use because it’s so helpful in debugging. Eg:
--GROUP BY LDL

/*
GROUP BY
  LDL,
  active_patients.Name
*/

So, after taking the GROUP BY bit out, it was confirmed that the LDL values for patients were almost all unique.
But there was a problem. I noticed that if I did not group by LDL and only grouped by Name, then I was missing some of the people that should have been showing up.
And then I realized the problem. And this is something with SQL that I am realizing in general. You have to pay special attention to the order in which you are doing things.
So the problem here was that, if you only include Name in your GROUP BY statement, then SQL will do that, but when it does that, if a person has multiple LDL test results, then it will just pick one of those test results for the GROUP BY output. But then, when you use HAVING to choose only the records that have LDL above a certain value, you may eliminate some people who actually have high LDL results, but the LDL that got selected after the GROUP BY statement was one of the lower results, not the high or borderline high result.
So, this is what’s happening:
Before GROUP BY:
Name             LDL
Talbert Froom    -6.0
Talbert Froom    195.0
Talbert Froom    -30.0

After GROUP BY:
Name             LDL
Talbert Froom    -30.0

So then, performing HAVING LDL >= rv.Borderline_High will eliminate Talbert Froom from the output, even though he has one panel result with LDL of 195!
To avoid this, I used the WHERE statement in the code I pasted above. I think this makes the code much more intuitive, and more importantly, it keeps Talbert Froom from getting missed!
So yeah…
Be careful.
"
264,Export tables from code challenges,"Get Help,SQL",,2,"
How can I export tables from code challenges?
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates/lessons/codeflix/exercises/sum4
","
Unless they give you access to the db you’ll have to do it manually.
"
265,Is the UNION ALL following best practice?,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/sql-table-transformation/lessons/set-operations/exercises/union-all?action=resume_content_item
Curious to see what other’s thoughts are on this. It seems like it wouldn’t be best practice to create another sub-query to get the proper answer. Would the better query look more like this?
Create the union as a temporary table, with just the sales_price column, don’t use ID. Then AVG up sales_price to get the answer.
SELECT 
        AVG(sale_price) AS avg_price
FROM (SELECT sale_price FROM order_items
	     UNION ALL
	     SELECT sale_price FROM order_items_historic);

","
SELECT
avg(sale_price) AS avg_price
FROM
order_items
UNION ALL
SELECT
avg(sale_price) AS avg_price
FROM
order_items_historic
or something like this might work.
Subqueries are made if you want to i.e. select all records above the average sale_price
or to retrieve i.e. the sum from order_details and make a 1 to 1 relation with orders, assumed that you actually have a 1 to many relation between orders and order_details.
"
266,MySQL Performance Tuning,"Get Help,SQL",,2,"
Hi. I am curious if anyone knows a good course or manual that could grow my expertise in administering and tuning MySQL databases. I have a decent amount of experience in SQL - but not in the administration and performance tuning side.
","
There are a lot of things that can be done for MySQL performance tuning. You can optimize the MySQL queries to be executed faster. This can be done by
Avoid using functions in predicates
Avoid using wildcard (%) in the beginning of a predicate
Avoid unnecessary columns in SELECT clause
Use inner join, instead of outer join if possible
Use DISTINCT and UNION only if it is necessary
"
267,SQL arithmetic not working as expected,"Get Help,SQL",,3,"
I’m working on the SQL project “Analyzing Heart Disease” and some arithmetic doesn’t seem to be working as I would expect.
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-cumulative-project/projects/cadcademy-milestone
Step 6 of the exercise asks you to perform some math to find the percentage of active and inactive patients in a database. You have a table of active patients and a table of inactive patients. You then create “dummy” tables and records in order to perform math on these values.
For instance, you create the table and column total_active.active which contains one record which is the number of active patients. The same goes for total_inactive.inactive and total_patients.total.
My issue is that I’d like to perform the order of operations slightly differently than the lesson hint because it’s more intuitive for me.
So instead of using
total_active.active * 100 / total_patients.total

I’d like to do the very minor change of
total_active.active / total_patients.total * 100

The problem I’m having is that for some reason the second option produces a result of ‘0’, but that’s obviously not true.
Any help in understanding this would be greatly appreciated.
Original code with correct output:

cc8b257dcef981191523369d9099f70dcd170477.png1280×888 97 KB

Revised code with incorrect output:

image.png1275×870 96.2 KB

","



 addisonscott:

produces a result of ‘0’


That’s because SQL works weird when it comes to dividing integers.
It basically rounds then down (or floor them) or a better way to put it would be to say that SQL drops the decimal values.
You have to convert them to decimal first if you want your method to work.
Take this as an example:
50/100 * 100
This should = 50%, but in SQL 50/100 = 0 because the answer is smaller than 1 (= 0.5).
So with that said, if you first multiply it and then divide it (50 * 100 / 100), the first value is bigger than 1 (50*100 = 5000) and this gives an accurate answer, but only to the closest whole number.
If you have 50 * 100 / 150, the actual % should be 33.333333%, but because of what I explained earlier, SQL will return 33.
You can make both methods accurate by converting the values to decimal though:
50.00 * 100.00 / 150.00 = 33.333333;
50.00 / 150.00 * 100.00 = 33.333333;
You can also do it like this:
CONVERT(decimal, 50) / CONVERT(decimal, 150) * CONVERT(decimal, 100)

Exactly the explanation I was looking for! Thank you! I had a suspicion that something like this was happening. I was hoping that SQL would store the calculation as a decimal though and then just store the result as an integer, but it’s clear that’s not the case.
Thank you for the two methods for converting integer types to decimal types. That will be very handy.
"
268,"Difference between ""having"" and ""where""","Get Help,SQL",,5,"
Hi everyone,
Can anyone help give me some more examples about difference between “having” and “where”?
Thanks!
","
The main  difference between WHERE  and  HAVING  clause is, WHERE  is used for row operations and  HAVING  is used for column operations. … The  WHERE  clause is used to filter records from a result. The filtering occurs before any groupings are made.
I hope this helps =)

The WHERE clause is always called first. This means it can’t be used on groups (GROUP BY) and aggregate functions. HAVING executes after everything is grouped this means having CAN be used on groups and aggregate functions.
source

It helped a lot!! 
Thanks and have a great dayyy<3

Aha! Thank you so much for the comment!
Have a great day:) <3
"
269,Difference between order by/group by,"Get Help,SQL",,2,"
Hi
Can anyone elaborate or rephrase the explanation about the problem below?
Thanks!

image.png1440×900 84.2 KB

https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates/quizzes/learn-sql-aggregate-functions-sql-quiz-3
","
GROUP BY refers to column headings in the new table, ORDER BY is the sort order of the column.
When there all multiple columns we can sort by one column, then by another column if we so wish.
"
270,The HAVING clause,"Get Help,SQL",,3,"
I need some clarity.
When invoke HAVING as follows:
SELECT location, ROUND(AVG(employees)) AS 'No. employees'
FROM startups
GROUP BY location
HAVING ROUND(AVG(employees)) > 500
ORDER BY 2 DESC;

I get the desired results.
But when I invoke HAVING using column referencing like so:
SELECT location, ROUND(AVG(employees)) AS 'No. employees'
FROM startups
GROUP BY location
HAVING 2 > 500
ORDER BY 2 DESC;

I don’t get any results.
What rule am I breaking?
","
As far as I’m aware HAVING can not work with column numbers.

That’s what I suspected, thanks
"
271,The ROUND command,"Get Help,SQL",,3,"
When I run this code:
SELECT (517 + 309 + 304 + 282) / 6366.0 AS 'Percent';

I get the correct result set which is 0.221803330191643
Is there a way to refine the query so that the result set is expressed as the whole number 22?
","
You can try CONVERT:
SELECT CONVERT(int, (517 + 309 + 304 + 282) / 6366.0 * 100) AS 'Percent'

Or CONVERT and ROUND:
SELECT CONVERT(int, ROUND((517 + 309 + 304 + 282) / 6366.0 * 100, 0)) AS 'Percent'

The result of both of these is 22, but they might give different results based on the decimal value of the calculation.
You can also just use ROUND:
SELECT ROUND((517 + 309 + 304 + 282) / 6366.0 * 100, 0) AS 'Percent'

The result of this one is 22.000000.

That’s exactly what I was looking for Thanks
"
272,WHEN clause,"Get Help,SQL",,2,"
Can the following two WHEN clauses:
WHEN genre  = 'romance' THEN 'Chill'
WHEN genre  = 'comedy' THEN 'Chill'


be combined using OR like so:
WHEN genre  = 'romance' OR genre  = 'comedy' THEN 'Chill'


Thanks
","
Yes, that should work.
Just a note, in some of the Codecademy courses they are checking for a specific answer, that does not always mean that the answer that wasn’t accepted is necessarily wrong.
"
273,Non-Correlated Subqueries III (what is the 'a')?,"Get Help,SQL",,4,"
I don’t understand why the “a” is there and what the ‘a’ does and what the ‘a’ means.
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_distance) AS average_distance
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
sum(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
https://gist.github.com/b99936ea23c720b14b4aa24c7d5581c3.
Thank You In Advance .
","
Me neither. I looked at the other answers but I don’t understand. Also why group by 1,2,3?




 danyal1414:

SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_distance) AS average_distance
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
sum(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
https://gist.githu


“a” is the identifier/name assigned to the sub query:
(
SELECT dep_month,
    dep_day_of_week,
    dep_date,
    sum(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3
) a

So if you reference “a.” like here:



 danyal1414:

SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_distance) AS average_distance


You are referencing the result of the aforementioned sub query.
This dep_month:



 danyal1414:

a.dep_month


Is the dep_month from the result of this:



 danyal1414:

SELECT dep_month,
dep_day_of_week,
dep_date,
sum(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3


It’s almost the same as naming columns (the AS):



 danyal1414:

AS flight_distance



I’m still new to this so someone please correct me if I misspeak.



 maryamazing:

Also why group by 1,2,3?


You’re making a table inside as part of a query. So how the information is presented in the table (inner query) will have an effect on how you reference it with the second query (outer query).
If you only do GROUP BY 1: It will show each unique entry for dep_month:
|dep_month|dep_day_of_week|dep_date|flight_distance|
|2000-01|Sunday|1/23/2000|10414|
|2000-02|Saturday|2/26/2000|8963|
|2000-03|Saturday|3/18/2000|2641|
|2000-04|Wednesday|4/12/2000|3377|
If you do GROUP BY 1, 2: It will sort like it does above except it’s also going to create extra entries for each unique entry in dep_day_of_week. This means you will now have multiple entries for each unique dep_month as long as it has more than one dep_day_of_week  (basically, no longer making it unique to itself) since we’re also including each unique entry of dep_day_of_the_week (results explanation below the data):
|dep_month|dep_day_of_week|dep_date|flight_distance|
|2000-01|Monday|1/31/2000|1302|
|2000-01|Saturday|1/1/2000|328|
|2000-01|Sunday|1/23/2000|2074|
|2000-01|Thursday|1/13/2000|3610|
|2000-01|Tuesday|1/18/2000|2820|
|2000-01|Wednesday|1/12/2000|280|
|2000-02|Friday|2/4/2000|1449|
|2000-02|Monday|2/21/2000|2704|
|2000-02|Saturday|2/26/2000|1095|
|2000-02|Sunday|2/20/2000|1173|
|2000-02|Tuesday|2/15/2000|1515|
|2000-02|Wednesday|2/23/2000|1027|
So if you look above, you’ll see that 2000-01 now has 6 unique days showing, no repeats (it’s missing Friday because 2000-01 had no Friday departures).
If you ONLY do GROUP BY 2 (dep_day_of_week), it will only show 7 entries, one for each day of the week as that’s how many unique options there are for this column.
So the point of using GROUP BY 1, 2, 3 inside of the Inner Query is to present the information properly that you’re going to need for the outer query to pull data from it.
In non-correlated sub-queries, the inner query is always able to create a table on its own. This means you can enter in just the inner query and play with it to see what the data is doing.
"
274,Correlated SubQueries II,"Get Help,SQL",,1,"
Correlated SubQueries II
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/correlated-ii?action=resume_content_item
Hello,
I’m having trouble comprehending what each line in the code is doing. It’s easiest to use the example instead of the actual question. Below is the code and I added the WHERE and ORDER BY line at the bottom of it to see what the result is doing easily. I understand the result, I don’t understand how the pieces are taking us there. I won’t be able to re-create this in a real life scenario if I ever needed to. Here is the prompt and code for it:
“It would also be interesting to order flights by giving them a sequence number based on time, by carrier.
For instance, assuming  flight_id  increments with each additional flight, we could use the following query to view flights by carrier, flight id, and sequence number:”
SELECT carrier, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
AS flight_sequence_number
FROM flights
WHERE carrier = ‘AS’
ORDER BY 1,2 desc;
The results show that flight_id 1581 was the first time carrier “AS” flew and on flight_id 19963 was the 18th time carrier “AS” flew.
The +1 is so that it counts from 1 to 18 instead of 0 to 17.
The part I don’t understand is WHERE f.id < flights.id
I experimented a little:
< and > simply reverse which way it counts. For example with > flight_id 19963 becomes 1 and 1581 becomes 18.
= turns every flight_sequence_number into 2.
<= and => does the same as < and > but as if you had + 2, resulting in 2 to 19 for flight_sequence_numbers
Could someone please explain what is happening with WHERE f.id < flights.id? I can’t figure it out.
Thank you.
",
275,Am I missing something? (SQL Multiple Tables Portion),"Get Help,SQL",,3,"
Hey all, I’m just getting into the “Multiple Tables” portion of the Data Science path. Starting out, it’s assuming that I am familiar with standard Python commands and syntax (I’m not, this is my first course). Did I miss something along the way?
Thanks!
","
Seems to be a bug. I had the same problem. Go to https://www.codecademy.com/learn/paths/data-science then go to “view detail” under SQL intermediate. Go down to “working with multiple tables” and start the lesson there. It’ll be in SQL.

I had the same problem. Thanks for the help, thought I was nuts 
"
276,"SQL ""Schema undefined."" and nothing returns","Get Help,SQL",,12,"
Hey guys,
I’ve recently started Data Science path and had no problems with the platform so far.
Today I want to start SQL: Intermediate (LINK) and the Database Schema says “Schema undefined.” all the time. Also, can’t return any queries so I can’t see any results of my codes, makes my learning difficult.
Like I said, had no problems before but now nothing returns on the platform. I tried previous SQL projects as well. What happened? What should I do?
Thank you!
David
","
Hi, I m facing the same problem. This is happening since morning. Yesterday it was working fine but today I m not able to see ouptut of queries on all courses

Same here. Select or any other queries do not return any results. I am also working within the intermediate SQL projects section.
Andrew

Me four – I went back to look at the basic SQL section and it was happening there, too, so I figured it probably wasn’t just me. Frustrating, as I’ve just brought pro and I was keen to try to catch up so I can finish the data science path in the next month or so! =’(

Me five, I’m facing same problem. Just starting SQL today, I thought that I made something wrong.

Same with me. Yesterday everything was fine. Tried Chrome and Firefox. Please, fix it.

The same for me! Yesterday it was working perfectly!
Does anyone know how long until this bug is fixed?!
Thank you!

Screen Shot 2019-01-10 at 13.44.18.png1358×1274 110 KB


It’s working now! 
Problem solved!
Thank you!

Still not working for me – guess I’ll check back in at the end of the day to see if anything’s changed. But hey, it’s nice to meet some fellow SQL-learners, even under the circumstances! =D

Still happening with me too. Just started the Data science path with PRO and it is really sad that I am unable to see the results and nothing returns. Submitted Bug reports on the page but nothing yet.
Hopefully it get’s sorted soon! Nice to meet you all either way!

It’s okay for me now. I don’t know why some people experience issues… 




 prody92:

I don’t know why some people experience issues…


Sometimes when things update here on Codecademy, there is an issue that follows the update.
I hope this helps =)
"
277,When to invoke LIKE or = in a WHERE clause,"Get Help,SQL",,2,"
Is there a rule stating when to use LIKE and when to use the equal sign in a WHERE clause?
","
They are both operators of the WHERE clause. When we are matching a specific value, we can use = or even IS,
WHERE id = 1

or
WHERE city IS 'Pittsburgh'

When we just want a similarity,
WHERE sport is LIKE '%ball'

Note the wild-card (%) at the beginning of the string. This will match any string value that ends with ball.
"
278,General problem with SQL,"Get Help,SQL",,4,"
Every time I type in some code and press ‘Save’, the tables don’t turn up like they’re supposed to.  Instead, the area on the right is empty and the ‘Next’ button becomes yellow again as if I can move on… Yet I can’t see any tables. It says ‘schema undefined’ instead. I tried on safari and chrome, and I’ve tried reloading the page and restarting my computer. Nothing works, please help!!
","
Hi, same here. 
Just did my post. You are not alone.

I’ll reply to your post if I find a solution or if anyone replies here. Good luck.

Thank you, I will do the same.
"
279,"""last patient in the active_patients table"" LAST_INSERT_ID() not working","Get Help,SQL",,3,"
Hi!
I am doing this cumulative project and am asked to get “the last patient in the active_patients table” which is meant to be the last inserted.
Thus Dr. G offered me the function LAST_INSERT_ID() which I tried but whatever I do it does not work 
Of course there are other ways to get this last ID e.g. I might sort the ID in reverse order and limit to 1. But I think this method to be quite elegant.
Link: https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-cumulative-project/projects/cadcademy-milestone
Thanks.
","



 magus66:

Of course there are other ways to get this last ID e.g. I might sort the ID in reverse order and limit to 1.


I don’t think there is anything wrong with this. I would say this is a fitting solution.

Thanks.
But any idea why the function LAST_INSERT_ID() does not work?
Cheers
Andreas
"
280,Why do I need to use GROUP BY?,"Get Help,SQL",,3,"
I’m working through the final project in the intermediate SQL course:
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-cumulative-project/projects/cadcademy-milestone
and I’m on Task #9: Find patients that have come in for a lipid panel more than once.  Use the  panels  table. You only need to list the  patient_ID s for this.
I get no results when I use this code:
‘’’
SELECT patient_ID
FROM panels
HAVING COUNT(patient_ID) > 1;
‘’’
It only works when I add a GROUP BY statement:
‘’’
SELECT patient_ID
FROM panels
GROUP BY patient_ID
HAVING COUNT(patient_ID) > 1;
‘’’
Why?  Why doesn’t SQL return any results if I don’t require the results to be grouped?
","



 pdxmusicman:

SELECT patient_ID
FROM panels
HAVING COUNT(patient_ID) > 1;


That is because HAVING has to be used either with GROUP BY or with aggregate functions (like COUNT).
This means that for the above to work, you need to add the GROUP BY like you did or do something like this:
SELECT COUNT(patient_ID)
FROM panels
HAVING COUNT(patient_ID) > 1;


Do you also know why the having needs a group by or aggregate function ?
"
281,"Markers, triggers, events and store procedures","Get Help,SQL",,1,"
Hi!
I’m in uni now and i have my database 2 exam coming up. I’m really unsecure about markers, triggers, events and store procedures. Is it a course here that teaches those functions specifically or a course that includes those things?
",
282,Question about Code Challenge: Aggregate Functions using AS operator,"Get Help,SQL",,2,"
link https://www.codecademy.com/programs/6ab2eb565d606af4d5dc4976a2338db8/content-items/0a25ec9bcbdfe5ce9179f1f315a29916/exercises/count1
The instructions in 2/10 are to:
Use  COUNT()  and a  LIKE  operator to determine the number of users that have an email ending in ‘.com’.
My incorrect solution was:
SELECT COUNT(*)
FROM users
WHERE email LIKE ‘%.com’;
After trying to figure it out, I check the solution provided which is:
SELECT COUNT(*) AS count
FROM users
WHERE email LIKE ‘%.com’;
I am still unclear why this query requires the use of AS. My understand so far is that the AS is used to rename a column, so is there a reason that is required in this case that I am missing?
","
The column name normally takes the string you use for requesting data.



 erikkirkstein:

SELECT COUNT(*)
FROM users
WHERE email LIKE ‘%.com’;


In this case the column name should be something like COUNT or COUNT(*) without the use of as.
Al tho it still gets the right information it is not very nice to look at.
This probably broke because Codecadamy asked to name the column. If not you should add a bug report from the lesson (found if you scroll down where the instructions are listed).
"
283,SQL Multiple Tables Cross Join Q3,"Get Help,SQL",,3,"
Here is the link to my issue. SQL Multiple Tables Section 7 Instruction 3.
https://www.codecademy.com/courses/learn-sql/lessons/multiple-tables/exercises/cross-join?action=resume_content_item
Code I’m using is below, please let me know if it’s flawed in some way.
Q3 makes no sense to me in the WHERE statement. The hint says to look at the month column and you’ll see that some are gone now. I did it and I don’t understand why some are missing.
The way it reads to me is this: you have start_month which can be anything between 1 and 12. And you have the month column which can be between 1 and 12 as well. In the FROM and AND statement below, there is no numerical limiter to narrow results down. It reads more like: if start_month = 12 and month = 1, it’s not going to show it in the result because 12 is not less than or equal to 1.
Sorry, it’s hard to explain this clearly. It might be best if someone just explains Q3 in painstaking detail to me  I was acing it until this lesson and now I hit a hard wall for two days in a row now.
SELECT *
FROM newspaper
CROSS JOIN months
WHERE start_month <= month
AND end_month >= month;
","



 countmeekle:

if start_month = 12 and month = 1, it’s not going to show it in the result because 12 is not less than or equal to 1


You are correct, but this reduces the number of records from the CROSS JOIN.
Cross join works like this:
(These are fictional tables)
Table: subscription

id; start_month; end_month
1; 1; 3
2; 10; 12

Table: months

month; name
1; January
2; February
3; March
...

After the cross join it looks something like this:
id; start_month; end_month; month; name
1; 1; 3; 1; January
1; 1; 3; 2; February
1; 1; 3; 3; March
...
2; 10; 12; 1; January
2; 10; 12; 2; February
2; 10; 12; 3; March
...

So like you said, if start_month is larger than month like this line:
2; 10; 12; 1; January

Then it will be excluded from the results because of the where, but these will remain:
2; 10; 12; 10; October
2; 10; 12; 11; November
2; 10; 12; 12; December


It seems I mostly understood how it works but didn’t realize that’s what they were trying to do in the instructions. Thank you for the clarification, it was very helpful 
"
284,Why does this query work and this does not? (beginner),"Get Help,SQL",,2,"
EXERCISE: GROUP BY II/AGGREGATE FUNCTIONS no.8/DATA SCIENCE (PYTHON)
Does anyone know by any chance why this works:
SELECT category,
price,
AVG(downloads)
FROM fake_apps
GROUP BY 1,2;
But does not work if I put it like:
SELECT category, price AVG(downloads)
FROM fake_apps
GROUP BY 1,2;
Thank you everyone for your help!
","



 amarizc:

EXERCISE: GROUP BY II/AGGREGATE FUNCTIONS no.8/DATA SCIENCE (PYTHON)


The language used in this exercise is actually SQL, rather than Python.
The problem with the second query is that a comma is missing after price on this line …
SELECT category, price AVG(downloads)

"
285,What is the General schema on MySQL?,"Get Help,SQL",,1,"
What is the General Schema on MySQL for Executing the Queries ?
",
286,Introduction to SQL 5 of 11,"Get Help,SQL",,5,"
When you ask a question, don’t forget to include a link to the exercise or project you’re dealing with!
If you want to have the best chances of getting a useful answer quickly, make sure you follow our guidelines about how to ask a good question.  That way you’ll be helping everyone – helping people to answer your question and helping others who are stuck to find the question and answer! 
","
I am completely new to SQL, I am following the tutorials but have hit a brick wall.  I will list the errors first, then list the code I am trying to get working, I hope someone will explain where I am going wrong.

Error: near line 1: near “INSERT”: syntax error
Error: near line 6: no such table: celebs
Error: near line 9: no such table: celebs
Error: near line 12: no such table: celebs


Introduction to SQL
1
CREATE TABLE celebs
2
​
3
INSERT INTO celebs (id, name, age)
4
VALUES (1, ‘Justin Bieber’, 22);
5
​
6
INSERT INTO celebs (id, name, age)
7
VALUES (2, ‘Beyonce Knowles’, 33);
8
​
9
INSERT INTO celebs (id, name, age)
10
VALUES (3, ‘Jeremy Lin’, 26);
11
​
12
INSERT INTO celebs (id, name, age)
13
VALUES (4, ‘Taylor Swift’, 26);
14

I hope someone will help with this.
Regards,  Rod
​




 rodney.jackson:

CREATE TABLE celebs


I think you might be missing a part of this. I haven’t done the course myself, but the structure for this is:
CREATE TABLE tableName (
    columnA datatype,
    columnB datatype,
    columnC datatype
);

And Codecademy is strict with syntax, so remember the “;” at the end of the create table statement.

Thank you for your answer louwding, I will revisit the course and give it a shot, I will report back here how things turn out.
Regards,

Rod

CREATE TABLE celebs (

id INTEGER,

name TEXT,

age INTEGER

);

INSERT INTO celebs (id, name, age)

VALUES (1, 'Justin Bieber', 22);

INSERT INTO celebs (id, name, age)

VALUES (2, 'Beyonce Knowles', 33);

INSERT INTO celebs (id, name, age)

VALUES (3, 'Jeremy Lin', 26);

INSERT INTO celebs (id, name, age)

VALUES (4, 'Taylor Swift', 26);

</quote>

I expected 3 columns.... id   name    age

what I got was 3 rows, nothing was added to the database.

There were no errors, however.

<quote>

Database Schema
celebs4 rows
id
INTEGER
name
TEXT
age
INTEGER
</quote>
"
287,How to take the difference from a row with the condition to the rest,"Get Help,SQL",,1,"
I want to convert a table below.  Want to take the difference from the lastest rank in group 2 of each product to the first row from group 2 in each product  as growth
Product, group, rank, val
|a|1|1|Null|
|a|1|2|Null|
|a|2|1|10|
|a|2|2|11|
|a|2|3|20|
|a|3|1|null|
|a|3|2|null|
|b|1|1|null|
|b|1|2|null|
|b|2|1|35|
|b|2|2|33|
|b|2|3|50|
|b|3|1|null|
|b|3|2|null|
To




product
group
rank
Val
Growth




a
1
1
Null
null


a
1
2
Null
null


a
2
1
10
null


a
2
2
11
null


a
2
3
20
10


a
3
1
null
null


a
3
2
null
null


b
1
1
null
null


b
1
2
null
null


b
2
1
35
null


b
2
2
33
null


b
2
3
50
15


b
3
1
null
null


b
3
2
null
null




",
288,Combining Tables with SQL Exercise,"Get Help,SQL",,1,"
This exercise is under the Multiple Tables Lesson in SQL intermediate.  Instruction #2 states:
Don’t remove the previous query.
Add a second query after your first one that only selects rows from the join where  description  is equal to ‘Fashion Magazine’.
The way I handled this was to simply add :
WHERE description = ‘Fashion Magazine’
to my previous query, which worked fine. For some reason the exercise wants us to create an entirely new query and specify :
WHERE subscriptions.description = ‘Fashion Magazine’;
I don’t understand why we need to do this is the description column is only available in the subscriptions table.
To clarify, my version :
SELECT *
FROM orders
JOIN subscriptions
ON orders.subscription_id = subscriptions.subscription_id
WHERE description = ‘Fashion Magazine’
;
Desired code from exercise:
SELECT *
FROM orders
JOIN subscriptions
ON orders.subscription_id = subscriptions.subscription_id
WHERE subscriptions.description = ‘Fashion Magazine’
;
",
289,What will be the Query of this schema?,"Get Help,SQL",,2,"

ERD Diagram.png725×406 12.5 KB

Please write query for this schema… thanks in advance
","
This forum is not meant for free labor.
If this is not the case please provide what you already tryed yourself. Than we can point you in the right way.
"
290,How do we divide up a large table into smaller tables in practice?,"Get Help,SQL",,1,"
Question
We see here that splitting a large table into multiple smaller tables can reduce redundant data and make our tables more manageable. How do we go from one massive table to multiple smaller tables?
Answer
A good first step towards dividing up a large table is to think about the pieces of key information that we’re storing in our application. Once we’ve identified these keys, for example name, email, and phone number, we ask whether or not a single value for any of the keys can be associated with multiple values for another key. For instance

Can a name be associated with multiple email addresses?
Can an email be associated with multiple phone numbers?
etc.

If we decide that a value for a key can be associated with many values for another key, we divide those keys into their own tables. We continue doing this until either


Each key has its own table, or


If multiple keys share a table, a value for any key is associated to exactly one value for the others.


In this way, we have successfully divided our table into smaller tables without redundancies. We call these keys the primary keys for our application.
",
291,Building a SQL Database,"Get Help,SQL",,2,"
How to build a SQL database to apply the information from the Codecademy SQL path:

First step will be choosing a flavor of SQL and installing it. MySQL is pretty common and I think it’s a good starting point.

All of the steps are in the documentation here.


Once you have the server up and running you need to connect to it


From there you can create a database or import one:




Create


Import JSON


Import CSV


Hope that helps everyone! Let me know!
","
This will surely help people learning how to build db. Keep up the good work.
"
292,Commands all white (they dont have colors anymore :( ),"Get Help,SQL",,1,"
Hello guys thank you for your help beforehand.
Before, when i writte commands like SELECT, FROM, etc, they were different colors, like blue for those commands, yellow for ‘’, red for () adn so on
now all commands are white :C all the characters i writte on the code editor are white.
they work fine, the commands do as sopposed, just they are all white and somehow different colors as before helped me better.
is there an option or something to put them back with colors?
thanks
",
293,WHERE... LIKE and how it works with other code,"Get Help,SQL",,2,"
Hi Codecademy,
I am working through the Davie’s Burgers Subway Ad exercises in SQL. I have a question in SQL, how does the WHERE… LIKE code works, and how it interacts with other code. Why does it work in some instances. For example:
This code here does not work:
SELECT DISTINCT special_instructions
FROM orders
WHERE special_instructions IS NOT NULL
WHERE special_instructions LIKE ‘%sauce%’
ORDER BY special_instructions ASC;
But this code does work:
SELECT special_instructions
FROM orders
WHERE special_instructions LIKE ‘%sauce%’;
Thanks for all of your help,
Eric
","



 ericsokolowski:

WHERE special_instructions IS NOT NULL
WHERE special_instructions LIKE ‘%sauce%’


You can’t have more than 1 WHERE clause as far as I’m aware. You should use AND:
WHERE special_instructions IS NOT NULL 
    AND special_instructions LIKE ‘%sauce%’

"
294,SQL Programming,"Get Help,SQL",,3,"
When you ask a question, don’t forget to include a link to the exercise or project you’re dealing with!
If you want to have the best chances of getting a useful answer quickly, make sure you follow our guidelines about how to ask a good question.  That way you’ll be helping everyone – helping people to answer your question and helping others who are stuck to find the question and answer! 
I don’t know why my SQL codes don’t work:
“https://www.codecademy.com/programs/2ab5e673cf4598ee4720e1a98db36328/content-items/df49957b082d326e9985f62fea129590”
here’s the code below (calculating the churn rate):
with months as
(select
‘2017-01-01’ as first_day,
‘2017-01-31’ as last_day
union
select
‘2017-02-01’ as first_day,
‘2017-02-28’ as last_day
union
select
‘2017-03-01’ as first_day,
‘2017-03-31’ as last_day
),
cross_join as
(select * from subscriptions
cross join months
),
status as
(select
id,
first_day as month,
case
when (subscription_start < first_day)
and (subscription_end > first_day or subscription_end is null) and (segment = 87) then 1
else 0
end as is_active_87,
case
when (subscription_start < first_day) and (subscription_end > first_day or subscription_end is null) and (segment = 30) then 1
else 0
end as is_active_30,
case
when (subscription_end between first_day and last_day)
then 1
else 0
end as is_canceled_87,
case
when (subscription_end between first_day and last_day)
then 1
else 0
end as is_canceled_30,
from cross_join
), status_aggregate as
(select month,
sum(is_active_87) as sum_active_87,
sum(is_active_30) as sum_active_30,
sum(is_canceled_87) as sum_canceled_87,
sum(is_canceled_30) as sum_canceled_30
from status
group by month
) select month,
1.0sum_canceled_87/sum_active_87 as churn_rate_87,
1.0sum_canceled_30/sum_active_30 as churn_rate_30
from status_aggregate;
","



 alanfalcon:

“https://www.codecademy.com/programs/2ab5e673cf4598ee4720e1a98db36328/content-items/df49957b082d326e9985f62fea129590 ”


This link doesn’t work for me, can you  please give me the course name and step number.

I copied and pasted this and it still doesn’t work.  It is giving me an error of “Error: near line 1: near “;”: syntax error”  I’ve tried everything, what did I do wrong?
"
295,"Group By (Numerator, Denominator, or both?)","Get Help,SQL",,2,"
In the following code, am I correct in thinking that SQL will group both the numerator AND the denominator by “date”, then perform the individual calculations?
select
date(created_at),
round(sum(price) / count(distinct user_id), 2) as arppu
from purchases
where refunded_at is null
group by 1
order by 1;
If so, when I want to group by ONLY the numerator, does the denominator have to be within a sub query, as in the following code?:
Select name, round(sum(amount_paid) /
(select sum(amount_paid) from order_items)
100.0, 2) as pct
from order_items
group by 1
order by 2 desc;
Thanks!
","



 andrew.malone:

select
date(created_at),
round(sum(price) / count(distinct user_id), 2) as arppu
from purchases
where refunded_at is null
group by 1
order by 1;


This query will group all of the records with the same date then sum their price divided by the distinct user ids.
So if you have 3 records with the created_at date of 2018/10/18, their price at 100, 150,95 respectively and 100 and 95 have the same user_id the query will sum 100 + 150 + 95 then divide it by 2 (because two records have the same id and one record has a different id the distinct ids count is 2) then the result will be rounded.
"
296,Using 'name LIKE ...' instead of 'name = ...' in SQL,"Get Help,SQL",,4,"
I’m wondering if anyone knows the reason for the LIKE  operation in SQL. Specifically, why can’t you just use the = operator.
For instance, when creating a query, why do I have to use name LIKE 'A%' to select all the names that begin with ‘A’? Why can’t I just use name = 'A%'?
LIKE just seems to be redundant operator.
Any explanation would be appreciated. Thanks!
","
Hi @addisonscott,
In SQL, the LIKE operator allows certain wildcard characters to be used in a match, while the = operator does not. For example, with LIKE, the % wildcard can match zero or more of any characters. Accordingly, '%dollar%' will match any string that contains the substring, 'dollar'.
In the The Metropolitan Museum of Art project, this …
SELECT title, date, medium FROM met
WHERE title LIKE '%dollar%';

… SELECTs this data …
|title|date|medium|
|---|---|---|
|One-dollar Liberty Head Coin|1853|Gold|
|Ten-dollar Liberty Head Coin|1901|Gold|
|Two-and-a-Half Dollar Coin|1909–27|Gold|
|Two-and-a-Half Dollar Coin|1909–27|Gold|
|Two-and-a-Half Dollar Coin|1909–27|Gold|
|Two-and-a-Half Dollar Coin|1909–27|Gold|
|Two-and-a-Half Dollar Coin|1909–27|Gold|
|Two-and-a-Half Dollar Coin|1909–27|Gold|
|Two-and-a-Half Dollar Coin|1909–27|Gold|
|Two-and-a-half-dollar Indian Head Coin|1912|Gold|
|Two-and-a-half-dollar Liberty Head Coin|1907|Gold|
|Twenty-dollar Liberty Head Coin|1876|Gold|
|Five-dollar Indian Head Coin|1910|Gold|
|Five-dollar Liberty Head Coin|1907|Gold|

If we use = instead of LIKE in the statement above, no records are SELECTed.
Edited on October 15, 2018 to correct a typographical error

Thanks for the reply, @appylpye! I understand that = does not interpret wildcards and LIKE does interpret wildcards. I guess the deeper question I’m asking though is “Why?”.
Is there a specific reason that these two separate operators need to exist in SQL? For people who use SQL every day, is it there a common need to perform a query that looks for data with % or _ in it, and NOT interpret them as wildcards?
Maybe this will become more clear to me as I get deeper into the SQL lessons 




 addisonscott:

Is there a specific reason that these two separate operators need to exist in SQL?


You can get by with using the LIKE operator without wildcards instead of = when you are looking for an exact match. However, including = among the comparison operators available in SQL may allow for more consistent style when using AND and OR to form complex comparisons.
Suppose you wanted to see all records in a table named Boxes where height is less than or equal to 10 and width is exactly 12. You could do this …
SELECT * FROM Boxes
WHERE height <= 10 AND width LIKE 12;

… or this …
SELECT * FROM Boxes
WHERE height <= 10 AND width = 12;

However, the style of the latter seems nicer and easier to read.
"
297,Correlated/non-correlated subqueries,"Get Help,SQL",,5,"
Hi, Can someone walk me through what the bold portion of the below script is doing or what it’s purpose is?
SELECT carrier, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
** AS flight_sequence_number**
FROM flights;
Actually, I’m finished the sql intensive programme, but I can’t the difference between correlated and non-correlated. I mean, I understand the theory, but looking at the code how do I know if it is correlated or non correlated?
","
A correlated subquery is executed for each row of the outer query and uses values from this outer query.
Example of a correlated query:
SELECT a.Column1, a.Culumn2
FROM tableA as a
WHERE x = (
    SELECT COUNT(b.ColumnA)
    FROM tableB as b
    WHERE b.ColumnB >= a.Column2);

Note that the subquery uses “a.Column2” from the outer query.
On the other hand, a  non-correlated subquery is only executed once and doesn’t use any values from the outer query.
Example of a non-correlated query:
SELECT a.Column1, a.Culumn2
FROM tableA as a
WHERE x = (
    SELECT COUNT(b.ColumnA)
    FROM tableB as b
    WHERE b.ColumnB IS NOT NULL);


Thank you for help.
One more thing…
SELECT origin, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.origin=flights.origin) + 1
AS flight_sequence_number
FROM flights;
In this example, as you said,  the subquery takes  values from the outer query, but why it says “f.id<flights.id” - the columns are the same, aren’t they?
And the “+1” , it is added to the number?




 mariuszwol:

columns are the same, aren’t they?


They are the same, yes, but I will try to explain it as best I can.
WHERE d.id < flights.id
AND d.origin = flights.origin

According to the query you posted, this looks to me like it selects all of the flights prior to the current one (the WHERE clause) that ALSO have the same origin or starting location (the AND).



 mariuszwol:

And the “+1” , it is added to the number?


This the +1 adds to the result of the count.
So if there are 5 flights with id’s smaller than the current rows id that have the same origin, the result would be 6.
With this query it seems like the same result could be achieved by changing WHERE f.id < flights.id to WHERE f.id <= flights.id and removing the +1, but I might be wrong.

I think I got it  Great, Thank you.
"
298,Question about SQL Table Transformation Exercise Correlated Subqueries II,"Get Help,SQL",,1,"
Hi, I’m new to SQL and I have a question about what the code in the example is doing (link to exercise: https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/correlated-ii?action=resume_content_item)
My biggest confusion is coming from the line: FROM flights f""
From the sidebar, I can see flights is a table in the database but that f is not. From what I can understand, f is an alias for the table flights in order for us to compare rows, but I want to make sure I am understanding this correctly.
So my question is, what is SQL doing with that statement?
Thanks!
",
299,Multiple tables with statement,"Get Help,SQL",,1,"
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/with?action=resume_content_item&course_redirect=learn-sql
why is semi colon( ; ) not used after the closing brace in WITH statement?
",
300,SQL Primary Key vs Foreign Key,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/primary-key?action=resume_content_item&course_redirect=learn-sql
The link above contains the topic primary key and foreign key. It gives example of foreign key class_id in the table classes. It is the primary key in students.  May I know what is the primary key in students? Is it ID or class_id?
","
id is the default primary key, so unless you changed the primary key, id is still the primary key of students.
adding a foreign key won’t change the primary key.
"
301,SQL Structure Question,"Get Help,SQL",,1,"
Hi guys! So I’ve been struggling with this Question (linked below) for about 20 minutes and I’m not entirely sure what I’m doing wrong. I’ve looked at the solution and the only thing that seems to be different between my code and the solution’s code is that there is an indent before the ‘count’ and ‘round’ functions. What’s the use of tab in code and how does it effect how things are run?
Thank you!
https://www.codecademy.com/paths/data-science/tracks/sql-intermediate/modules/dspath-sql-aggregates/lessons/codeflix/exercises/count3
",
302,SQL HELP - how did rv come about,"Get Help,SQL",,2,"
I’m new to SQL (and programming).  Can someone explain to me what “rv” stands for in this block of code?  I’m guessing it’s a short hand for the table named recommended_values but no where did it rename the table to rv.  This one of the learning modules I’m working on from codeacademy and I hate to move on b/c I have no idea how they came up with the short hand rv.  Thank you!!!
SELECT
active_patients.Name as Name, round(LDL) as LDL,
active_patients.Address As Address,
active_patients.Phone as Phone
FROM
panels,
(SELECT Borderline_High, High
FROM recommended_values
WHERE LIPID = ‘LDL’) rv
JOIN active_patients on
panels.patient_ID = active_patients.ID
GROUP BY LDL
HAVING LDL>= rv.Borderline_High
ORDER BY LDL DESC;
","
Personally, I found this whole project really badly explained, and difficult to work through. I ended up pretty much just copying the answers from the ‘hints’.
To be honest, it wouldn’t surprise me if this was a shorthand way of renaming the table that they just hadn’t bothered to explain.   That would seem to be in step with the rest of the exercise.
My guess is that the line:
(SELECT Borderline_High, High
FROM recommended_values
WHERE LIPID = ‘LDL’) rv
is a shorthand for the ‘AS’ term we’ve been using elsewhere but it IS just a guess.
"
303,SQL aggregate functions 6/10 avg and round,"Get Help,SQL",,3,"
in section 6/10 of aggregate functions there is a query to select average and round it to 2 decimal places.
When I type SELECT ROUND(AVG(price), 2) FROM fake_apps; it return correct result
but when I type SELECT AVG(ROUND(price, 2)) from fake_apps;  no result set is returned.
I want to know why these two aggregate function combination behave differently.
","
Both work fine, but the answer will be different by a decimal value. Remember to add the “;”

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
304,I need help with creating a loop that iterates over the given ids array,"Get Help,SQL",,4,"
I am stuck on an exercise in Learn Node -SQLite called “Using Placeholders”.  I am stuck on instruction 1 which says “Create a loop that iterates over the given ids array.  For now, just log every id number.”  I am not sure on how to go about it. I need help. Here is my code.
const { printQueryResults } = require('./utils');
const sqlite = require('sqlite3');

const db = new sqlite.Database('./db.sqlite');

const ids = [1, 25, 45, 100, 360, 382];
ids.forEach((id) => )

","
Whatever you do, do not repost this topic or the system will ban you. You were already in the pipeline. New users are closely monitored, and the forums have very strict link protocols in place.
In the meantime, please DM me the URL to the lesson page so I can publish it here without you being put under scrutiny, again.
I’ve removed the GIST links from your topics and replaced them with formatted code.




 kevin_makyahoo.com:

I am not sure on how to go about it. I need help.


This suggests to us that you are skipping ahead and ending way up the learning curve without a net. You will face many challenges in attempting to learn this way, and most of them will be rudimentary, which after awhile will become embarrassing. Just saying…

log every id number

Do you know what that means?

@oduffy: Good reason to stop them at the door and test the requisites, from the ground up.
"
305,Learn Node-SQLite,"Get Help,SQL",,3,"
I really need help with instruction 5. It says ""Log these averages using the given printQueryResults() function. I do not see how I am making an error. I seem to be doing it correctly. My code is on line 12. I am on ""Learn Node-SQLite"". I am on exercise ""Using db.each()"".
const { addClimateRowToObject, calculateAverages, printQueryResults } = require('./utils');
const sqlite = require('sqlite3');

const db = new sqlite.Database('./db.sqlite');

const temperaturesByYear = {};
db.each('SELECT * FROM TemperatureData',
       (error, row) => {
  addClimateRowToObject(row, temperaturesByYear);
},
const averageTemperatureByYear = calculateAverages(temperaturesByYear),
printQueryResults(averageTemperatureByYear);
) 

","
As with your previous topic, we will be needing the URL of the exercise page. Please.post it in a reply. Thanks.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
306,SQL in React + Express,"Get Help,SQL",,1,"
Hi,
I’m confused about how to integrate sql database with the front end/middlewares

where do we create the database?


in the codestrips project, we had to db.run a CREATE TABLE function in a sql.js file that’s separate from the app.js. My questions are:
1a. why don’t we create a table directly within app.js?
1b. we never exported/imported sql.js into app.js. If we created the table in sql.js, how did app.js know about that table?
1c. In both the app.js and sql.js files, we created a database called db with the new sqlite3.database() function. are these two ‘db’ unique, or is it a shared database (even though we never imported/exported them)?
1d. when we run an app.get(’/path’…), what does path really represent? Must I create a folder called path that has an sql file inside?  how do I create a path before I can actually mount a router on on it?


This one is about express:


why use app.get when you can use $.ajax()?

Thanks!
",
307,Who could explain difference between two calculations,"Get Help,SQL",,5,"
SELECT
	state,
  100.0 * sum(
    CASE 
    	WHEN elevation >= 2000 THEN 1 
    	ELSE 0 
    END
  ) / count(*) as percentage_flight_distance_from_delta
FROM airports
GROUP BY state;

and
SELECT
	state,
  100.0 * (sum(
    CASE 
    	WHEN elevation >= 2000 THEN 1 
    	ELSE 0 
    END
  ) / count(*)) as percentage_flight_distance_from_delta
FROM airports
GROUP BY state;

Thank you
","
How big is the answer difference?
If it’s small (like < 1) then it’s because of the way .0 is handled, try CONVERT(decimal,insertNumber)
EDIT:
SELECT 100 * (5.0 / 12.0) = 41.6666
SELECT 100.0 * (5.00 / 12.00) = 41.66666


if division is wrapped into brackets it doesn’t work correctly.
it works as (0 OR 1)
so what is the reason?
are there some manuals for this?

That’s because the numbers in the division is handled as Integer values. When the first value is larger than the second, the answer is the closest to the times it goes into the first (15/5=3; 16/5=3, 9/5=1) and when it’s smaller the answer is 0 (5/9=0). The answer is rounded down (floored) to the closest integer.
Example of my precious answer:
SELECT 9/5 = 1
SELECT 9 / CONVERT(decimal,5) = 1.8


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
308,Correlated Subqueries,"Get Help,SQL",,2,"
Can someone walk me through what the bold portion of the below script is doing or what it’s purpose is?
SELECT carrier, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
** AS flight_sequence_number**
FROM flights;
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
309,Why use a subquery for exercise 4: Non-Correlated Subqueries III?,"Get Help,SQL",,3,"
Why do you need to use a subquery? Doesn’t the code below give the same result?
SELECT dep_month,
  dep_day_of_week,
   avg(distance) AS flight_distance
FROM flights
GROUP BY 1,2;

","



 jvantoor:

SELECT dep_month, dep_day_of_week, avg(distance) AS flight_distance FROM flights GROUP BY 1,2;


Yes they do give you the same result. I think codecademy is just trying to show you conceptually how it works.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
310,Data types on SQL,"Get Help,SQL",,6,"
Hello.
I have been doing the SQL courses from data science path. I learnt that I can set data types for each column. But what does it do? Shouldn’t it prevent me to add string “asd” to a column with INTEGER data type? And “May 30th, 1990” to a DATE column?
Thanks.
","
Easiest way to find out is to create a table and try entering invalid data. What happens? Does SQL catch the error right away? If not, does it throw an error during a query of the table?

Yeah, I’m saying it doesn’t prevent me to enter invalid data. It just accepts them as if they were all text (but they are integer, date, etc).

I’m asking if it should prevent it or not. If not, then what is the purpose of having different data types?

The database is only one link in a long chain. Querying is how we fill in a dataset to be used in some process, which process will be dependent on valid data types. That is where the real problems will surface if the data is corrupt especially if the program is Java, C or any which have strict type compliace. They will raise exceptions.

So it’s okay to put wrong data types on the database, but when querying that data using some languages will trigger errors?

It would appear so. SQL does not take charge of the integrity of data types. It’s all the more reason to have validation entrenched when accepting user inputs that will be written to the database.
"
311,Way too fast (Multiple Tables 9/10),"Get Help,SQL",,7,"
I didn’t have any trouble with this course up until the late excersises in Multiple Tables. I think you move way too fast here.
Could someone please explain step by step what’s going on in this code, especially the last part:
WITH previous_query AS (
SELECT customer_id,
COUNT(subscription_id) AS ‘subscriptions’
FROM orders
GROUP BY customer_id
)
SELECT customers.customer_name,
previous_query.subscriptions
FROM previous_query
JOIN customers
ON previous_query.customer_id = customers.customer_id;
","
Hi @borgelin,
Disclaimer: I have not performed this lesson, so if i cover anything you already know, please excuse that. 
This is what is known as a CTE (Common Table Expression).
Although it is not, for simplicity think of it as a type of reversed derived table: In the sense that you are pulling in data from a result set you made on the fly, but instead of it being created after the select it is created before. I understand the order by which SQL engine builds queries, I am simply referring to how it is read not how it is built 
With that in mind. CTE’s start by using the WITH statement, and then the alias name you want to use to reference the data this result set will make:
WITH someAliasName AS ( 
   --Put the result set you want to query against in here, between parens
)

As the comment above then calls out, you define a result set by writing a SQL statement of sorts in between the parens. It should be noted you can define more than one, but that is beyond the scope of this reply 
SELECT customer_id,
COUNT(subscription_id) AS ‘subscriptions’
FROM orders
GROUP BY customer_id

So, at this moment, we created a table, that  is giving us back, a COUNT of subscriptions, for each Customer’s ID.
Now, the thing is although we’ve defined, for want of a better term, the data set, we haven’t actually accessed it yet, and for CTE’s that’s where we SELECT from, after the data set is built. Think of it as if you’re saying, from what I have created, I now want to SELECT this and this.
WITH someAliasName AS (
   SELECT customer_id,
   COUNT(subscription_id) AS ‘subscriptions’
   FROM orders
   GROUP BY customer_id
)
SELECT theFieldsIWant
FROM the someAliasName CTE I just made above

And that is really all there is to it.
It just goes one step further in this case, because just like Temp Tables, Dervied Tables and Views, CTE’s can be joined on to other SQL Objects, like other tables, to help filter and produce specific result set. They are, as the name calls out, just another type of TABLE after all.
That’s what the last piece does.
WITH someAliasName AS (
   SELECT customer_id,
   COUNT(subscription_id) AS ‘subscriptions’
   FROM orders
   GROUP BY customer_id
)
SELECT theFieldsIWant
FROM the someAliasName CTE I just made above
   INNER JOIN someOtherTableICanCorrelateOn;

As to the break down here; it looks like we basically took a COUNT of subscriptions for each Customer ID we have from the ORDERS table. This makes up the CTE we’re going to reference.
We then go use that information to get the Customer’s details, such as the Customer Name, because after all how good is an ID to most people, unless they memorized who that ID represents. To that we said, hey, for this Customer ID, that I have a COUNT of subscriptions for, go to the Customer’s Table and get me their other details.
That’s what the ON part of the JOIN is doing.
Hopefully with the terms given here, you can scour around the internet to search for more in depth explanations if needs be, or to expand further you could practice writing this as a Temp Table, or View, or Derived Table case 

Thank you so much, Mike, that was a really nice breakdown. 
I still find it fairly complicated given that you don’t really see the tables and the changes you make.
In the line SELECT customers.customer_name it would translate to SELECT this_table.this_row, right?

Almost, in that given case what we’re doing is EXPLICITLY declaring the table we want to grab a FIELD from. We reference Fields, and each line back is a row/record. 
This is how we get around the error that sometimes occurs with SQL claiming ambiguous columns names. Which happens when you query on TWO or more joined tables that can have the same field name EG: customer_Id.
SQL doesn’t know which table “customer_Id” might come from, so we tell it Customers.customer_Id and previous_query.customer_Id
So, using the original code you gave. There is no decent way to do formatting in so hopefully the following translates well: Customers table has been set to BOLD. Our CTE is ITALIC.
WITH previous_query AS (
SELECT customer_id,
COUNT(subscription_id) AS ‘subscriptions’
FROM orders
GROUP BY customer_id
)
SELECT customers.customer_name,
previous_query.subscriptions
FROM previous_query
INNER JOIN customers ON previous_query.customer_id = customers.customer_id;
Hope that helps 

Thanks again, Mike, really appreciate you taking the time to explain.
Do you have any tips to where i should go from here?
I’m finished with codecademy SQL and im not too impressed with it (used PRO), seems I just began to scratch the surface.

SQL is like most other languages really; always evolving, so there is always another layer. OK, maybe it’s not .NET or some web languages, but there is always new syntax 
SQL is mostly platform agnostic, from a syntax/type of usage stance, the libraries and GUI will differ, but to be fair, depending where you want to take it/what you wanna do will probably determine what you should follow up on.
I guess that means, if you want something like Wordpress sites, then study what that relies on, like PHP and My SQL, and go search around for information on that online. Should you go to a Microsoft based shop, you’ll want TSQL as your main base, lots on MSDN sites for that etc. That’s really what it comes down to mostly.
There should be no shortage on what you want to study, and you can actually switch, though the functions, syntax, and GUI will change between types of SQL. The main question you need to decide is what you want to do, so you can dive into that area.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
312,SLQ Table Transformation #4 Code,"Get Help,SQL",,2,"
Good Day Group,
I am working on SQL: Table Transformation #4 of 7
Why is it SUM(distance) vs. AVG(distance) given the instructions say to find the average?
Learn Instructions
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
Correct Code:
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_distance) AS avereage_distance
FROM(SELECT dep_day_of_week,
dep_month,dep_date,
SUM(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3
)a
GROUP BY 1,2
ORDER BY 1,2;
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
313,"Non-Correlated Subqueries III - Why do we need to GROUP BY 1,2,3 instead of just GROUP BY 3?","Get Help,SQL",,3,"
Hi, I have a question for the “GROUP BY” clause inside subquery a. My understanding is that the subquery is obtaining the total number of flights on each date, which will be used to calculate the average in the outer query. If so, shouldn’t “GROUP BY 3” be sufficient? Why do we have to GROUP BY 1,2,3?
Thanks!
SELECT a.dep_month,
       a.dep_day_of_week,
       AVG(a.flight_count) AS average_flights
  FROM (
        SELECT dep_month,
              dep_day_of_week,
               dep_date,
               COUNT(*) AS flight_count
          FROM flights
         **GROUP BY 1,2,3**
       ) a
 GROUP BY 1,2
 ORDER BY 1,2

","
This is actually a really bad thing to do IMHO, and it’s not supported in most other database platforms.
The reasons people do it:

they’re lazy** - I don’t know why people think their productivity is improved by writing terse code rather than typing for an extra 40 milliseconds to get much more literal code.

The reasons it’s bad:

it’s not self-documenting** - someone is going to have to go parse the SELECT list to figure out the grouping. It would actually be a little more clear in SQL Server, which doesn’t support cowboy who-knows-what-will-happen grouping like MySQL does.


t’s brittle** - someone comes in and changes the SELECT list because the business users wanted a different report output, and now your output is a mess. If you had used column names in the GROUP BY, order in the SELECT list would be irrelevant.


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
314,SQL Non-correlated Subqueries III,"Get Help,SQL",,2,"
Hi there - I’m having a hard time understanding the code presented to me vs. the code I wrote on my own to answer the question.
Code this: How many flights are there on average for all Fridays in a given month
My code:
((
SELECT dep_month,
AVG (count_friday_flights) AS avg_fri_flights
FROM (
SELECT dep_month,
COUNT (*) AS count_friday_flights
FROM flights
WHERE dep_day_of_week = ‘Friday’
GROUP BY dep_month)
group by dep_month;
))
CodeAcademy’s code:
((
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
)0
I think my code is a little simpler - but am I breaking any rules? Why would I use the other code? Am I missing something?
Thanks!
Val
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
315,Print all the records having 'The' but not 'The ',"Get Help,SQL",,3,"
I was going through Learn SQL course and came through like keyword.
Then a question came to my mind.
We have to print movies starting with ‘The’ but should not include movies 'The '.

The Avengers
The Galaxy man
The Hulk
There was a sunshine
There it is
There is many like us

Then our query should return 4, 5, 6 records only not 1, 2, 3.
","
Hi @betaplayer51745,
If it may help please see the following example which shows how you would explicitly use the SQL LIKE to set what terms to search on and what to omit.
The trick is just matching patterns with what you WANT and what you do NOT.
SQL Movies The Example.
EDIT: I should mention, incase one is not familiar with this; one should select [Build Schema] on the left first, to populate the tables. Then on the right hit [Run SQL]. The results are displayed on the bottom. You can edit the SQL as needs be. However please not it is based on MS SQL syntax.

I have solved it using this trick but the codecademy platform was not giving me the records, so I thought I am wrong and haven’t tried it anywhere else and just posted the question. Thanks for figuring that out! Peace.
"
316,Non-Correlated Subqueries II,"Get Help,SQL",,2,"
In the example below I do not understand how returning ‘code(s)’ assist. There is no link. Code is a unique field to the airports table. Can someone assist?
SELECT *
FROM flights
WHERE origin in (
SELECT code
FROM airports
WHERE fac_type = ‘SEAPLANE_BASE’);
","
Hi @methodblaster32242,
The main note is that these type of databases are known as Relation Databases. (aka RDBMS) .
Now the key here is this means that each table in SQL is RELATED to each other.
It is worth mentioning that each SQL table also represents an entity in real life; like a Flight is a table, that represents flights, and Airports is a table that represents airport. But I digress.
What matters here is that they are related.
That relationship doesn’t have to always be on a matching field name, CODE doesn’t have to equal CODE.
What does matter is that you can build any ad-hoc relationship between any two, or more SQL tables, by finding values that match between those two tables.
In this case then, CODE in the Airports table, holds values that match ORIGIN in the flights table.
You can see this by putting the following SQL snippet in the lesson query window and running it.
SELECT * 
FROM Flights 
WHERE Origin in ('SNA' ) LIMIT 5;

SELECT * FROM Airports WHERE Code = 'SNA' LIMIT 5;

This returns up to 5 rows from the FLIGHTS table where ORIGIN is IN ‘SNA’.
The second snippet returns up to 5 rows from the AIRPORTS table, where CODE = ‘SNA’, and that’s how this works.
First SQL reads the subquery from Airports and gets the list of Codes. Then for every CODE it finds that matches the exact word in Flights’ Origin, it shows you the results;
SELECT * 
FROM flights --second for every match show me flight info here
WHERE origin IN (SELECT Code --Go get this list first
                 FROM Airports 
                 WHERE Code = 'SNA' LIMIT 5) LIMIT 5;

"
317,Need some explanation on the significance of 'a',"Get Help,SQL",,4,"
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
Hello everyone, someone help explain to what ‘a’ represent in this query. I have replace it with other variable it work correctly but I don’t have any logical explanation.
I am not very verse with sql
Thanks for the help
","
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a

In the above, a is the alias given to the subquery, and referred to by,
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_count) AS average_flights

If we treat a as a context, the columns are attributes of that context.
a.dep_month
a.dep_day_of_week
a.flight_count

Thanks very much for the explanation. It very helpful

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
318,"Why Count (1), when we use Count(*)","Get Help,SQL",,5,"
Hi there,
Need to know why the Count(1) was used in the query below: as i have understood when we use count(*) it counts total rows in the table. What Count(1) is suppose to count?
select date(ordered_at), count(1)
from orders
group by 1
order by 1;
Thanks,
MAK.
","
Please post the URL to this exercise. It looks like it might have something to do with aggregate functions, but we still need to see the exact exercise to answer your question.




 textpro11716:

select date(ordered_at), count(1)
from orders
group by 1
order by 1;


Hi,
Thanks for your reply… actually i am learning SQL on codecademy…
and below is the lesson and its instruction
ADVANCED AGGREGATES
Daily Count 2
Great! Now that we can convert timestamps to dates, we can count the Orders Per Date. Generally, when we count all records in a table we run a query with the count function, as follows:
select count(1) from users;
This will treat all rows as a single group, and return one row in the result set - the total count.
To count orders by their dates, we’ll use the date and count functions and pair them with the group by clause. Together this will count the records in the table, grouped by date.
For example, to see the user records counted by the date created, we use the date and count functions and group by clause as follows:
select date(created_at), count(1) from users group by date(created_at)
INSTRUCTION:
Use the date and count functions and group by clause to count and group the orders by the dates they were ordered_at.
select /**/
from orders
group by 1
order by 1;
We now have the daily order count!
The order by 1 and group by 1 statements are shortcuts for order by date(ordered_at) and group by date(ordered_at).
Thats the reason i got confuse, why we are using ‘count(1)’ and what exactly it calculates?
Thanks once again.
MAK.

We are still powerless without that URL to the lesson.

sorry i missed that…
https://www.codecademy.com/courses/sql-analyzing-business-metrics/lessons/advanced-aggregates/exercises/daily-count-ii?action=resume_content_item
"
319,SQL: TABLE Transformation,"Get Help,SQL",,5,"
SQL Answer:

SELECT REPLACE(ingredients,‘enriched_’,’ ') as item_ingredients
FROM baked_goods;

My answer:

SELECT id, REPLACE(ingredients,‘enriched_flour’,‘flour’) as ingredients
from baked_goods;

What is the difference between this two method? I do not understand why I am wrong?
Thanks a lot in advance 
","
The lesson checker may not be set up to accept both solutions. They are both correct.

Thank you 
Does anyone have more suggestions on learning SQL, I will be finishing all three SQL courses that Codecademy offer.
Thanks again,

You’re welcome.



 pysurfer11176:

Does anyone have more suggestions on learning SQL


All I can suggest is where I would start… Search SQL tutorials. Only reason I say that is because I don’t have any suggestions, but don’t want you to wait for responses on this topic. Dig around in the meantime and report back anything interesting that you might find. By then, there may be other responses.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
320,"How does SQL handle letters like ä,ö,ü","Get Help,SQL",,1,"
I tried to add some letters like ä,ö,ü Into the table but the program ignores the letter.
What happens for example if a customer ist called “Max München”?
Logically, if the database stores the customer data as “Max Mnchen” you couldn’t find the data ever again, so how do SQL and databases handle these kind of letters?
",
321,Beginner Problems with SQL,"Get Help,SQL",,8,"
Hello. I’m a newbie at codecademy and am facing some issues in Table Transformation . I don’t get how outer query is linked with inner subquery. Can someone explain transforming tables to me, please?
Regards.
","
Please assist us by including a link to the lessn you are having difficulty with.

Thank you for your concern mtf. It is particularly this one and the ones ahead. The code gets difficult all of  a sudden and I was unable to grasp how things relate to each other at this point.




 mouaznaeem10:

this one


this one isn’t a link to the exercise? Please include link/url to exercise, so we can easily access the lesson, study the information and instructions to help you further

https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/non-correlated-iii?action=resume_content_item
here is the url




 mouaznaeem10:

query is linked with inner subquery


I think this will solve your problem.
Select name,mobile from  (Select name,city,mobile,address,pin_code from table2);
Another Example
Select name,city,mobile,address,pin_code from table2 where city in (select city from table3);
There are many example to this for more .Learn PLSQL

I don’t how this helps. :s

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
322,Inner Join Issue,"Get Help,SQL",,5,"
doing the class and it is giving me an error “Error: near line 1: near “select”: syntax error”.  can’t figure out what the error is.  here is the code
select * from orders
join subscriptions
on orders.subscription_id=customers.subscription_id
select *  where description=‘Fashion Magazine’;
","
Please remember to include a link to the exercise when posting a new topic relating to lessons.

On the 4th line in your post you don’t need the second ‘Select *’ just the WHERE clause.

Why did you put a SELECT * before the where? It does not make sense. Please try removing it so the query should look like this
SELECT * from orders
JOIN subscriptions
ON order.subscription_id = customers.subscription_id
WHERE description = 'Fashion Magazine';


Discard SELECT from the 4th line
"
323,"Explain it's working as well as meaning of `GROUP BY 1,2,3` and `GROUP BY 1,2` and `ORDER BY 1,2`","Get Help,SQL",,5,"

In the above three code segments, what is the use of numbers (1,2 or 1,2,3)?
Explain me the Code Working.
Thanks is advance 


SELECT a.dep_month,
			 a.dep_day_of_week,
       AVG(a.flight_distance) AS average_distance
	FROM (
    SELECT dep_month,
    			 dep_day_of_week,
    			 dep_date,
    			 SUM(distance) AS flight_distance
    	FROM flights
    	GROUP BY 1,2,3
  ) a
	GROUP BY 1,2
  ORDER BY 1,2;

","


stackoverflow.com






What does SQL clause ""GROUP BY 1"" mean?


mysql, sql, group-by


  asked by
  
  
    Spencer
  
  on 07:10PM - 12 Sep 11 UTC






Hope this helps! 

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.


Group by 1,2,3 :
Example:
Select firstname,designation,city ,count(*) from table1 where city=‘Dehradun’  group by 1,2,3.
Here group by 1,2,3 are firstname,designation & city there distinct combination will give you the count.
if the query has less than 3 column or more than 3 column it will show error.
Group by 1,2:  It is same as for 1,2,3 but we will take two columns in query
Order by 1,2,3 :
Example: Select firstname,designation,city from table1  order by 1,2,3
This is all .For More PLSQL
"
324,What are single quotes and double quotes in SQL?,"Get Help,SQL",,5,"
an you please explain the use of single quotes and double quotes in the SQL language?
Also, can you tell me why most people use all caps for SQL keywords
","
Single quotes and double quotes can be used to signify the beginning and end of a string. Single quotes are more often used than double quotes, as my understanding is that double quotes will work but aren’t standard across all databases.
Using all caps for SQL keywords is a “best practice” for SQL. For some it can make the code easier to read.

ok sound great
thanks so much I understand it so much better now


"
325,SGL manipulation,"Get Help,SQL",,6,"
https://www.codecademy.com/courses/learn-sql-manipulation/lessons/manipulation/exercises/statements?action=resume_content_item&course_redirect=learn-sql
I was trying to do the second part of this exercise and I can not move on. I have done all that the instructions have told me to do what do I do?
thanks 
also: do I have to do ALL CAPS  for it to work?
","



 aer319:

do I have to do ALL CAPS for it to work?


For it to pass, perhaps. For it to work, no.
create table celebs (id integer, name text, age integer);

However, it doesn’t hurt to follow convention from early on so it becomes second nature. The general convention is to use all caps on SQL keywords.
CREATE TABLE celebs (id INTEGER, name TEXT, age INTEGER);




 aer319:

I was trying to do the second part of this exercise


Do you mean step 1? Or the next lesson where we insert a row into the table?

oh I think I was able to fix that problem

but why all caps. why is that needed?




 aer319:

why is that needed?


For that you might have to do some reading. I cannot come up with an answer other than as previously mentioned… Style Guide Convention.

ok sound good!!
"
326,SQL: Table Transformation 2/7,"Get Help,SQL",,10,"
I’m trying to fully understand this subquerys topic. I find it like another possible way to Join 2 tables.
So I tried to compare both tools, expecting to give me the same amount of rows in the query result.
I’m going to paste both codes:
SELECT *
FROM flights
LEFT JOIN airports
ON flights.origin = airports.code
WHERE airports.elevation < 2000
ORDER BY flights.origin;
SELECT *
FROM flights
WHERE origin in (
SELECT code
FROM airports
WHERE elevation < 2000)
ORDER BY origin;
The fun thing is that the subquery gives me exactly 10 rows less than the left join and I can’t understandy why.
I also did a origin, COUNT(*), grouped by origin. It gave me almost the same results except from some codes.
For example, the origin “HOU” on the join gave me 12 row but on the subquery it gave me 6 rows.
I find it odd because on the Airport table, it only appears “HOU” one time with an elevation less that 2000. So, if they are 12 rows on the flights table with “HOU” as origin, why on the subquery it gave me 6 rows?
I hope you guys can understand me and let me know what I’m not figuring out.
Thanks!
","
UPDATE:
I figured it out that on 3 origin codes, on the join, it duplicated me the rows. It happens only in that code and 2 more. The rest (72 codes), it didn’t duplicate the information.
Why is that happening? I have no clue of why it shows me that (Only 3 of 75 codes, and haven’t done a CROSS JOIN to “duplicate” information).

We will need to navigate to the page you are actually on to test and investigate. Please post a link to the exercise. Thanks.

No problem, here is the link.
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/non-correlated-i?action=resume_content_item

Non-Correlated Subqueries I?

Exactly.
Just a reminder, it’s not that i can’t go on with the course, It’s that I tried to test everything so I can understand it all.
So I tried to use both solutions for the problem. Because of the problem, I figured it out that I could solve it with both methods.




 rubycoder99877:

on the join,


That’s throwing me off, a bit, but SQL is not my strong suit. Granted we are working with two tables, but we are not joining tables, only issuing a selection of rows from one table, based on data in a column of the other. You can imagine my confusion…

English it’s not my native language so maybe we are creating a confusion there.
When i say “on the join” I mean using the JOIN solution for the problem. But after hours of thinking this issue, i think I know why.
Could it be that I’m joining 2 tables with a non-primary key column?




 rubycoder99877:

joining 2 tables with a non-primary key column?


That sounds like a possibility, at least in explaining the different results. If they do not have a primary key in common, then it is difficult to create a join, as I understand it. But understanding of the SQL language is my problem, and not understanding of your language. But then again, …

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
327,Help Me Understand Why SELECT(*) Decides Whether and Answer is Right or Wrong,"Get Help,SQL",,3,"
I’m working on Unit 2 in SQL From Scratch, with the following information and question:
The payments table has the following columns: id, user_id, amount, status, pay_date.
Find all the users that have successfully paid Codeflix and their total payments.
Sort them by their total payments (from high to low).
Use SUM(), GROUP BY, and ORDER BY.
The correct answer is:
SELECT user_id, SUM(amount)
FROM payments
WHERE status = ‘paid’
GROUP BY user_id
ORDER BY SUM(amount) DESC;
I couldn’t understand why I was getting all the information it was asking for, yet it was marking it as wrong with the syntax below:
SELECT user_id, SUM(amount), COUNT(*)
FROM payments
WHERE status = ‘paid’
GROUP BY user_id
ORDER BY SUM(amount) DESC;
Why is it that when I additionally use COUNT(*) it marks it as incorrect? As far as I’m aware it looked like the results were the exact same, with the exception of an additional column with more information. In previous problems I’ve created more information than was asked for and was marked correct.
","
Update:
Perhaps I’ve figured this out myself. Because both are aggregate functions, the SUM argument is stating to SUM all of the payments, while COUNT(*) is listing each row/line item as a single payment. So, if there are more than one payment a user’s total would not be sum’d and would be broken down in a more granular fashion.
Can someone confirm this?

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
328,Multiple Table- Ledt Join,"Get Help,SQL",,1,"
In the LEFT JOIN (newspaper and online) practice queries, I cannot understand why, when we add WHERE, it has to be written in 2 different (pretty) similar queries, but only the second one has the WHERE clause.
Thank you!
MOGZ
",
329,Correlated Subqueries II,"Get Help,SQL",,2,"
Hey guys, I’m currently working on this topic. I found one thing that disturbs me a lot.
From the example, the line goes:
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
Since the query is for viewing flights by carrier, flight id, and sequence number, I’m not quite understand that why there is a condition when the id is smaller than others?  And what is the ‘+1’ means?
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
330,SQL: Joining Tables,"Get Help,SQL",,2,"
Hello,
I have a question about joining two tables in SQL. When we join two tables, it seems to matter which one we put after the FROM clause. I am not sure, as a general rule of thumb, which table comes after the FROM clause. Any help would be greatly appreciated, thank you!
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
331,BEWARE: Concealed Logic in Non-Correlated Subqueries I & II (2-3/7),"Get Help,SQL",,2,"
Just a heads up, it’s especially bad in this one. Wondering if anyone could explain the missing pieces.
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/non-correlated-i?action=resume_content_item
The fundamental thing you’ll ask yourself is how these tables are magically producing results like they’re joined even though I didn’t code any joining.
SELECT *
FROM flights
WHERE origin in (
SELECT code
FROM airports
WHERE fac_type = ‘SEAPLANE_BASE’);

SELECT *
FROM flights
WHERE origin in (
SELECT code
FROM airports
WHERE elevation > 2000);

The results behave like  airports.code = flights.origin  , but you’ve got no reason to think that’s true. Are you crazy?
No, I guess the author just thought it would be amusing not to point that out.
I still don’t know how to define it any better than this, or give the why as to this pre-coded behavior, and if that’s how SQL works IRL.
Maybe someone else knows why we would have had to use JOIN in this exact situation in a previous exercise where columns in separate tables held shared data and unique column names, but not in this exercise?
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
332,7/8 Why Not SUM(CASE WHEN....),"Get Help,SQL",,3,"
The following code works for the question:
SELECT state,
100.0 * COUNT(CASE WHEN elevation >= 2000 THEN 1 ELSE NULL END) / COUNT(*) AS percentage_high_elevation_airports
FROM airports
GROUP BY state;
My question is, why does it not work if we replace COUNT with SUM? The resulting table either has 0 or 1 entry for each row if we use SUM instead.
","
My bad, it did work. I’m experiencing some disconnections to the server.  I’m new to the forum, anyone know how to take the thread down since its no longer a problem?

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
333,Learn sql multiple tables 7 / 10 - cross join,"Get Help,SQL",,5,"
Can anyone please post the solution to this “cross join” section?
","
Rather than posting the solution, if you post your attempt at solving it you might find that someone will help you understand where your solution is wrong and fix it. 

SELECT month
COUNT (*) AS subscribers
FROM newspaper
CROSS JOIN online
WHERE start_month = month
AND end_month = month
GROUP BY subscribers;
wjondering where I went wrong




 bethmoede:

SELECT month
COUNT (*) AS subscribers
FROM newspaper
CROSS JOIN online
WHERE start_month = month
AND end_month = month
GROUP BY subscribers;
wjondering where I went wrong


Hi, sorry for the delay in replying to you. 
Taking a quick look at your SQL, it looks like you’re asking for two columns of data to be returned from your query: month, and COUNT(*) AS subscribers.
If we re-write your SELECT as a single line:
SELECT month COUNT(*) AS subscribers

can you see what is missing? 

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
334,SQL DEFAULT CONSTRAINT not working,"Get Help,SQL",,2,"
Hello, I created a Persons table just like the example given here and found out the schema , and had given the city name as default ‘sandser’, but I get the following error in sqlite from the command line.
The schema is as follows:
sqlite> PRAGMA table_info([Persons]);
0|ID|INT|1||0
1|LastName|VARCHAR(255)|1||0
2|FirstName|VARCHAR(255)|0||0
3|Age|INT|0||0
4|CITY|VARCHAR(255)|0|‘Sandnes’|0
sqlite> INSERT INTO Persons VALUES (1, “Bale”, “Christian”, “44”);
Error: table Persons has 5 columns but 4 values were supplied
sqlite>
Why isn’t the DEFAULT constraint working for my column city?

","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
335,9/10: too simple of an execution to learn from,"Get Help,SQL",,2,"
I was able to get the same table output using previously taught methods (them being just joining orders and customers). It made me initially think that WITH was useless. I then tried, on my own, using WITH as a way to join 3 tables together and I realized the true potential of the WITH operation. I just think that doing something more complicated would help future people learning SQL see what WITH can really be used for.
For anyone interested the code I made was to combine all three tables to display each person’s name and how much they owed for those transactions WITH first_join AS (SELECT customers.customer_name, COUNT(orders.subscription_id) AS 'subscriptions', orders.subscription_id AS 'sub_id', orders.customer_id AS 'customer_id' FROM orders JOIN customers ON orders.customer_id = customers.customer_id GROUP BY orders.customer_id) SELECT first_join.customer_name AS 'Name', SUM(subscriptions.price_per_month) AS 'Total Payment' FROM first_join JOIN subscriptions ON first_join.sub_id = subscriptions.subscription_id GROUP BY first_join.customer_id;
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
336,9. ARPU.2 Help?,"Get Help,SQL",,21,"
I’m not sure what I’m doing wrong for this part? I’ve copied all of their code (as I’ve noticed that often runs when mine doesn’t despite being identical) and inserted the proper keywords, but it takes many minutes to run and yields no results with no errors.
with daily_revenue as (
select
date(created_at) as dt,
round(sum(price), 2) as rev
from purchases
where refunded_at is null
group by 1
),
daily_players as (
select
date(created_at) as dt,
count(distinct user_id) as players
from gameplays
group by 1
)
select
daily_revenue.dt,
daily_revenue.rev / daily_players.players
from daily_revenue
join daily_players using (dt);
","
After leaving it for about an hour or so it ran fine. Does anyone know if there are still any errors or anything else going on in the above code? Or was it a bug on Codeacademy?

I’ve found this is the buggiest codecademy class I’ve seen. Same code works for me!

I’ve got same problem as captainjean.
It takes a lot of time to run but doesn’t results anything 

I’m experienced the same problem on this module. I ran my code once and it spun for 15 minutes. Refreshed browser and ran again and it worked.
If it doesn’t work the first time, run it again.

You did a very long query, the whole code is below
with daily_revenue as (
select
date(created_at) as dt,
round(sum(price), 2) as rev
from purchases
where refunded_at is null
group by 1
)
select * from daily_revenue order by dt;

and this is second part of exercise just need to add “using” and “with”
with daily_revenue as (
select
date(created_at) as dt,
round(sum(price), 2) as rev
from purchases
where refunded_at is null
group by 1
),
daily_players as (
select date(created_at) as dt,
count(distinct user_id) as players
from gameplays
group by 1
)
select
daily_revenue.dt,
daily_revenue.rev / daily_players.players
from daily_revenue
join daily_players using (dt);

I’m also having trouble passing this module. Even when I get the solution from Codecademy (“Having Trouble? Get Code”) and run it, it still throws an error and won’t let me pass. Has anyone actually gotten through this section?

I finally passed it. For some reason, even though I passed Step 1 about 20 minutes ago, it was failing me back to that point when I clicked “Get Code.” So you have to copy the final code, paste it somewhere, re-pass Step 1, then pass Step 2 with the pasted code. Not a great user experience on this one, even though I love SQL.

Troubling thing is this exercise goes out of it’s way to be complicated.  Easier written without the extra var daily_revenue or using WITH:
SELECT DATE(created_at) AS dt,
ROUND(SUM(price), 2) AS rev
FROM purchases
WHERE refunded_at IS NULL
GROUP BY 1
ORDER BY dt;

Even if the ARPU2’s second part has a code as continuation of 1st part,copying of the remaining code and executing won’t work because of some bugs.So for executing second part please copy the entire code again after deleting 1st and then make appropriate corrections.This works for me.Try it.

Hi
could anyone please explain me why we have to use CTE, why can’t we simply do
select date(created_at), sum(price)/(count(distinct(user_id)))
from purchases
join gameplays on date(created_at)
group by 1
order by 1;

In our ARPU query, we used using instead of on in the join clause. This is a special case join.
from daily_revenue
join daily_players using (dt);
When the columns to join have the same name in both tables you can use using instead of on. Our use of the using keyword is in this case equivalent to this clause:
from daily_revenue
join daily_players on
daily_revenue.dt = daily_players.dt;

I have the same question. Did you find out?
I have tried something similar but the table gives wrong result.

what is the actual answer then?

never mind i got the answer

I was reading over your code and couldn’t see a single difference between yours and mine! So I’m glad it worked for you an hour later.
I get regular bugs on this course too - for me I’ll be reading the question (so I’ll be pausing for 5 seconds to read) and it says “Are you still there?” and threatens to time-out. I get it all the time. Seriously - I need more than 2 seconds to read the question.

Actually I have  error with debugging 

Hahaha! i Like this guy!! Same issues here.
Can’t even seem to get past this section as it were and added to it is the "" Are, you still there?"" and keep ticking it red while i am trying to think of a way to make the code work at the same time.
I seem like a late comer, this posts have been here for a long time and still experiencing the same issue and errors. i probably will just take a nap, refresh the browser and i hope it works fine this time around!!!

I have a bug. I wrote correct query and after running I see result in Query Result section, But also I;ve got an error “Select Daily Players in a with clause.” and can’t continue with part 2 ((( What should I do?
P.S. I wrote query by myself and copypaste it from Instructions but still the same (((
"
337,"Need help with ""Combining Tables Manually"" exercise","Get Help,SQL",,4,"
I found this code on a different thread and tried it.
SELECT *
FROM orders
JOIN subscriptions
ON subscriptions.subscription_id = orders.subscription_id;

SELECT *
FROM orders
JOIN subscriptions
ON subscriptions.subscription_id = orders.subscription_id
WHERE description_id = 3;

It doesn’t seem to work, can anyone help me figure out why?
","
Says description instead of subscription in the last line?

Hi, there! This question was bugging me too, and I saw your answer and played around with it. Turns out this is mostly correct, except for the last line:
WHERE description = “Fashion Magazine”;
This is because there is no “description_id” in the table, just “description”, and the value is not an integer but a string such as “Political Magazine”,  “Fashion Magazine”, etc.  Hope this helps.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
338,SQL IN Operator,"Get Help,SQL",,3,"
Hi!
I noticed that in the “Queries” section of Learn SQL, nowhere does the course mention the “IN” operator, which is basically an abbreviated way to write multiple “OR” statements after the “WHERE”. https://www.w3schools.com/sql/sql_in.asp
I’m just wondering why the course says nothing about it. I haven’t found anything about “IN” being deprecated, and I know it has been very useful to me at work (I’m just taking this course as a refresher), so I feel like it deserves some mention.
Thanks!
Phoenix
","
Just trying to keep this open, here. Is that OK?
Also, maybe I’m missing something and “IN” is covered elsewhere in the course? I skimmed the rest of the course and didn’t see it. Or maybe you mention it in another SQL course?
Just asking because I thought it would make sense to put it in the beginner course…
Thanks!
Phoenix

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
339,Group By,"Get Help,SQL",,3,"
By default, is group by ordered in ascending order? Can I put:

SELECT price, COUNT(*)
FROM fake_apps
GROUP BY price desc;

","
Would we sort by GROUP or by ORDER?

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
340,Learn SQL - Aggregate Functions doesn't work,"Get Help,SQL",,4,"
I’m not able to edit anything in Aggregate Functions. How do I fix this? It says: aggregate-functions.sqlite has been moved. This will cause problems with this exercise, please move aggregate-functions.sqlite back to its original location, or reset your files.
","
Hi, I am also having this issue

Click Reset. It doesn’t reset your entire progress for the course, just for that section. Since it is happening at the start of that section, you are not losing any progress.
This is what I did, and it now works fine.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
341,About review of completed cource,"Get Help,SQL",,2,"
how can revise my completed cource in SQL. i wanted to see the task that i had done but i could not access to it.
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
342,6. Primary Key vs Foreign Key,"Get Help,SQL",,2,"
Wrote following code:
SELECT *
FROM students
JOIN classes
ON classes.id = students.class_id;
and get the error message “Join classes to students”.
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
343,Converting Timestamp to a Date,"Get Help,SQL",,2,"
Hiya, i am currently working in the SQL management Studio at work and it doesn’t recognise the DATE function in converting a timestamp to a date.
Is there an alternative process/function?
Thank you
Megan
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
344,2/10 Combining Tables Manually,"Get Help,SQL",,2,"
Maybe some one has an idea what I made wrong.
SELECT *
FROM orders
JOIN subscriptions
ON subscriptions.subscription_id = orders.subscription_id;
SELECT *
FROM orders
JOIN subscriptions
ON subscriptions.subscription_id = orders.subscription_id
WHERE description_id = 3;
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
345,Inner joins step 1. Counting newspaper subscribers,"Get Help,SQL",,3,"
Hello, have a problem with first exercise, about newspaper.
The “newspaper” table  contains information about the newspaper subscribers. Count the number of subscribers who get a print newspaper.
My decision is:
SELECT COUNT(subscribers)
FROM newspaper
WHERE subscribers = ‘print newspaper’;
But it`s wrong, what a problem?
In the instruction to excersize we clearly see thar we need to count subcribers which have a type of “print newspaper” subscribe.
","



 dimas87:

WHERE subscribers = ‘print newspaper’;


It doesn’t say anywhere that ‘print newspaper’ is data existing in your table, nor does there exist a column named subscribers. (You might be getting an error telling you this)
You also chose column name/content to compare to without looking at the table (you got it out of thin air), seems unlikely that it’d match…
The instructions do however describe how the sought-for information is represented:

Some users subscribe to just the newspaper, some subscribe to just the online edition, and some subscribe to both.


The table newspaper contains information about the newspaper subscribers.


The table online contains information about the online subscribers.


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
346,Populating rows in a table using SQL,"Get Help,SQL",,1,"
Hi there. I just started out coding in SQL and have made it about 5/11 steps into the first module of the course. The issue I am having is populating rows in a table using the INSERT INTO command. I have tried to use the statement in Microsoft Access but it tells me there is a Syntax error in the create table statement.
I’m not quite sure what is happening here so I’d like to see if anyone else can help me out.
Here is the code I am using.
CREATE TABLE Students (
Student_Name varchar(255),
Gender varchar(255),
DateOfBirth date,
CountryOfOrigin varchar(255)
);
INSERT INTO Students (Student_Name, Gender, DateOfBirth, CountryOfOrigin)
VALUES (‘John Smith’, ‘Male’, 10/05/1990, ‘UK’);
INSERT INTO Students (Student_Name, Gender, DateOfBirth, CountryOfOrigin)
VALUES (‘Sam Adams’, ‘Male’, 19/03/1987, ‘USA’);
INSERT INTO Students (Student_Name, Gender, DateOfBirth, CountryOfOrigin)
VALUES (‘Tsing Tao’, ‘Male’, 04/12/1989, ‘China’);
INSERT INTO Students (Student_Name, Gender, DateOfBirth, CountryOfOrigin)
VALUES (‘Kronen Berg’, ‘Female’, 02/01/1991, ‘Germany’);
INSERT INTO Students (Student_Name, Gender, DateOfBirth, CountryOfOrigin)
VALUES (‘Sapporo Asahi’, ‘Female’, 27/08/1990, ‘Japan’);
INSERT INTO Students (Student_Name, Gender, DateOfBirth, CountryOfOrigin)
VALUES (‘Hein Eken’, ‘Male’, 21/ 01/1992, ‘Netherlands’);
INSERT INTO Students (Student_Name, Gender, DateOfBirth, CountryOfOrigin)
VALUES (‘Amstel Becks’, ‘Female’, 16/10/1989, ‘Germany’);
INSERT INTO Students (Student_Name, Gender, DateOfBirth, CountryOfOrigin)
VALUES (‘Corona Pacifico’, ‘Female’, 07/07/1987, ‘Mexico’);
SELECT * FROM Students;
Many thanks!
",
347,Inner Joins,"Get Help,SQL",,5,"
Hello everyone!
I am not sure why my code does not work.

Screen Shot 2018-04-18 at 9.03.53 PM.png1622×1084 99.5 KB

","
Hi @romingart,
Please provide a link to the lesson you’re on so we can help you.

This is the link, but I am having problems with the second question.
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/inner-join-ii?action=resume_content_item&course_redirect=learn-sql
@zystvan

There’s no subscribers column in this DB table. Try SELECT COUNT(*) ... instead (a specific column name would also work, like SELECT COUNT(last_name)).

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
348,Learn SQL - Aggregate Functions not working!,"Get Help,SQL",,2,"
Hi there, when I access this section of “Learn SQL” Course, I get this error message:
Whoa there!
aggregate-functions.sqlite has been moved. This will cause problems with this exercise, please move aggregate-functions.sqlite back to its original location, or reset your files
Reset Files Ok
Do you happen to know how to solve this issue without restarting my progress?
Thanks!
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
349,SQL Lesson Queries,"Get Help,SQL",,4,"
Using the BETWEEN operator, write a query that selects all information about movies whose name begins with the letters ‘D’, ‘E’, and ‘F’?
SELECT name
FROM movies
WHERE name
BETWEEN 'D' AND 'E' AND 'F';


Why doesn’t my code work, and I posted the original question before my code. Thank you in advance for your help.
","
Hi @romingart,
The BETWEEN operator only takes two arguments (the outer bounds), and selects everything between those. Since E comes between D and F, you can remove that part.

@zystvan Thank you very for your response.

This topic is solved.
"
350,Multiple tables quiz 5 q2,"Get Help,SQL",,5,"
MULTIPLE TABLES QUIZ 5 Q2.
In order to find which users do not subscribe to the online edition, we need to add a WHERE clause. Create a new query that adds the following WHERE clause:
WHERE online.id IS NULL
This will select rows where there was no corresponding row from the online table.
Can everyone give me the answer?
","
Simply write the statement after the the JOIN… ON part.
It would look like this:


Code
SELECT *
FROM newspaper
LEFT JOIN online
ON newspaper.id = online.id
WHERE online.id IS NULL;


Thanks.
But I tried, It didn’t work.
As the picture shown:

JOIN.jpg1267×404 59 KB


Uhm, maybe it’s a bug. At this point you might want to reset the exercise, and try all over again. I posted the solution below if that doesn’t help.


Solution
– First query
SELECT *
FROM newspaper
LEFT JOIN online
ON newspaper.id = online.id;
– Second query
SELECT *
FROM newspaper
LEFT JOIN online
ON newspaper.id = online.id
WHERE online.id IS NULL;


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
351,SQL manipulation Primary Key vs Foreign Key,"Get Help,SQL",,5,"
I’m on excersice 6 and it cannot find table classes and students, so I’m stuck, this is my query:
SELECT *
FROM students
JOIN classes
   ON classes.id = students.class_id;

the error is: Error: near line 1: no such table: students
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/primary-key?action=lesson_resume&course_redirect=learn-sql
","
I’m getting the same error on several occasions. The error keeps re-appearing  even when nothing is entered. I submitted a bug report.

I got the same error message since my data was still attached to the previous page. I exited the lesson and re-entered and it worked.

Try the below code
SELECT *
FROM classes
JOIN students
ON classes.id = students.class_id;

It works!! thanks you! I think the order is the problem.
"
352,Learn SQL Aggregate Functions 9/10 Need Help,"Get Help,SQL",,2,"
Hi im currently stuck on this problem. Any help would be appreciated. Also any explanation would be appreciated as well.
Here is the problem below
Suppose we have the query below:
Select price, ROUND(AVG(downloads))
FROM fake_apps GROUP BY price;
Certain price points don’t have very many apps, so the average is less meaningful.
Add a HAVING clause to restrict the query to prices where the total number of apps at that price point is greater than 9.
Hint: The total number of apps at each price point would be given by COUNT(*)
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
353,SQL code please help,"Get Help,SQL",,2,"
I was trying to do this lesson, I did it exactly right but it is still showing an error. This is lesson 3 section 2 on SQL
a2b5df939ac0f6776e9e50645af73e309a7b7873.png1357×605 67 KB

","

As

Step 2 says to EDIT your query, not write a second one.
"
354,Manipulation 9/10 With,"Get Help,SQL",,8,"
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/with?action=resume_content_item&course_redirect=learn-sql
Ahh!.. So close to the end and I don’t know what’s going on!
It’s been going pretty well until the “Learn” explanation seemed a little scant in 8/10. Now at 9/10 I just don’t feel I have enough information. The parentheses were not explained and the graphic is unclear to me. Hanging on to my sense of humor though!
The Instructions say:




SELECT customer_id,
COUNT(subscription_id) as subscriptions
FROM orders
GROUP BY customer_id
Place the above query into a WITH statement using the alias previous_query. Join previous_query with customers and select the following columns:
customers.customer_name
previous_query.subscriptions

Admittedly, I’m already lost, but I just went for it anyway:
SELECT customer_id, COUNT(subscription_id) as subscriptions FROM orders GROUP BY customer_id;
WITH previous_query AS (SELECT customers.customer_name, previous_query.subscriptions FROM previous_query JOIN customers ON previous_query.customer_id = customers.customer.id);
What is wrong with my code?
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/with?action=resume_content_item&course_redirect=learn-sql
","
I’m having problems with the same scenario. I could use some more help on the “WITH” syntax.

Your pretty close.
The WITH statmenet should be first i.e. WITH a AS (SELECT ....) SELECT ... This way the results of a can be used in the second select statement.
This article might help you unserstand it a little better.

Had some problems with this excercise, but here’s my completed one for reference:
with previous_query as (
select customer_id,
count(subscription_id) as subscriptions
from orders
group by customer_id
)
select customers.customer_name,previous_query.subscriptions
from previous_query
join customers
on customers.customer_id = previous_query.customer_id;
the issue i had was on the “ON” portion where both data types need to match. customers.customer_id and previous_query.customer_id are both INT. previously, I was using “ON customers.customer_name = previous_query.subscriptions” which doesn’t work.

Thank you for that.
The article is interesting. In particular it uses a lot of vocabulary that I don’t believe has been mentioned here – not thus far anyway. Have we talked about CTE or SubQueries at all? The article just hints at how little I know.

Returning this after too long, so maybe I need some review, but I tried this:
WITH previous_query AS (SELECT customers.customer_name, previous_query.subscriptions FROM previous_query JOIN customers ON previous_query.customer_id = customers.customer.id)
SELECT customer_id, COUNT(subscription_id) as subscriptions FROM orders GROUP BY customer_id;
and got the error: “Write the query using the WITH statement”
Ummm…
Still need more information.
Help?

Correct code is:
WITH previous_query AS (
SELECT customer_id,
       COUNT(subscription_id) as subscriptions
FROM orders
GROUP BY customer_id)

SELECT customers.customer_name,
previous_query.subscriptions
FROM previous_query
JOIN customers
	ON customers.customer_id = previous_query.customer_id;

Look through it to figure out what went wrong, seems your issue is understanding where to put the joins.
I’d say the quickest way to learn/improve on any programming language is to Google your problem and find a stack overflow answer detailing a fix/solution. You’ll pick up the correct terminology really quickly and chances are there isn’t a single programming question you have that hasn’t already been answered there.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
355,Inner joins step 1. Counting newspaper subscribers,"Get Help,SQL",,2,"
If you had difficulty to understand it. here is the answer:
select count(*) from newspaper;
Yaa! I know.

And the full answer for #3 is:
select count() from newspaper;
select count() from online;
SELECT count(newspaper.id)
FROM newspaper JOIN online
ON newspaper.id = online.id;
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
356,"Learn SQL - Manipulation, exercise 2/10. what to do in this exercise?","Get Help,SQL",,3,"
Using the tables displayed, what is the description of the magazine ordered in order 1?
Type your answer on line 1 of the code editor. Be sure to capitalize it the same as in the table
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/what-is-join?action=resume_content_item&course_redirect=learn-sql
Please, help me.
Alena.
","
Examine the orders table and look up order_id for 1 then look down that row for the subscription_id. Now examine the subscriptions table and look up the row with that subscription id. In that row, copy the name in the description column for that id.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
357,Learn SQL - Aggregate Functions not working!,"Get Help,SQL",,2,"
Hi there, when I access this section of “Learn SQL” Course, I get this error message:
Whoa there!
aggregate-functions.sqlite has been moved. This will cause problems with this exercise, please move aggregate-functions.sqlite back to its original location, or reset your files
Reset Files                                    Ok
Do you happen to know how to solve this issue without restart my progress?
Thanks!
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
358,Manipulation 7/10 - CROSS JOIN Logic Error?,"Get Help,SQL",,6,"
The instructions for this task says that we’re looking for the COUNT(*) of customers who were subscribed to the newspaper during March (3).  And the logic we are instructed to use returns a quantity of 8. (start_month < 3, end_month > 3)
However, I contend that this logic is flawed, and that we should be using:
start_month > 4 or start_month >= 3
end_month > 2 or end_month >= 3
That way, new customers who began their subscriptions in March, or those who will be receiving a newspaper in March but not in April are included.  My argument returns a count of 13.
“Logic” is my greatest hurdle in coding.  So I’m curious which version is most accurate.
SQL MANIPULATION 7/10 CROSS JOIN
","
Hello 
If I would be assigned to the implementation of this task in a normal job I would definitely ask product owner or an analyst to make sure that this is what they want. You have good instinct 
But I don’t think that instructions are flawed. “Let’s start by counting the number of customers who were subscribed to the newspaper during March” may mean that we are insterested in customers who stay subscribed throughout whole month.

I know that this is likely a typo, but just to clarify this for other readers. This condition:
start_month > 4 or start_month >= 3

does not make sense (these customers started subscription after March). This is what you probably meant:
start_month < 4 or start_month <= 3


I can’t figure out this question also and can’t move forward.

In case it’s of some help:
Q1:
select count(*)
from newspaper
where start_month < 3 and end_month >3;

Q2:
select *
from newspaper
CROSS JOIN months;

Q3:
select *
from newspaper
CROSS JOIN months
WHERE month > start_month and month < end_month;

Q4:
SELECT month,
  COUNT(*) as subscribers
FROM newspaper
CROSS JOIN months
WHERE month > start_month
  AND month < end_month
GROUP BY month;


Hmmm…
Well, it’s nice to see the answer and thereby be able to move on. Thank you, @ldouchy
And thank you @factoradic for your input above.
I was doing fine up to this point and then question 4 was totally unclear to me. I could review Aggregate Functions and see if that makes it click at all. Or maybe I could just ponder “aggregate” as a verb for a while…
Also, I think that’s the first time I’ve ever used a comma. Since when do we use commas? What’s the comma for?
I do think there should be a little more instruction there and a really good hint!
Can anybody help me by offering some clarification so that I might better understand question 4. I realize that’s not very specific, so maybe just try and explain it as if it were in the “Learn” section rather than in the Instructions.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
359,Having question 9 fake apps,"Get Help,SQL",,4,"
.
Suppose we have the query below:
SELECT price,
ROUND(AVG(downloads))
FROM fake_apps
GROUP BY price;
Certain price points don’t have very many apps, so the average is less meaningful.
Add a HAVING clause to restrict the query to prices where the total number of apps at that price point is greater than 9.
is this correct
SELECT price,
round(AVG(downloads))
FROM fake_apps
GROUP BY 1
having count(*) > 9 ;
","
Very good point! And yes that is correct. Tested it with this one:
SELECT price,
   ROUND(AVG(downloads))
FROM fake_apps
GROUP BY 1
HAVING COUNT(*) > 12;


Can you please explain on this question?
count > 9 just eliminate 3.99 category why is that?
What does count > 9 mean here

There are only 9 records @ 3.99 when grouping on price. You can test this with:
SELECT price, ROUND(AVG(downloads)), COUNT(name)
	FROM fake_apps
        GROUP BY 1;

Once you introduce HAVING COUNT (*) > 9 this 3.99 group is excluded.
"
360,Group By II no entiendo el resultado,"Get Help,SQL",,2,"
No entiendo el resultado de la consulta siguiente:

ba81356dc5da28cef82bee60dccdb053508cbe50.PNG902×474 53.9 KB

Gracias de ante mano.
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
361,4. Inner joins step 1. Counting newspaper subscribers,"Get Help,SQL",,6,"
I’m working on Lesson 4. Inner Joins. Step 1 says to:  Count the number of subscribers who get a print newspaper. Am I not already accomplishing that task with the first count() function below?
:
SELECT COUNT(*)
FROM newspaper;

select count(*)
from online;

select *
from newspaper
join ON newspaper.id = online.id

Submitting the above code yields the result:

Did you remember to count all rows of newspaper?

Url to lesson:
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/inner-join-ii?action=resume_content_item&course_redirect=learn-sql
","
Link to exercise please. Copy the URL in the location bar and paste it into your opening post, or in a reply.

Original post has been edited with the URL, thanks

This worked for me, in terms of displaying as expected. I did not reset the lesson so cannot say if it will still pass, but it did at the time I did this exercise a couple years ago.
select count(*) from newspaper;
select count(*) from online;

SELECT newspaper.id, online.last_name
FROM newspaper JOIN online
ON newspaper.id = online.id;


This also does not allow me to proceed.  I’m still getting the message:  Did you remember to count all rows of newspaper?

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
362,Queries 14/15,"Get Help,SQL",,6,"
SELECT genre,
CASE
WHEN genre = ‘romance’ THEN 'fun’
WHEN genre = ‘comedy’ THEN 'fun’
ELSE 'serious’
END as 'mood’
FROM movies;
Code gets generated but i got error message: ‘Type the code in the code editor using the appropriate clauses.’
Please help !
","
Hi,
The issue is very subtle and you need to pay close look at the single quotes for serious and mood.
you basically using 2 different type of single quotes this ` and this ’
review that and it should work just fine

When i copy, paste it into the chat it changes.  I’ve corrected it and used different clauses but i still got the same message, is there anything else i can do ?

SELECT name,
CASE
WHEN genre = ‘romance’ THEN 'fun’
WHEN genre = ‘comedy’ THEN 'fun’
ELSE 'serious’
END AS 'mood’
FROM movies;
Hi, this is the correct query (after a long figth).
I hope you have solved it.

Works, thank you man ! 

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
363,Am I misunderstanding the objective tasks?,"Get Help,SQL",,14,"
Hello,
I am currently trying to perform the tasks in “Create Table” after completing the “Learn SQL” course.
Task1: Create a table for friends. I input the following SQL:
CREATE TABLE friends (id INTEGER, name TEXT, birthday DATE);

Press save, and so far so good. My database Schema pops up on the right hand side.
If I now proceed to task 2: Add Jane Doe to your table I remove the previous query and enter this SQL:
INSERT INTO friends (id, name, birthday) VALUES (1, 'Jane Doe', '1993-05-19');

The save button just keeps spinning, without ever completing.
Am I supposed to just write SQL statement for SQL statement on the lines below and check off the tasks as I go without pressing “Save”?
Thank you in advance.
","
When you see the spinner and it never stops, that usually means there is something wrong with the SQL that you’ve used.
Those two line that you have posted there work for me, so I don’t think that is the problem. Reload/refresh your browser and try those two lines again.
You do have to press Save each time you add new code and wish to check to see if it is working. Once you are satisfied that you have accomplished each task then you check it off.
Putting SELECT * FROM friends; as the last line will show you everything in your database, that will help you decide if your command worked as you’d hoped.

I have the same exact issue. I think the problem is with the birthday column. I have used DATE, datetime, and datetime NULL as possible input types and none are accepted. The code appears to be entered correctly. I just haven’t tried 05/19/93 format yet.  Hey code academy, everything is great on the site except you need to add clues just like you do on other exercises to ensure we are inputting everything correctly. My only gripe with your site.




 wyrmboy12:

none are accepted


You should be able to use DATE and something like ‘1993-05-19’, or you could use TEXT for this exercise.
If you copy/paste both of your lines here, I’ll try them out.

Also on this particular section, if you refresh, you have to start all the way over and recreate the DB schema if Step 2 fails. at least thats what i’m running into. Goes from defined after successfully completing step 1 to undefined if you "" incorrectly "" enter the SQL statement for Step 2 of INSERTing the values for Jane Doe and her Birthday. Here’s my last attempt:
INSERT INTO friends, (name, birthday)
VALUES (‘Jane Doe’, ‘05/13/93’)
SELECT * FROM friends;
Here’s my second attempt:
INSERT INTO friends (name, birthday)
VALUES (‘Jane Doe’, ‘1993-19-05’)
SELECT * FROM friends;
Whats wrong with the statement?
Schema:
     friends

id           INTEGER
name      TEXT
birthday   DATE




 wyrmboy12:

INSERT INTO friends, (name, birthday)VALUES (‘Jane Doe’, ‘05/13/93’)


That almost works, it just has an unwanted comma and is missing the semicolon:
INSERT INTO friends (name, birthday)
    VALUES ('Jane Doe', '05/13/93');

Your second attempt is just missing the semicolon.

I have tried every possible combination of the statements in IE, FF, and Chrome, none of them work. I also do not understand why I have to recreate the DB schema every time if I hit F5 and refresh the screen. I think there’s an issue with this website. I am also performing the action behind a corp firewall but I cannot see how that’s causing an issue

Here is what my project_1.sql_lite file looks like for the second step:
CREATE TABLE friends (id INTEGER, name TEXT, birthday DATE);
INSERT INTO friends (id, name, birthday)
    VALUES (1, 'Jane Doe', '1993-19-05');
SELECT * FROM friends;

Having the exact same issue.
Seems like the second step breaks the DB from step 1.

Thanks for your reply, Albionsrefuge.
I have now found the time to continue with this excercise, but I still only get the spinner. I am fairly certain there are no problems with my SQL code (I tried it in a blank MS SQL database and it works without error):
Once again, Task 1:
CREATE TABLE friends (id INTEGER, name TEXT, birthday DATE);

I get success-message so I check task one.
Task2:
I remove my previous code and enter the following:
INSERT INTO friends (id, name, birthday) VALUES (1, 'Jane Doe', '1993-05-19');
SELECT * FROM friends;

Queue the eternal spinner…

After some further testing I see that if I keep my previous statements with me all the way I can complete each excersise without the spinner (ofcourse, provided that my SQL code is fucntioning).
i.e:
CREATE TABLE statement
INSERT statement
INSERT statement
INSERT statement
INSERT statement
UPDATE statement
ALTER statement
Append next statement

And so on…
I do not know if this is the expected way to complete it, but it worked for me.




 kallan:

I do not know if this is the expected way to complete it


For the project part of this course, yes, it is the expected way.

Hi,
I have a slightly different issue but on the same exercise. I keep getting the wrong date coming up when I do the final select to look at the results of the rows entered…
INSERT INTO friends (id, name, birthday) VALUES (1, ‘Jane Doe’, ‘1993-05-19’);
SELECT * FROM friends;
shows a date of 1969. ??
I cant figure this out.

9f924daba45b72f127ae58293d9099ca8c1b982e.png1209×461 27.9 KB

Thank you kindly.

"
364,Multiple tables (5. Left Joins),"Get Help,SQL",,4,"
Trying to get the left join challenge but the editor shows me the error:   Did you remember to add the WHERE clause?
This is my code:
SELECT *
FROM newspaper
LEFT JOIN online
	ON newspaper.id = online.id
WHERE online.id IS NULL;

What can be wrong?
","
Finally clicked the “get solution” button and found out that the code is correct. So i guess the checker is failing if you removed the query from step 1.
The error message should be a “Do not remove first query” or “Keep the query from step 1” but no “Did you remember to add the WHERE clause?”

Wow thank you, took me hours to find this!

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
365,"Important part you might miss, Table entries not appearing","Get Help,SQL",,1,"
My table entries were not appearing so I was originally going to ask how to fix this problem when I noticed how the console asks to “Run a query”.
I realized this meant I needed to do an action to get the data from the table.
This action was SELECT * FROM
If your data doesn’t appear then you might need to use SELECT * FROM
Also, all code needs to end with a semicolon ; to work.
Hope this helps!
",
366,4/7 Non-Correlated Subqueries III,"Get Help,SQL",,3,"
The following code, what does “a” syntax mean, since that is not the column title?
SELECT **a.**dep_month,
**a.**dep_day_of_week,
AVG(**a.**flight_count) AS average_flights
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
","
After the closed parenthesis you have an ‘a’ (""…GROUP BY 1,2,3
) a""), and it is used as a title for the table.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
367,Stuck in exercise 2/10 : Combining tables manually,"Get Help,SQL",,2,"
Hi All,
I’ve been stuck in 2/10 since the past 2 days. I have raised a bug report, but I noticed that this has already been spotted back in december 2017 and nothing (apparently have been done since) - so I’m hoping on your help to get past it.
the tables panel (far right one) is not opening, it rather keeps on loading undefinitely (it actually shows a browser window that tries to open http://localhost:8000/index.html) . here’s the link to the issue:
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/what-is-join?action=resume_content_item&course_redirect=learn-sql
I hope somebody would have an answer.
Thanks again.
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
368,Récupération et affichage de donnés,"Get Help,SQL",,2,"
Bonjour, Je suis actuellement sur un projet de “to do list” avec une base de donné SQL.
Voici mon problème; Lorsque j’ajoute la nouvelle tâches, elle s’affiche dans la liste à faire et également dans la base de donné avec le status 0(à faire).
Lorsque je coche la checkbox et que j’appuie sur le bouton ‘Done’ pour la faire passer à l’état de à faire à -> fait,  l’état, dans la base de donné change bien (de 0 à 1), mais en revanche ne change pas du tout de place dans la page web pour être visible dans les archives. Quelqu’un pourrait m’aider svp ?
Voici une copie de mon code;
<?php 

try {
    $dtb = new PDO('mysql:host=localhost;dbname=todolist;charset=utf8', 'root', '' );}
catch(PDOException $machin){
    echo $machin -> getMessage();}

    // if(isset($_POST[""ajouter""])){
       if(true){
        $option = array(
            'ligne' => FILTER_SANITIZE_STRING | FILTER_FLAG_NO_ENCODE_QUOTES | FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH | FILTER_FLAG_STRIP_BACKTICK | FILTER_FLAG_ENCODE_LOW | FILTER_FLAG_ENCODE_HIGH | FILTER_FLAG_ENCODE_AMP | FILTER_SANITIZE_NUMBER_INT,
            'addnew'    => FILTER_SANITIZE_STRING | FILTER_FLAG_NO_ENCODE_QUOTES | FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH | FILTER_FLAG_STRIP_BACKTICK | FILTER_FLAG_ENCODE_LOW | FILTER_FLAG_ENCODE_HIGH | FILTER_FLAG_ENCODE_AMP | FILTER_SANITIZE_NUMBER_INT,
            'datea'   => FILTER_SANITIZE_NUMBER_INT,
            'dateb'   => FILTER_SANITIZE_NUMBER_INT,
            'hour1'   => FILTER_SANITIZE_NUMBER_INT,
            'hour2'   => FILTER_SANITIZE_NUMBER_INT,
            'ajouter'   => FILTER_SANITIZE_STRING | FILTER_FLAG_NO_ENCODE_QUOTES | FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH | FILTER_FLAG_STRIP_BACKTICK | FILTER_FLAG_ENCODE_LOW | FILTER_FLAG_ENCODE_HIGH | FILTER_FLAG_ENCODE_AMP | FILTER_SANITIZE_NUMBER_INT,
            'done'  => FILTER_SANITIZE_STRING | FILTER_FLAG_NO_ENCODE_QUOTES | FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH | FILTER_FLAG_STRIP_BACKTICK | FILTER_FLAG_ENCODE_LOW | FILTER_FLAG_ENCODE_HIGH | FILTER_FLAG_ENCODE_AMP | FILTER_SANITIZE_NUMBER_INT,
            'delete'    => FILTER_SANITIZE_STRING | FILTER_FLAG_NO_ENCODE_QUOTES | FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH | FILTER_FLAG_STRIP_BACKTICK | FILTER_FLAG_ENCODE_LOW | FILTER_FLAG_ENCODE_HIGH | FILTER_FLAG_ENCODE_AMP | FILTER_SANITIZE_NUMBER_INT);
        $result = filter_input_array(INPUT_POST, $option);
        
        $add = $result[""addnew""];
        $datea = $result[""datea""];
        $dateb = $result[""dateb""];
        $houra = $result[""hour1""];
        $hourb = $result[""hour2""];
        $aj = $result[""ajouter""];
        $don = $result[""done""];
        $del = $result[""delete""];    
        $line = $result[""ligne""];

        if(isset($result) && !empty($result)){
            if(isset($add) && isset($aj)){
                $dtb->query('INSERT INTO taches (Date1, Date2, Hour1, Hour2, Task, Stat) VALUES (""'.$datea.'"", ""'.$dateb.'"", ""'.$houra.'"", ""'.$hourb.'"", ""'.$add.'"", 0)');
            }

            if(isset($_POST['ligne']) && isset($don)){ 
                $dtb->exec('UPDATE taches SET Stat=1 WHERE ID='.$_POST['ID'].'');
            }

            if(isset($check) && isset($del)){
                $dtb->query('DELETE FROM taches');
            }
        }
    }
?>
        ","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
369,Stuck in this exercise: SQL: Data Transformation (4/7),"Get Help,SQL",,18,"

8816ef5d26b871cb51457c01b27c1472002b3c5a.PNG894×589

In this exercise, I do not understand the answer for this answer. Below is the correct code.
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
I don’t understand:

the ‘a’ in a.dep_month and a.dep_of_week
GROUP BY 1,2,3  — why 1 2 3? What does that mean? In the previous SQL exercise it was grouped in categories such as price, etc.
ORDER BY 1, 2  — I also don’t quite get this.
And the ‘a’ at the end of the closing bracket. What does that ‘a’ do? Why is it there?

I am struggling with this particular problem because it doesn’t really explain why these are there. Please help me. Thank you.
","
First of all, I don’t think that’s the correct answer, cause it’s exactly the same as the sample above the instructions.
To answer your question,
1 & 4 question: The big part inside first “FROM” is set to be “a” by the code:



 jhtyeh:

SELECT dep_month,              dep_day_of_week,               dep_date,               COUNT(*) AS flight_count          FROM flights         GROUP BY 1,2,3


Above part is ‘a’. And that is what you should refer to when dealing with



 jhtyeh:

a.dep_month,       a.dep_day_of_week,


or



 jhtyeh:

a.flight_count


2nd question: GROUP BY 1, 2, 3 means GROUP BY dep_month, dep_day_of_week, dep_date.1, 2, 3 here are 1st column, 2nd column, & 3rd column.
3rd question: Similar to GROUP BY 1, 2, 3.
Hope this helps!

Here is the answer to this exercice:
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_distance) AS average_distance
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
sum(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;

hello i had the same question   thank you for helping, i get the group by 1,2,3 now in terms of columns now … but I’m still stuck on why its called a… is that like a default?
like could i just use anything instead of the a???
thanks
G

I was wondering the same thing and “a” is an alias used to shorten the code. So instead of writing out the entire table name you can use “AS” earlier in the code then set it to a, then use a. asdfadfsdf later on. I’m still a little foggy on the whole idea too.

I appreciate the help on this one. This exercise seems like a big jump from what I’ve previously learned- am I missing something? I did go through the intro to SQL course…

Hey according what I understood from the first SQL course when you perform a select what you get is a new table, so in this example as you can see the outer query says FROM(…“the subquery”)
as you know,there,you must type the name of the table you want to query, and in fact you are doing it
because inside/subquery, you are performing a select so as consequence you get a new table,
the question now is, how do we refer to that table? and that’s why you see the (…“The subquery”) a<–
you are naming the table as a, so you can reference to the information of that table.

Is there a reason dep_date is included in this solution? So far as I can tell, it isn’t a deliverable, isn’t part of the calculation, and removing that line doesn’t change the outcome as long as I update the first group by function (delete “,3”).

@masternuna
Why do you use SUM(distance) and not AVG(distance) in the inner query?

Apologies for the long explanation. Let us understand it step by step. Be patient. Read it fully to understand.
First of all, run the following code contained in inner query:-
SELECT dep_month,
               dep_day_of_week,
               COUNT(*) AS flight_count
FROM flights;

The output is only one record. But we want no. of flights per day for now month by month.

Now add GROUP BY statement at the end and run it:-
SELECT dep_month,
               dep_day_of_week,
               COUNT(*) AS flight_count
FROM flights
GROUP BY dep_month;

Now we can see only one day(eg. sunday,monday..) per month. But we can't see all days in a 
month

Now add one more GROUP BY statement at the end and run it:-
SELECT dep_month,
           dep_day_of_week,
           COUNT(*) AS flight_count
FROM flights
GROUP BY dep_month,
                    dep_day_of_week;

The output table now shows all the days of each month. Let us call this output table as 'a' and we 
will run an outer query on this output table referring to it as 'a'. ""a.flight_count"" means we are 
referring to column ""flight_count"" of table 'a'

We will now see average no. of flights per day in each month. Let us find average no. of flights per
day by running “SELECT AVG(a.flight_count) AS average_flights” on the inner query present in
step 3. Recall ‘a’ from step three and observe it in step 4 and 5. Add the following outer query and
run it:-
SELECT AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
           dep_day_of_week,
           COUNT(*) AS flight_count
FROM flights
GROUP BY dep_month,
                    dep_day_of_week) a;

We will get only one record. But we want average_flights for all days of each month

So we will add “GROUP BY a.dep_month” to see result of each month:-
SELECT AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
           dep_day_of_week,
           COUNT(*) AS flight_count
FROM flights
GROUP BY dep_month,
                    dep_day_of_week) a
GROUP BY dep_month;

But we get result for only one day of each month. And wrong result also. So we will group by 
dep_day_of_week also

So we will add “GROUP BY a.dep_day_of_week” to see result for all the days of each month:-
SELECT AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
           dep_day_of_week,
           COUNT(*) AS flight_count
FROM flights
GROUP BY dep_month,
                    dep_day_of_week) a

GROUP BY a.dep_month,
                    a.dep_day_of_week;

This will give the average no. of flights per every day for each month. But looking at only one 
column, we can't tell which day each record belongs to. So for visualization purpose, we will add 
""a.dep_month"" and ""a.dep_day_of_week"" in the outer query in SELECT clause

We will add  “a.dep_month” and “a.dep_day_of_week” in the outer query in SELECT clause:-
SELECT a.dep_month,
               a.dep_day_of_week,
               AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
           dep_day_of_week,
           COUNT(*) AS flight_count
FROM flights
GROUP BY dep_month,
                    dep_day_of_week) a

GROUP BY a.dep_month,
                    a.dep_day_of_week;




This is the only requirement we had to fulfil. The codeacademy has added dep_date which is not 
required but we have to add it to go to the next lesson. They have also not given result for fridays 
which we can see by adding ""WHERE a.dep_day_of_week = Friday"" at the bottom before GROUP 
BY clause like:-

SELECT a.dep_month,
               a.dep_day_of_week,
               AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
           dep_day_of_week,
           COUNT(*) AS flight_count
FROM flights
GROUP BY dep_month,
                    dep_day_of_week) a

WHERE a.dep_day_of_week='Friday'
GROUP BY a.dep_month,
                    a.dep_day_of_week;

This will give average_flights of fridays of each month. The result will be same even if we remove 
""a.dep_day_of_week"" from GROUP BY clause.(Note: WHERE clause comes before GROUP BY 
clause otherwise we will see syntax error)

1, 2, 3 in GROUP BY caluse shown in codeacademy example is used to save typing time. 1 refers 
to the first element in SELECT clause(here inner 1 resefrs to dep_month in inner quesry and outer 
1 refers to a.dep_month in outer query. Similary 2 and 3.)

I feel exactly the same. I feel like it jumped 10 steps ahead w/o explaining the ‘a’ concept of the subquery. The rest of the class sessions seem to progress nicely and then one was just a sucker punch! Thank you for helping us understand–those of you with more experience.

There was far too big of a jump in content for this course, There has been no mention about a. before here and for this reason I’m stumped at this point and it appears many more before me are also.
It may be a good idea to alter this section for clarity.

Thanks everyone for explanation of main points. That really helped me, when I thuoght I lost my mind.

First off, a big huge thank you to lavajiit, for providing the “missing” lesson.  shakes fist at codecademy
As a a couple of extra resources for people like me who benefit from reading documentation, I found these:
https://community.modeanalytics.com/sql/tutorial/sql-subqueries/  which I think provides a decent plain-text description of what’s going on with the aliasing syntax.
https://dev.mysql.com/doc/refman/5.7/en/select.html  If you scroll down to the part that reads:

The AS keyword is optional when aliasing a select_expr with an identifier. The preceding example could have been written like this:

it gets into the use of “as” vs just aliasing by pure syntax (as in this example), which was confusing me quite a bit.

This solution passes the test case, but it has a few incorrect results.  It fails when more than one flight departs on the same exact day.  In this case the sub-query groups all flights leaving on the same day into one row, then the parent query counts the rows as individual flights.
As proof, try this:
SELECT dep_month, 
	   dep_day_of_week, 
       dep_date, 
       distance 
FROM flights
ORDER BY 1,2,3;

check out 2000-02 Saturday, there are two flights departing on 2/26/2000, one with a distance of 550, and one with a distance of 545.  But if you try the solutions sub-query:
SELECT dep_month,
	   dep_day_of_week,
	   dep_date,
	   sum(distance) AS flight_distance
FROM flights
GROUP BY 1,2,3;

And check out 2000-02 Saturday, you will notice it has one row (designating one flight to the parent-query) with a distance of 1095.  Thus the accepted answer is incorrect!  And oddly enough, a correct answer (though not accepted) can be done without any sub-queries:
SELECT dep_month, 
	   dep_day_of_week, 
       SUM(distance) / CAST( COUNT(*) AS REAL) AS 'average_distance'
FROM flights
GROUP BY 1, 2;


Thank you that really helps! If I understand now - we are naming our subquery as ‘a’
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
So that is why in the beginning of the code, we add ‘a.’ to the beginning of each column we are trying to pull
SELECT a. dep_month,
a. dep_day_of_week,
AVG( a. flight_count) AS average_flights
I agree with a few others - it seems that there are a couple gaps in teaching through this module.

Thanks for the explanation!

I did this, except that I loaded the “dep_day_of_week” field before the “dep_month” field in both quieries. Does the aggregation have to be in a particular order of granularity in SQL, or is it just that the tutorial has one specific answer in mind, therefore giving an error when I do it as I said?
Thanks in advance.
"
370,Manipulation - lesson 5 -- can't press next for the next exercise,"Get Help,SQL",,5,"
The instructions for this lesson are:
1 Add three more celebs to the table. In the code editor type
2 Let’s take a closer look at SELECT. Under the INSERT statements type
This is my code:
INSERT INTO celebs (id, name, age) VALUES (2, ‘Beyonce Knowles’, 33);
SELECT name FROM celebs;
INSERT INTO celebs (id, name, age) VALUES (3, ‘Jeremy Lin’, 26);
SELECT name FROM celebs;
INSERT INTO celebs (id, name, age) VALUES (4, ‘Taylor Swift’, 26);
SELECT name FROM celebs;
The system allows me to run and it says saving with a green tick but at the same time it displays a red message saying: “use the select statements to view names”  and I doesn’t allow me to press next.
","
I can’t reproduce what you are seeing at this moment, but try just having the one SELECT statement at the end instead of one after each INSERT.

64d35ff6d47f251b8bee7d88e128eeec3ab5b9a9.png896×511

ok it’s solved! thank you so much!!!

INSERT INTO celebs (id, name, age) VALUES (2, ‘Beyonce Knowles’, 33);
SELECT * FROM celebs;
INSERT INTO celebs (id, name, age) VALUES (3, ‘Jeremy Lin’, 26);
SELECT * FROM celebs;
INSERT INTO celebs (id, name, age) VALUES (4, ‘Taylor Swift’, 26);
SELECT * FROM celebs;
It’s good
"
371,4/7 Subqueries,"Get Help,SQL",,3,"
Where does this “a” come from? Is that an alias? Isn’t the sintax of alias = “…AS…”? Why “a” hasn’t this?
SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_count) AS average_flights
FROM (
SELECT dep_month,
dep_day_of_week,
dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3
) a
GROUP BY 1,2
ORDER BY 1,2;
","

Non-correlated sub-queries III

select f.dep_month,
       f.dep_day_of_week,
       avg(f.flight_distance) as average_distance
  from (
        select dep_month,
               dep_day_of_week,
               dep_date,
               distance as flight_distance
          from flights
         group by 1,2,3
       ) f
 group by 1,2
 order by 1,2;

In the above the alias of the outer query is average_distance and of the inner query is  flight_distance which the outer query accesses through the variable, f to construct the final table,
|dep_month|dep_day_of_week|average_distance|
|---|---|---|
|2000-01|Monday|1302.0|
|2000-01|Saturday|328.0|
|2000-01|Sunday|691.333333333333|
|2000-01|Thursday|1805.0|
|2000-01|Tuesday|1410.0|
|2000-01|Wednesday|280.0|
.
.
.


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
372,Daily Revenue 2: Incorrect Solution,"Get Help,SQL",,3,"
Daily Revenue 2: Incorrect Solution
As a preface, I looked at three previous threads covering this question, but none were addressed and the instructions and solution are still wrong.
Background Info:
We are given a SQL table where data is null if there was not a refunded product. To calculate revenue properly we are told to exclude refunds.  But here is where the problem comes into play.
The instructions state: “Update our daily revenue query to exclude refunds. Complete the query by filtering for refunded_at is not null.”
Additionally, if you check that refunded_at is null, which would be the proper way to exclude refunds, it is counted as incorrect.
There have been three threads about this specific error, but there is no response other than to close the threads and leave the error as it is.  I know that we are not the only ones getting confused by this, and it hurts our trust in the courses on this site when material is blatantly incorrect and errors are ignored.
Hope this problem is solved, so more people aren’t confused by this incorrect solution.

The three previous threads are linked below:




Daily Revenue 2 Analyzing: Common Metrics


    I saw there was a previous post on this which went unanswered. I also don’t understand the wording of this part. 
To exclude the refunds surely I have to search where refunded_on is null?
  






Daily Revenue 2 question wording Analyzing: Common Metrics


    the question and description says the following  

""Great! That query doesn't take refunds into account. We'll update the query to exclude refunds. 

Fields like refunded_at will only have data if the transaction was refunded, and otherwise left null."" 

and  

""Update our daily revenue query to exclude refunds. Complete the query by filtering for refunded_at is not null."" 

wouldn't this include the refunds, NOT exclude them? since you and leaving the ones without a null value to be calculated? …
  






9.Daily Revenue 2: refunded_at is null Analyzing: Common Metrics


    The instructions say to exclude the results that have a refunded_at value of null. I did that, but I got the error message ""Sum daily revenue without refunds."". 

Here's my code: 

select
  date(created_at),
  round(sum(price), 2) as daily_rev
from purchases
where refunded_at is null
group by 1
order by 1;

If I click ""Get Code"" when it pops up, it puts in a query that looks like exactly the opposite of what the instructions say to do, excluding the records that have a value in refunded_at: 

se…
  


","
Now all we need is a link to the exercise and we can get this investigation underway. Please post the link.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
373,Lesson 9 HAVING -- Why did HAVING COUNT(price) and HAVING COUNT(downloads) both work?,"Get Help,SQL",,6,"
The instructions are to “Add a HAVING clause to restrict the query to prices where the total number of apps at that price point is greater than 9.”
My first try I tried the following:
SELECT price,
ROUND(AVG(downloads))
FROM fake_apps
GROUP BY price
HAVING COUNT(price) > 9;
It was marked correct, but I honestly just felt lucky I guessed the correct answer rather than confident in my logic.
So I tried to play with it to see how the query results would change:
SELECT price,
ROUND(AVG(downloads))
FROM fake_apps
GROUP BY price
HAVING COUNT(downloads) > 9;
yielded the same results, and was still marked correct.
Why is this?
","
Going for the simplest query is usually where to start…
SELECT name, price FROM fake_apps
GROUP BY 1
HAVING price > 9;

|name|price|
|---|---|
|Anzoom|14.99|
|E-planet|14.99|
|Hayholding|14.99|
|Highflex|14.99|
|Inch-tone|14.99|
|Ladex|14.99|
|Opetech|14.99|
|Tamp-can|14.99|
|Tampzone|14.99|
|Tinunolane|14.99|
|Zoodom|14.99|
|Zoovivaice|14.99|


The lesson may be marked correct simply because the SCT is looking for HAVING in the query. Did the query return what you expected? Can you refine it and still get the same results?

Yeah I suppose my main concern is that the SCT (I’m guessing this is the code checker….what does “SCT” stand for?) is marking things correct just because of syntax and not because of accurate query results.
Based on my understanding of the wording of the exercise, my expected results should only include price points that had more than 9 apps with downloads to average. In your suggestion, why is the name column necessary, and why is the average downloads not included?
This is the exercise for reference:
Suppose we have the query below:
SELECT price,
ROUND(AVG(downloads))
FROM fake_apps
GROUP BY price;
Certain price points don’t have very many apps, so the average is less meaningful.
Add a HAVING clause to restrict the query to prices where the total number of apps at that price point is greater than 9.




 blogsolver19206:

what does “SCT” stand for?)


Submission Correctness Test.
It’s a script that the author(s) create specifically for testing the session page. It’s not an exhaustive test, and in most cases looking for keywords or patterns other than results. There is no one way for a lesson to be tested or checked so from lesson to lesson or unit to unit it’s practically impossible to predict what the SCT will be looking at.
The learning environment permits a lot of experimental queries so don’t be afraid to comment out (and label) queries while continuing to run another. (Wait until you have a check mark, though.) Don’t be afraid to enter errors, either. That way you get familiar with the error messages that SQL reports.



 blogsolver19206:

In your suggestion, why is the name column necessary, and why is the average downloads not included?


Only an example, not a suggestion. I wasn’t sure what lesson you were on and tossed that out there. I believe this is the lesson, is it not?

having

SELECT price, ROUND(AVG(downloads))
FROM fake_apps
GROUP BY price
HAVING COUNT(*) > 9;

From this query we see that there are less than 10 apps at the 3.99 price point.
select price, count(*) from fake_apps
group by 1;


|price|count(*)|
|---|---|
|0.0|73|
|0.99|43|
|1.99|42|
|2.99|21|
|3.99|9|
|14.99|12|



Thanks so much for your response. Yes, the exercise you linked is the one I was working on.
One last question, that kind of circles back to my original question:
SELECT price, ROUND(AVG(downloads))
FROM fake_apps
GROUP BY price
HAVING COUNT(*) > 9;
SELECT price, ROUND(AVG(downloads))
FROM fake_apps
GROUP BY price
HAVING COUNT(price) > 9;
SELECT price, ROUND(AVG(downloads))
FROM fake_apps
GROUP BY price
HAVING COUNT(downloads) > 9;
All three of these variations result in the exact same table. Could you please explain why? Essentially, I’m not understanding what the final HAVING COUNT line in each variation are doing and how they differ from each other.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
374,"SQL, using ""AND""","Get Help,SQL",,4,"
I’m new to this and i was playing around with the code to see if i could narrow the origin down to show only “SNA” but everything I’ve tried hasn’t worked…

image.png1366×768 140 KB


image.png1366×768 128 KB

","
Please remember to include a link to the exercise in new topics relating to a lesson. Thanks.

https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/correlated-ii?action=lesson_resume

This came up with two results…
select id, origin from flights f
where f.origin is ""SNA"";

|id|origin|
|---|---|
|17107|SNA|
|17661|SNA|


select id, origin, destination from flights f
where f.origin is ""SNA"";

|id|origin|destination|
|---|---|---|
|17107|SNA|SJC|
|17661|SNA|PHX|

"
375,Excercize shows incorrect schema,"Get Help,SQL",,4,"
I keep getting the incorrect schema. I was shown the classes schema and the question was asking about newspaper and online. It is so frustrating…
","
Are you talking about Problem 4, ‘Inner Joins’?
If so, here’s my work…
Step 1
SELECT COUNT()
FROM newspaper;

Step 2
SELECT COUNT()
FROM online;


Step 3
SELECT COUNT(*)
FROM newspaper
JOIN online
	ON newspaper.id =
  online.id;

Hope I helped 
If it is a different excersize  than the one I showed, sorry. I will check in again as soon as possible.

FORGET ALL THAT!!!
I was totally wrong. Problem 6, right? Truly ‘problem’ six. Yeah, I think there is a mistake in the instructions.  It will never work. If you press ‘Run’ enough times, you will get a option of ‘Keep Trying’ or ‘Get Code’. ‘Get Code’ will probably not change any of your work, but you will be able to go on.
Sorry for being TOTALLY useless for the first 2 comments.   Hope I can start being more useful in the future 

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
376,Step 4!,"Get Help,SQL",,5,"
Can anyone explain what is wrong with my code below? Doesn’t seem to change the table at all.
UPDATE friends
SET name = Jane Smith
WHERE id = 1;
Thank you!!
","
Link to the exercise please, so we can check what’s wrong.

try putting Jane Smith in quotes - ‘Jane Smith’

Hi @fndltm17,
This worked for me:
UPDATE friends
SET name = 'Jane Smith'
WHERE id = 0;

I will audit this SQL Project and add hints to all the steps this weekend!

"
377,1 day retention syntax question,"Get Help,SQL",,3,"
Hi – in the 1 day retention lesson (https://www.codecademy.com/courses/sql-analyzing-business-metrics/lessons/common-metrics/exercises/1d-retention-iii?action=lesson_resume&link_content_target=interstitial_undefined)
I want to understand better the syntax  of the distinct function in
select
  date(g1.created_at) as dt,
  round(100 * count(distinct g2.user_id) /
    count(distinct g1.user_id)) as retention
from gameplays as g1
  left join gameplays as g2 on
    g1.user_id = g2.user_id
    and date(g1.created_at) = date(datetime(g2.created_at, '-1 day'))
group by 1
order by 1
limit 100;

I originally did it with (count(distinct(g2.user_id)) but was getting errors.  Is the space completely interchangeable with the parenthetical, or is it used specifically in cases where there is a join?
Thanks!
","
DISTINCT is a clause not a function so no parentheses.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
378,Insufficient information to answer a question,"Get Help,SQL",,13,"
Exercise 4 is asking me the following:
“The table newspaper contains information about the newspaper subscribers. Count the number of subscribers who get a print newspaper.”
But how am I supposed to do this if I don’t know what tables exist? I have no reference for what columns to interact with. I have no idea how many columns there are.
Part of me wants to say my browser may not be loading this exercise correctly, or there is something I am missing, but I have tried to load this exercise on multiple browsers and multiple machines. The problem persists!
Any help would be appreicated. Thank you!
","
Insufficient information for a discuss topic. Where is the link to the exercise?

Not exactly sure if this will work, but here is a direct copy/paste of the address I’m on.
https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/inner-join-ii?action=lesson_resume&course_redirect=learn-sql
Thanks for your attention

Here is how to view all the tables in complete form:
SELECT * FROM newspaper;

SELECT * FROM online;

SELECT * FROM months;


But that is my question. I had no way to know that there was a newspaper table, or an online table, or a months table. I could gather that there must be at least one table called newspaper, but there was no mention of an “online” table or a “months” table in the question.
4b784803ec158111fc7dc5fd4dbf4df1070f96c9.jpg1412×764 102 KB

Here is an image of what I am seeing. Is there something I am missing?

It will raise an error but this is how to see what tables are present in the namespace…
SELECT *;

.> Error: near line 1: no tables specified
but it will show the schema for all the tables present.
Database Schema
newspaper60 rows
id	INT
first_name	VARCHAR(256)
last_name	VARCHAR(256)
email	VARCHAR(256)
start_month	INT
end_month	INT
online65 rows
id	INT
first_name	VARCHAR(256)
last_name	VARCHAR(256)
email	VARCHAR(256)
start_month	INT
end_month	INT
months12 rows
month	INT


Okay weird. I thought I had tried that and I wasn’t getting a result. I tried again in a different browser and now it is working…
Maybe it was just a glitch.
Thank you sir!

The instructions do tell us which tables to query, newspaper and online. We just need to take it on faith that the tables exist, but we’ve seen above how to query the full tables.

I don’t see mention of an “online” table in the instructions, but it does also raise another question: I am confused as to why this instruction requires a JOIN command at all. If it just wants the newspaper subscribers, and not the online ones, why am I joining the online user IDs with the newspaper user IDs? The logic doesn’t follow to me…
To me, the correct query would simply be:
SELECT COUNT(*)
FROM newspaper;

The JOIN will help you find the intersection of the two tables. They will intersect on user_id.

Right, but that would result in showing the subscribers with both online and printed newspapers correct? So if the exercise is designed to teach the student to use the JOIN statement, why does it ask for ONLY the newspaper subscribers? That would not require a JOIN statement that I can see…

Take for instance this COUNT of the number of intersections…
SELECT COUNT(*)
FROM newspaper JOIN online
ON newspaper.id = online.id;


50

Now replace COUNT(*) with just * and examine the results.
Here is a simple query:
SELECT newspaper.id, online.last_name
FROM newspaper JOIN online
ON newspaper.id = online.id;




 wumbowarrior:

why does it ask for ONLY the newspaper subscribers? That would not require a JOIN statement that I can see…


This is not my forte so the question is little vague. Study the above and see if it helps align your thinking.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
379,Daily Revenue 2,"Get Help,SQL",,4,"
I saw there was a previous post on this which went unanswered. I also don’t understand the wording of this part.
To exclude the refunds surely I have to search where refunded_on is null?
","
Can you post a link to the lesson so we can take a look specifically?

https://www.codecademy.com/courses/sql-analyzing-business-metrics/lessons/common-metrics/exercises/daily-revenue-ii?action=lesson_resume&link_content_target=interstitial_undefined

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
380,Preventing SQL Injection,"Get Help,SQL",,5,"
I’ve recently come across the SQL code injection technique on https://www.w3schools.com/sql/sql_injection.asp , and have been subsequently searching for a more comprehensive website to learn how to protect my server against this technique.
My problem is that most websites refer to using PHP (Hypertext Preprocessor) Language when protecting against SQL injection.
Therefore my question is, do I need to learn PHP before I can protect against SQL Injection, or is it enough to just use SQL Parameters for Protection?
EDIT: If you’ve stumbled upon this trying to prevent SQL injection using PHP, then thought I might add this web link to a website that has taught me how to do so:



Treating PHP delusions



(The only proper) PDO tutorial
There are many tutorials on PDO already, but unfortunately, most of them fail to explain the real benefits of PDO, or even promote rather bad practices. The only two exceptions are [phptherightway.com](http://www.phptherightway.com/#pdo_extension)...





","
Generally just don’t execute code that you got from the user, that’s only common sense, same as with most security.

I don’t think it’s as simple as not executing code from the user, for example take a user log in. The user has to input values in order to gain access, and I myself have to grant access to users with valid credentials.

That’s what SQL injection is. The user writes a value, what they write gets included in the query, and the whole thing gets executed, including what the user wrote. Bad separation between data and code.
The user input might be supposed to go between quotes, but if the user includes a quote, then they broke out of their string, and the rest of that user input is now treated as code.

Similarly, a program might let you store data, but not run commands. But if you find a way to get the program to execute in the memory location where the data is (typically by exceeding some limit a programmer thought was high enough but isn’t enforcing), then you can run commands anyway.
Or, a forum, like this one, lets users post content, they could include javascript which makes posts for you, uploads your pm’s etc – if user-posted content was treated as code instead of data.
Someone I wrote a bot with wanted to convert text to integers, so they executed the text – it was possible to control the bot’s computer by chatting.
"
381,Redo Lessons - Learn SQL,"Get Help,SQL",,3,"
Hey
I just started my SQL course few days ago and it’s my first one on codeacademy. Now I want to redo some lessons and also don’t want to lose my entire progress. How do I redo particular lessons here?
","
We can comment out previous work and write new queries without resetting.
/*
SELECT name, rating FROM movies
WHERE rating > 4
ORDER BY 2 desc;
*/


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
382,No such table: orders,"Get Help,SQL",,4,"
Hi,
This module seems to not have the correct table linked to it - Orders
Neither does it have customers.
My code from exserize 1/10:
SELECT *
FROM orders;
SELECT *
FROM subscriptions;
SELECT *
FROM customers;
Returns “Error: near line 1: no such table: orders”
My code from excersize 3/10:
SELECT orders.order_id,
subscriptions.subscription_id
FROM orders
JOIN subscriptions
ON orders.order_id = subscriptions.subscriptions;
Returns “Error: near line 1: no such table: orders”
","
I don’t really want to reset my progress because of how far I have progressed

How are we supposed to find the exercise without a link?

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
383,"SQL Queries Exercise #4 ""Where""","Get Help,SQL",,2,"
https://www.codecademy.com/courses/learn-sql-queries/lessons/queries/exercises/where?action=lesson_resume&course_redirect=learn-sql
Hey guys,
In the link provided above is a exercise where the code says:
SELECT * FROM movies
WHERE name LIKE ‘Se_en’;
Which gave me 2 query result:
id	name	genre	year	imdb_rating
219	Se7en	drama	1995	8.6
220	Seven	drama	1979	6.1

So i was wondering what would happened if i re-write the code to
SELECT * FROM movies
WHERE name LIKE ‘Se7en’;
And it came out with only 1 query result:
id	name	genre	year	imdb_rating
219	Se7en	drama	1995	8.6

How does this work?
My guess is that the “_”  would replace any letter that is between “Se(Any letter)en”  and show as a query result.
E.g:: Se§en,Se(t)en,Se®en would show as a query result if it were to exist in the movie database
Am i close?
Thanks.
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
384,Combining Tables with SQL,"Get Help,SQL",,4,"
i am trying to join the orders and subscriptions tables on subscriptions_ id where description =“fashion magazine”.
select * from orders
join subscriptions
on
orders.subscription_id=subscriptions.subscription_id
where
subscriptions.description=‘Fashion Magazine’
;
but i am getting error of “It looks like you deleted the first query.  Be sure to keep both queries for your final submission”.
","
I’m having an issue with the same exercise
You’ll want to remove the WHERE clause from the bottom of your first query and create another query below it.
My queries are currently coded like this:
SELECT *
FROM orders
JOIN subscriptions
ON subscriptions.subscription_id = orders.subscription_id;
SELECT *
FROM orders
WHERE subscriptions.description = ‘Fashion Magazine’;
But it’s telling me “Did you remember to add the query with the WHERE statement?”
It’s also giving me the error “Error: near line 6: no such column:” if I change the WHERE value.

I figured out the issue.
You want to run the query twice and add the WHERE clause to second like so:
SELECT *
FROM orders
JOIN subscriptions
ON subscriptions.subscription_id = orders.subscription_id;
SELECT *
FROM orders
JOIN subscriptions
ON subscriptions.subscription_id = orders.subscription_id
WHERE description = ‘Fashion Magazine’;

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
385,Sqlite (WITH statements),"Get Help,SQL",,2,"
Hi there!
So I was working through the SQL training on here. And was requested to use a “WITH” statement. We are provided this original query:
SELECT customer_id, COUNT(subscription_id) as subscriptions
FROM orders
GROUP BY customer_id
So I did the task and ended up with the following to give me the customers names and number of subscriptions.
WITH previous_results as (
SELECT customer_id, COUNT(subscription_id) as subscriptions
FROM orders
GROUP BY customer_id )
SELECT c.customer_name, p.subscriptions
FROM previous_results p
JOIN customers c ON p.customer_id = c.customer_id;
However… my question to anyone reading this. Could you explain to me why/if we need a “WITH” statement for this. I wrote the following query and it worked just the same:
SELECT c.customer_name, COUNT(o.subscription_id) as subscriptions
FROM orders o JOIN customers c
ON o.customer_id = c.customer_id
GROUP BY o.customer_id;
If there isn’t any useful reason to use a “WITH” statement in this example, could you suggest an example of why this might be needed?
Thanks in advance!
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
386,SQL: Table Transformation (2/7),"Get Help,SQL",,2,"
In this lesson, I understand that we are trying to pick from a subset of the data in Airports, but I am confused by some of the data in the “code” column of Airports. For example, the city Reading in Airports has “elevation” = 1650 but a “code” = 19NY. Though under an elevation of 2000, this location will never show up in our query b/c the “origin” column in Flights only uses data with 3-characters and only letters. Am I missing something obvious here?
I compared the following:
select code, city, elevation from airports;
select origin from flights
order by origin asc;
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
387,What's the difference between single quote and double quote in sql query,"Get Help,SQL",,3,"
Must I use double quote in this query :create table awards(id integer primary key,
recipient text not null,
award_name text default “Grammy”);?
","

Single quotes are used to indicate the beginning and end of a string in SQL. Double quotes generally aren’t used in SQL, but that can vary from database to database.
Stick to using single quotes.
That’s the primary use anyways. You can use single quotes for a column alias—where you want the column name you reference in your application code to be something other than what the column is actually called in the database. For example: PRODUCT.id would be more readable as product_id, so you use either of the following:
SELECT PRODUCT.id AS product_id
SELECT PRODUCT.id 'product_id’
Either works in Oracle, SQL Server, MySQL … but I know some have said that the TOAD IDE seems to give some grief when using the single quotes approach.
You do have to use single quotes when the column alias includes a space character, e.g., product id, but it’s not recommended practice for a column alias to be more than one word.

From StackOverflow

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
388,Issues with lesson showing wrong date - Would love some help,"Get Help,SQL",,3,"

5d2f26b781a0730510630b1fe56d3e3c4955b037.png1821×945 106 KB

","
I believe the DATE values need to have ’ ’ at the beginning and end of them.
So instead of  1993-05-19,
It would be ‘1993-05-19’.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
389,Date Format,"Get Help,SQL",,12,"
When inserting a new row into the table, how do you format the date?
","
@davidfw1866,
Here an example
found with a google search
When inserting a new row into the table, how do you format the date? site:stackoverflow.com
http://stackoverflow.com/questions/19181715/cant-insert-date-into-sql-table

Still having trouble with the format for this?
Are you supposed to use YYYYMMDD?

I am not able to follow you guys, please tell me how to insert dates.

Still not understanding how to insert the date. Right now I am doing this:
CREATE TABLE friends (id INTEGER, name TEXT, birthday DATE);
INSERT INTO friends (id, name, birthday) VALUES (1,‘Jane Doe’, 1993-05-19);
But the table is give me back the value 1969

@rjmascolo
From
http://stackoverflow.com/questions/16739836/how-to-add-date-in-sqlite-database
Please read
http://www.sqlite.org/datatype3.html#section_2_2
and then
http://www.sqlite.org/lang_datefunc.html

Hi,
I made the date field TEXT just like the name and entered it like this ‘May 19th,1993’ and it worked.

So looking at the second link the answer is:
SQLite does not have a storage class set aside for storing dates and/or times
How are we supposed to know we are using SQL Lite?

@rjmascolo
In the introduction

The statements covered in this course, use SQLite Relational Database Management System (RDBMS).


hi! i struggled with this one too, i found out that this worked:
CREATE TABLE friends (id integer, name text, birthday date);
INSERT INTO friends (id, name, birthday) VALUES (1, “Jane Doe”, “1993-05-19”);
SELECT * FROM friends;
remember to put between double quotes the date, or it will perform the following calculation: 1993 - 05 - 19 = 1969.

So essentially the date in this case is just a text string?  Indicating it is a DATE does not seem to do anything as I have to put quotes around it to not have it perform a math function and once the quotes are around it you can enter anything.  Currently Jane’s birth date for me is ‘pickles’.  Seems useless to me.

"
390,"Create table, 2nd step","Get Help,SQL",,11,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
https://www.codecademy.com/en/courses/learn-sql/projects/learn_sql_create_table
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
Bit baffled by error messages I was getting here - now I’m not getting any errors, but nor is a new line being inserted into the table?
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>


```
CREATE TABLE friends (id INTEGER, name TEXT, birthday TEXT );
INSERT INTO friends (id, name, birthday) VALUES (1, ‘Jane Doe’, ‘1993-05-19’);
<do not remove the three backticks above>
","
So when you run the query, you’re not getting this?
id  name           birthday       
1   Jane Doe       1993-05-19
2   Jane Smith     1993-05-19
3   John Smith     1977-05-05
4   Ada Lovelace   1815-12-10


can you post your code for that? Im not getting any errors but I know its not right.
My final SQL code is:
Create Table friends (id INTEGER, name TEXT, birthday INTEGER);
Insert Into friends (id, name, birthday) Values (1, ‘Jane Doe’, 1993-05-19);
Insert Into friends (id, name, birthday) Values (2, ‘Hanif’, 1997-07-16);
Insert Into friends (id, name, birthday) Values (3, ‘Nala’, 1947-01-01);
Insert Into friends (id, name, birthday) Values (4, ‘Liza’, 1996-07-16);
Update friends
Set name = ‘Jane Smith’
Where id = 1;
Alter Table friends ADD COLUMN email TEXT;
Update friends
Set email = ‘jdoe@example.com’
Where id= 1;
Update friends
Set email = ‘hanif.black@gmail.com’
Where id= 2;
Update friends
Set email = ‘nala@gmail.com’
Where id= 3;
Update friends
Set email = ‘liza@gmail.com’
Where id= 4;
Delete From friends
Where id = 1;




 arrl100:

1993-05-19


Not an integer. It is a DATE type, that I’m pretty sure needs to be in quotes.

Okay thanks let me try that

I changed it, it came back with the wrong table, dont see any of the data I put in the code i.e different people and their birthdays.
Create Table friends (id INTEGER, name TEXT, birthday DATE);
Insert Into friends (id, name, birthday) Values (1, ‘Jane Doe’, 1993-05-19);
Insert Into friends (id, name, birthday) Values (2, ‘Hanif’, 1997-07-16);
Insert Into friends (id, name, birthday) Values (3, ‘Nala’, 1947-01-01);
Insert Into friends (id, name, birthday) Values (4, ‘Liza’, 1996-07-16);
Update friends
Set name = ‘Jane Smith’
Where id = 1;
Alter Table friends ADD COLUMN email TEXT;
Update friends
Set email = ‘jdoe@example.com’
Where id= 1;
Update friends
Set email = ‘hanif.black@gmail.com’
Where id= 2;
Update friends
Set email = ‘nala@gmail.com’
Where id= 3;
Update friends
Set email = ‘liza@gmail.com’
Where id= 4;
Delete From friends
Where id = 1;




 arrl100:

1993-05-19


DATE type object needs to be in quotes.

Okay I put quotes on my dates but still no table im expecting. Here is the code:
Create Table friends (id INTEGER, name TEXT, birthday DATE);
Insert Into friends (id, name, birthday) Values (1, ‘Jane Doe’, ‘1993-05-19’);
Insert Into friends (id, name, birthday) Values (2, ‘Hanif’, ‘1997-07-16’);
Insert Into friends (id, name, birthday) Values (3, ‘Nala’, ‘1947-01-01’);
Insert Into friends (id, name, birthday) Values (4, ‘Liza’, ‘1996-07-16’);
Update friends
Set name = ‘Jane Smith’
Where id = 1;
Alter Table friends ADD COLUMN email TEXT;
Update friends
Set email = ‘jdoe@example.com’
Where id= 1;
Update friends
Set email = ‘hanif.black@gmail.com’
Where id= 2;
Update friends
Set email = ‘nala@gmail.com’
Where id= 3;
Update friends
Set email = ‘liza@gmail.com’
Where id= 4;
Delete From friends
Where id = 1;

Because of this line,



 arrl100:

Delete From friends
Where id = 1;


You are removing a critical row. To get around this, add it in just after your set Jane Smith’s name…
INSERT INTO friends (id, name, birthday)
VALUES (4, 'Jane Doe', '1993-05-19');

This,
Update friends
Set email = 'jdoe@example.com'
Where id= 1;

should be id=4, (copy and paste it in lower down) and the email for id=1 set to janes@example.com.
Here is the table I ended up with:
id  name           birthday       email
1   Jane Smith     1993-05-19     janes@example.com
2   John Smith     1977-05-05     jsmith@example.com
3   Ada Lovelace   1815-12-10     aal@example.com


Okay I think I see now, I added this to the bottom of my code to get a read out of the table:
Select *
From friends
I ran this as a final version:
Create Table friends (id INTEGER, name TEXT, birthday INTEGER);
Insert Into friends (id, name, birthday) Values (1, ‘Jane Doe’, ‘1993-05-19’);
Insert Into friends (id, name, birthday) Values (2, ‘Hanif’, ‘1997-07-16’);
Insert Into friends (id, name, birthday) Values (3, ‘Nala’, ‘1947-01-01’);
Insert Into friends (id, name, birthday) Values (4, ‘Liza’, ‘1996-07-16’);
Update friends
Set name = ‘Jane Smith’
Where id = 1;
Alter Table friends ADD COLUMN email TEXT;
Update friends
Set email = ‘jdoe@example.com’
Where id= 1;
Update friends
Set email = ‘hanif.black@gmail.com’
Where id= 2;
Update friends
Set email = ‘nala@gmail.com’
Where id= 3;
Update friends
Set email = ‘liza@gmail.com’
Where id= 4;
Delete From friends
Where id = 1;
Select *
From friends;
The Table it gave out is as follows:
id	name       birthday	       email
2	Hanif	    1997-07-16	hanif.black@gmail.com
3	Nala	    1947-01-01	nala@gmail.com
4	Liza	    1996-07-16	liza@gmail.com
Look right to you? My only gripe is that the id’s dont start from 1 but instead start from 2 instead.

"
391,SQL Manipulation 2 - Answer not correct...?,"Get Help,SQL",,5,"
Hi,
Question 1 of SQL Manipulation Page 2:
“Using the tables to your left, what is the description of the magazine ordered in order 3?”
Order 3 says it matches to subscription_id 1.  Subscription_id 1 is “Politics Magazine” but the page only accepts the answer “Sports Magazine”.  Which is subscription 3 - and not the right answer to the question.
Unless I am being very dumb.
Cheers,
Tom
","
Please post a link to the exercise. Thanks.

Sorry it was the Multiple Tables section: https://www.codecademy.com/courses/learn-sql-multiple-tables/lessons/multiple-tables/exercises/what-is-join?action=lesson_resume&course_redirect=learn-sql

Looks like a problem with the SCT, since you are correct about it being “Politics Magazine”.
Please submit a bug report at the bottom of the lesson text.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
392,4/8 count(case when...),"Get Help,SQL",,4,"
what 's the different between using
count (case when elevation<1000 then 1 end )
and count (elevation<1000)  ?
https://www.codecademy.com/courses/sql-table-transformation/lessons/conditional-aggregates/exercises/count-case-when?action=lesson_resume
","
Please post a link to the exercise. Thanks.

Try this query and see it that helps give a clue. Seeing is better than any explanation I can come up with.
SELECT state, COUNT(),
    COUNT(CASE WHEN elevation < 1000 THEN 1 ELSE NULL END) as count_low_elevation_airports 
FROM airports 
GROUP BY state
ORDER BY 3;


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
393,Date III So this works in SQLite but does it work with....?,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/sql-table-transformation/lessons/date-number-string-functions/exercises/dates-iii?action=lesson_resume
My script works correctly. But I’m curious about the applicability of this on different programs.
Does this work exactly in the same way with MSSQL? I’ve tried looking up information about this, but all I see are things on gettime and addtime for MSSQL.
SELECT DATETIME(delivery_time, ‘+5 hours’, ‘20 minutes’, ‘2 day’) as package_time
FROM baked_goods;

```
Replace this line with your code.
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
394,"Queries ""Case""","Get Help,SQL",,3,"
Hi everyone, I’m stuck in excersice 14 from Queries.
I actually don’t know what I’m doing wrong.
https://www.codecademy.com/courses/learn-sql-queries/lessons/queries/exercises/case?action=lesson_resume&course_redirect=learn-sql
This is the error that I get:
Type the code in the code editor using the appropriate clauses.
Thanks 
select *,
CASE
when genre = 'romance' then 'fun'
when genre = 'comedy' then 'fun'
else 'serious'
end as 'mood'
from movies;
","
TRY THIS
SELECT name,
CASE
WHEN genre = ‘romance’ then ‘fun’
WHEN genre = ‘comedy’ then ‘fun’
ELSE ‘serious’
END as ‘mood’
FROM movies;

Lol I’m dumb.
Thanks man!
"
395,Practice #13 Return the total number of apps for the business category,"Get Help,SQL",,5,"
Hey everyone, been scratching my head on this one, this is the closest I can get:
SELECT category, SUM(downloads) FROM fake_apps
GROUP BY category;
This doesn’t specifically show just the business category though, is there a way to single that out?
Thanks in advance guys.
","
SELECT category, SUM(downloads)  FROM fake_apps WHERE category = ‘Sports’ AND ‘Health & Fitness’ ;
produces the output of
Query Results
category	SUM(downloads)
But no results.
If we modify the above statement to
 SELECT category, SUM(downloads)  FROM fake_apps WHERE category = 'Sports' OR 'Health & Fitness';

we get
Query Results
category	SUM(downloads)
Sports	176988
And if we reverse the order of the categories:
SELECT category, SUM(downloads)  FROM fake_apps WHERE category =  'Health & Fitness' OR 'Sports';

Query Results
category	SUM(downloads)
Health & Fitness	165555
So I’m stumped too…

Ok, answered my own question, I was using the wrong command, should be:
SELECT category, COUNT(downloads) FROM fake_apps
WHERE category = ‘Music’;

OK, sorry I was working on #21.  But you should not be using COUNT(downloads), try SUM(downloads):
SELECT category, SUM(downloads) FROM fake_apps WHERE category = 'Music';

"
396,SQL query: BETWEEN Question,"Get Help,SQL",,8,"
Hello,
In the example given for the BETWEEN operator, why are all records A up to but not including J returned.  Yet with the year example all records 1990 and including 2000 returned? The two queries look to be written the same.  Why with names are J not included but with year 2000 is included?
","
Please post a link to the exercise. Thanks.

https://www.codecademy.com/courses/learn-sql-queries/lessons/queries/exercises/between?action=lesson_resume&course_redirect=learn-sql

All the documentation I could find says BETWEEN is inclusive of both lower and upper value, but the proof is in the pudding, for text, the upper value is exclusive. Wish I could find some explanation for this, but so far, none. Will need to do more digging. If you find a definitive answer, do please share it with us.
It doesn’t make sense, though. How does one get up to Z?

I will update once I test it out a bit more, strange right?




 lkfalck:

strange right?


Yes, has me scratching my head (mind I am no expert).
WHERE name > 'M'

returns everything from M and beyond.
WHERE name BETWEEN 'M' AND 'Z'

does not return ‘Zombieland’ when the genre is ‘horror’ (or no genre specified).

After doing some research it appears to be a much-debated SQL design flaw.  Glad I learned it now before it comes up as an issue on the job!

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
397,"Correlated Subqueries II, misinformation","Get Help,SQL",,2,"

Why mention basing things on “time” in the intro to this exercise when none of the queries here involve time?
Where is “flight_id” coming from? There is no column name or SQL query mentioning “flight_id”. It would make more sense to just say “flight id” with no underscore and not make it appear like it is a field name.

https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/correlated-ii?action=lesson_resume
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
398,Issues when running code on Grouping with Case Statements,"Get Help,SQL",,3,"

select * ,
  case name
    when 'kale-smoothie'    then 'smoothie'
    when 'banana-smoothie'  then 'smoothie'
    when 'orange-juice'     then 'drink'
    when 'soda'             then 'drink'
    when 'blt'              then 'sandwich'
    when 'grilled-cheese'   then 'sandwich'
    when 'tikka-masala'     then 'dinner'
    when 'chicken-parm'     then 'dinner'
    else 'other'
  end as category
from order_items
group by 1
order by 2 desc;



There seems to be a problem with this course or this activity in particular. Whenever I run the code in Explorer or Chrome, it seems to enter an infinite loop and never gives an answer or an error message. Anybody else get this problem?
","
Please remember to include a link to the exercise so we can see for ourselves. Thanks.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
399,ROUND FUNCTION why is there a 1.0 in ROUND(1.0 *,"Get Help,SQL",,3,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
https://www.codecademy.com/courses/sql-analyzing-business-metrics/lessons/advanced-aggregates/exercises/reorder-rate?action=lesson_resume
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
I understand the ROUND function, but I don’t understand why is there a 1.0 * after the parenthesis? It’s my understanding that for ROUND(column_name, 2). Can anyone help?
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>

select name, round(1.0 * count(distinct order_id) /
count(distinct orders.delivered_to), 2) as reorder_rate
from order_items
join orders on
orders.id = order_items.order_id
group by 1
order by 2 desc;

```
Replace this line with your code.
<do not remove the three backticks above>
","



 microblaster25026:

why is there a 1.0 *


It’s a way to force a float.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
400,Exercise 3: Error: near line 1: database is locked,"Get Help,SQL",,2,"
Sorry, please ignore this topic. I see what I did wrong.  Thanks!
<Below this line, add a link to the EXACT exercise that you are stuck at.>
https://www.codecademy.com/courses/learn-sql-manipulation/lessons/manipulation/exercises/statements?action=lesson_resume&course_redirect=learn-sql
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
Error: near line 1: database is locked
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>

CREATE TABLE celebs (id INTEGER, name TEXT, age INTERGER);
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
401,Non-Correlated Subqueries III,"Get Help,SQL",,3,"
This is a part of the example code. I am quite confused by the COUNT(*). As the * means “all” in SQL, what does this * cover? Does it count all the month, week, and date? Or just the date?


SELECT dep_month,
       dep_day_of_week,
       dep_date,
COUNT(*) AS flight_count
FROM flights
GROUP BY 1,2,3;



","
It may be a count of the rows?

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
402,Non-Correlated Subqueries II,"Get Help,SQL",,3,"
Hi!
Can someone explain why ‘origin’ and ‘code’ are used in Subquerriey II? I understand subquerries when it involves a < or = sign after the WHERE, but I am not sure what this code exactly does…
Thanks in advance!
SELECT *
FROM flights
WHERE origin in (
	SELECT code
	FROM airports
	WHERE faa_region = 'ASO'
);


","
Hi!
As I understand it, the subquery that is inside the brackets creates a list of codes from the table airports, where the code is in the faa_region ASO. The outer query then returns all flights if their origin is among the list of the codes that the subquery created. Does that make sense?

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
403,Multiple Tables Lesson Not Working?,"Get Help,SQL",,7,"
**EDITING MONDAY, NOVEMBER 6, 2017 **
Section is back up and running!
Does anyone get a blank screen when trying to access this lesson?  I tried both safari and chrome and both show nothing… Tried accessing it from the menu as well as from the session prior.
","
Same here, tried everything.



Thanks!  Not really sure what this means, but I’ll just assume its a backend server issue?
Do you work for codeacademy bitslayer?
If so do you know when the issue will be resolved?
Appreciate your help!

I’ve been having the same problem! I tried chrome and firefox, restarted chrome, cleared the cache, etc. and nothing worked. This appears to be a recent issue?

To anyone following - just checked and the section is back up and running!

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
404,Update table from select with aggregate function any example?,"Get Help,SQL",,2,"
Please somebody could send me some example of update table from a select query with an aggregate function?
Thanks
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
405,Daily Active Users 1 vs 2,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/sql-analyzing-business-metrics/lessons/common-metrics/exercises/daily-active-users-i?action=lesson_resume&link_content_target=interstitial_lesson
I solved the first exercise on Daily active users, and then I also solved the second part, where it is required to take into account the platform too. My concern is that, if I look at the results from both queries, it looks like the number of daily users is different. For example, with the first query, on 2015-08-04 we have 99 users, but with the second query, for that day, we have 27+42+36=105 users. What am I missing?
Below the queries that I used.
Thank you.

image.png503×654 25.6 KB



select date(created_at),
count(distinct user_id) as dau
from gameplays
group by 1
order by 1;


select date(created_at),
platform,
count(distinct user_id) as dau
from gameplays
group by 1,2
order by 1,2;



","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
406,The Between Operator,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/learn-sql-queries/lessons/queries/exercises/between?action=lesson_resume&course_redirect=learn-sql
why is it that…

SELECT * FROM movies
WHERE name BETWEEN 'A' AND 'J';


does not include movies with whose name starts with ‘J’, but…
SELECT * FROM movies 
WHERE year BETWEEN 1990 AND 2000;


includes movies released in the year 2000?
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
407,"Lesson 9, order_items.name vs name","Get Help,SQL",,6,"
In lesson 9, why does item 1) use "" case order_items.name"", and item 2) just use “case name”?
","
can I see your code? I’m having trouble with part 1 of 9.

After seeing this I tried modifying to see if this was why it wouldn’t accept anything (even the suggested answer given after failing so many times). This is what I think the code should be; did you ever get this to work?
select
case order_items.name
when ‘kale-smoothie’    then ‘smoothie’
when ‘banana-smoothie’  then ‘smoothie’
when ‘orange-juice’     then ‘drink’
when ‘soda’             then ‘drink’
when ‘blt’              then ‘sandwich’
when ‘grilled-cheese’   then ‘sandwich’
when ‘tikka-masala’     then ‘dinner’
when ‘chicken-parm’     then ‘dinner’
else ‘other’
end as category, round(1.0 * sum(amount_paid) /
(select sum(amount_paid) from order_items) * 100, 2) as pct
from order_items
group by category
order by pct;

I have the same problem. I dont know how to solve it.
In part 9/12 (Grouping with Case Statement) I wrote:
select
case order_items.name
when ‘kale-smoothie’    then ‘smoothie’
when ‘banana-smoothie’  then ‘smoothie’
when ‘orange-juice’     then ‘drink’
when ‘soda’             then ‘drink’
when ‘blt’              then ‘sandwich’
when ‘grilled-cheese’   then ‘sandwich’
when ‘tikka-masala’     then ‘dinner’
when ‘chicken-parm’     then ‘dinner’
else ‘other’
end as category, round(1.0 * sum(amount_paid) /
(select sum(amount_paid) from order_items) * 100, 2) as pct
from order_items
group by 1
order by 2 desc;
and got feedback “Add a category column.”.
Anybody can help?

OK, I get the right answer for 9/12 topic.




select *,
  case order_items.name
    when 'kale-smoothie'    then 'smoothie'
    when 'banana-smoothie'  then 'smoothie'
    when 'orange-juice'     then 'drink'
    when 'soda'             then 'drink'
    when 'blt'              then 'sandwich'
    when 'grilled-cheese'   then 'sandwich'
    when 'tikka-masala'     then 'dinner'
    when 'chicken-parm'     then 'dinner'
    else 'other'
  end as category
from order_items
order by id
limit 100;





select
  case order_items.name
    when 'kale-smoothie'    then 'smoothie'
    when 'banana-smoothie'  then 'smoothie'
    when 'orange-juice'     then 'drink'
    when 'soda'             then 'drink'
    when 'blt'              then 'sandwich'
    when 'grilled-cheese'   then 'sandwich'
    when 'tikka-masala'     then 'dinner'
    when 'chicken-parm'     then 'dinner'
    else 'other'
  end as category, round(1.0 * sum(amount_paid)/(select SUM(amount_paid) from order_items)*100,2) as pct
from order_items
group by 1
order by 2 desc;


Have a question regaring the following portion of code…
“end as category, round(1.0 * sum(amount_paid)/(select SUM(amount_paid) from order_items)*100,2) as pct
from order_items”
Why do you need the comma after “category”? Not sure i understand the important and why I couldn’t leave this out. thanks!
"
408,Sql queries,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/learn-sql-queries/lessons/queries/exercises/select-ii?action=lesson_resume&course_redirect=learn-sql
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
409,Structure a query like a pivot table,"Get Help,SQL",,2,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/non-correlated-iii?action=lesson_resume
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>

```
Replace this line with your code.
<do not remove the three backticks above>
Is it possible to get the data in a different way?  For instance, could you get the data like a pivot table?  Say I want in one axis to have the months of the year and on the other I want the count of flights grouped by origination?  Can that be done? Or would I get one column of months and with another of origination and another of COUNT(*) and do the pivot in Excel?
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
410,Can't complete SQL Lesson 4: Create,"Get Help,SQL",,5,"
Am I missing something here? I can complete the 1st instruction:
Add a row to the table. In the code editor type
INSERT INTO celebs (id, name, age) VALUES (1, 'Justin Bieber', 21);

but not the second:
To view the row you just created, under the INSERT statement type
SELECT * FROM celebs;

My code editor looks like this:
CREATE TABLE celebs (id INTEGER, name TEXT, age INTEGER);
INSERT INTO celebs (id, name, age) VALUES (1, 'Justin Bieber', 21);
SELECT * FROM celebs;

Any idea why this would fail out? The only error message I get is “Use the select statement to view the new row”.
","



 pywhiz26334:

CREATE TABLE celebs (id INTEGER, name TEXT, age INTEGER);


Remove that line and you should be good.

Had the same issue, thanks for the response! Why would we need to remove that line though?




 karpodiem:

Why would we need to remove that line though?


In real life you won’t recreate the table every time you want to insert a new row. Can we assume that in this exercise that the table has already been created?  I’m not sure. The code checker doesn’t like it – that’s the only part that I’m sure of 

hello I had the same problem but we can’t solve it you need to click on run as much as you need to make button appear. this button will ask you if you want to get the code and just say yes.
"
411,Question 6 Fake_Apps,"Get Help,SQL",,15,"
Question 6 asks you to return the average price for each category.
My attempt: select category, avg(price) from fake_apps order by category;
I’m only returning the average of the News category.
","
@cucumberslumber
Can we have the link to the exercise please?

https://www.codecademy.com/en/courses/learn-sql/projects/fakeapps

@cucumberslumber
Do you mean this link https://www.codecademy.com/en/courses/learn-sql/lessons/aggregate-functions/exercises/min?action=lesson_resume ? Because yours seems to generate an 404 HTTP error.

Try this: https://www.codecademy.com/en/courses/learn-sql/projects/fakeapps I just refreshed the page.

@cucumberslumber
The link still doesn’t work. Is it something reserved for codecademy pro?

Yes, this is a project from pro.

@cucumberslumber
Ahh, I understand now. I’m not yet a codecademy pro but try this:
SELECT AVG(price) FROM fake_apps ORDER BY category


I tried that on my own, but I put it in just now and didn’t pull anything. I appreciate the attempt!

@cucumberslumber
So does your code works now?

Still having trouble with that one.

@cucumberslumber
Wait… Try this one:
SELECT AVG(price) FROM fake_apps WHERE category


I made the same mistake at the first time too! You should use GROUP BY instead of ORDER BY!!!
So the answer should be:
SELECT category, AVG(price)
FROM fake_apps
GROUP BY category;

This is correct.  !

"
412,Need help with Table Transformation,"Get Help,SQL",,2,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/non-correlated-iii?action=lesson_resume
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
Not sure what is wrong with what I have.
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>

SELECT a.dep_month,
a.dep_day_of_week,
AVG(a.flight_distance) AS average_distance
FROM ( SELECT dep_month, dep_day_of_week, dep_date, AVG(distance) AS flight_distance
FROM flights
GROUP BY 1, 2, 3) a
GROUP BY 1, 2
ORDER BY 1, 2;

```
Replace this line with your code.
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
413,7/9 String,"Get Help,SQL",,4,"
This may be a very basic question, I apologize, but how do I create the the two parallel lines to concatenate first and last names? I’ve tried to Google it and can’t seem to figure it out. I appreciate any help!


SELECT first_name || ' ' || last_name as full_name
FROM bakeries;



","
A single vertical line is one of the symbols on your keyboard. On my keyboard it is the key above ‘Enter’.

THANK YOU! That was driving me nuts. My Keyboard has it as a broken line so I didn’t even try that key.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
414,SQL 2/8 primary key,"Get Help,SQL",,3,"
I created ‘artists’ table with primary key.
I understand that data was automatically added to the ‘artists’ table but
How does the artist ID 1 The Beatles know which album is associated with Beatles?
I don’t see anything in common between the two tables.
","
Add new column to your table and name it “album” or the name of your choice. When storing data to ‘artists’ table, Define a variable that holds album name of the artist and save this name into the category column you just created.
Example:

The Beatles AlbumOne mix.mp3
The Beatles AlbumOne mit.mp3
The Wagon AlbumTwo sing.mp3

mysql table: ID | name | album | file
…Just trying to help!

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
415,Round to nearst integer,"Get Help,SQL",,2,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>


```
When I use the command SELECT price, ROUND(AVG(downloads)) FROM fake_apps
GROUP BY price; the answer is 15762.0 but thats not a Integer its a decimal number. The instruction is telling that ROUND is given the nearest integer, but Im not sure thats correct, Can somepleace explane
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
416,SQL questions! Please help,"Get Help,SQL",,3,"
Could someone please review and help on these questions?

pull columns A, B, C, D, E
search for X and Y from columns A - E
combine multiple tables (Table 1, 2, and 3)
and group the results however you see fit (column H)

My attempts are

SELECT A, B, C, D, E FROM (table name) ;
SELECT A, B, C, D, E FROM (table name)
WHERE name = X AND Y ;  -> I’m lost here
SELECT * FROM 1
JOIN 2 AND 3 ON ;
SELECT * FROM 1
JOIN 2 AND 3 ON
GROUP BY H;

Thank you!
","
Please remember to include a link to the exercise when posting questions in the Q&A forums. Thanks.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
417,How does sql differentiate between a simple attribute and a attribute which is a foreign key,"Get Help,SQL",,2,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>


```
Replace this line with your code.
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
418,Convert C# code to PL/SQL code,"Get Help,SQL",,2,"
I have code written in C# and need to convert to PL/SQL code. Code C#:
long n1=563272302, n2=369098752;
n1 ^= 0x000000004892011bL ^ n2;
Result after operation is:
n1=2130762613
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
419,Blah,"Get Help,SQL",,2,"
Hi everyone,hdhalaldknflalknsdfsdf
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
420,Correlated Subqueries II,"Get Help,SQL",,2,"
I’m still not sure why f.id would ever be less than flights.id if they are essentially the same table.

```
SELECT carrier, id,
(SELECT COUNT(*)
FROM flights f
WHERE f.id < flights.id
AND f.carrier=flights.carrier) + 1
AS flight_sequence_number
FROM flights;
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
421,Help,"Get Help,SQL",,5,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>


```
Replace this line with your code.
<do not remove the three backticks above>


So... on the first lesson they asked me, on the second step, to get help on this forum... so.... help? I don't even understand what am I supposed to do.
","
Hi!
You haven’t posted a question. You only posted the question format. Kindly post your question well-formatted.
Thank you!

Oh, sorry, I thought that I actually needed to ask a question in here (but I didn’t, that was only proposing to ask for help in case we didn’t passed the first lesson) Thank you anyway! And sorry for bothering, haha.

You’re welcome.
Have fun coding. 

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
422,Data integration interview,"Get Help,SQL",,2,"
Hello everyone .
I am going to have interview next week on  SQL .I have search material for  interview preparation but do not get satisfactory material.I tried with hacker rank and there i was unable to solve  many problem .I feel quite unsatisfied with it  and in trap of brainstorming that  am i prepare for that ?Friends please suggest .
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
423,Wrong output in Learn SQL - Queries chapter,"Get Help,SQL",,3,"
I have noticed that the output for the below command isn’t correct.
SELECT * FROM movies
WHERE genre = ‘comedy’
OR year < 1980;
This should give me the output of movies that either have a genre of comedy or were released before 1980. But it gives some results that aren’t comedy and many movies list from year 2000 and above. Some one from the learning department please check this part and verify if everything is working fine.
","



 bitslayer07032:

it gives some results that aren’t comedy


then maybe those are  year < 1980



 bitslayer07032:

many movies list from year 2000 and above


maybe those are  genre = 'comedy'

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
424,Correlated Subqueries I - carrier = f.carrier .. again,"Get Help,SQL",,2,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
Hello! It seems like a lot of people before me I am having issues by the signification carrier = f.carrier from Correlated Subqueries I introduction, here:
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/correlated-i?action=lesson_resume
I read other closed posts on it and I understood from them that:

carrier = f.carrier purpose is to enable to compare something else than only: “AVG(distance) of all rows of the flight table” - Versus -  “distance of all rows of the flight table” (if not this weird piece of code would not be there)
carrier = f.carrier is comparing 2 (different??) flights tables by defining alias.

I however do not understand how these 2 flight tables are different…? in the codes i ran below i indeed see that the results are different.
I included below 4 pieces of code to help me try to understand (no success as you can see ^^):
-1/ the average flight distance as reference
-2/ the given code: the code of the introduction with addition in SELECT of the distance and carrier
-3/ a code from another post, giving explanation to the 2 flight table alias. Results are identical to code 2, good.
-4/ the code without the problematic piece: WHERE carrier = f.carrier
Results between the 2 codes (2/ and 4/) are indeed different and some output id of code 2 have a smaller distance than the AVG(distance).
thanks for any precision!

```
SELECT AVG(distance) FROM flights;
SELECT id, distance, carrier
FROM flights AS f
WHERE distance > (
SELECT AVG(distance)
FROM flights
WHERE carrier = f.carrier) LIMIT 5;
SELECT id, distance, carrier
FROM flights AS f1
WHERE distance > (
SELECT AVG(distance)
FROM flights AS f2
WHERE f2.carrier = f1.carrier) LIMIT 5;
SELECT id, distance, carrier
FROM flights AS f
WHERE distance > (
SELECT AVG(distance)
FROM flights) LIMIT 5;
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
425,SQL: Analyzing Business Metrics - 9/12 Question #2 times out,"Get Help,SQL",,3,"
the website keeps freezing, the correct code is simple, but the server from CA wont let it continue. My solution is to add a “limit 10” at the end so it will run it fast.


Query

select
case name
when 'kale-smoothie' then 'smoothie'
when 'banana-smoothie' then 'smoothie'
when 'orange-juice' then 'drink'
when 'soda' then 'drink'
when 'blt' then 'sandwich'
when 'grilled-cheese' then 'sandwich'
when 'tikka-masala' then 'dinner'
when 'chicken-parm' then 'dinner'
else 'other'
end as category, round(1.0 * sum(amount_paid) /
(select sum(amount_paid) from order_items) * 100, 2) as pct
from order_items
group by category
order by 2 desc
limit 10;



","
We could use a link to the exercise, if you please. Thank you.



 miguel15a:

the server from CA






CC not CA


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
426,Interview preparation Mysql,"Get Help,SQL",,2,"
I  have to give interview on sql , data mapping .I have solved many problem on Hacker rank but  i cannot solve each and every one infect  i was unable to solve many of them .Do it mean i am not prepare for interview .Can any one recommend interview questions on  sql. I have tried to google it but there were much resources  there and  i have also prepare from one of it but it was too theory there and do not have questions .I want to practise questions .Any one know about it .
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
427,"What use is the ""self-join"" function in Question#2 in 12th section?","Get Help,SQL",,2,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
https://www.codecademy.com/courses/sql-analyzing-business-metrics/lessons/common-metrics/exercises/1d-retention-ii?action=lesson_resume
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
I just followed the guideline to finish the coding, but do not understand how it works. Could you please help explain? Thanks!
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>

why is the user_id repeated so many times after self join? There are, in fact, no so many items in table “gameplay”. Then what does the repeating user_id indicate?
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>

```
select
date(g1.created_at) as dt, g1.user_id
from gameplays as g1
join gameplays as g2 on
g1.user_id = g2.user_id
order by 1
limit 100;
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
428,"What is meant by ""gnre""","Get Help,SQL",,2,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>


```
Replace this line with your code.
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
429,6.combining aggregates show either 0 or 100,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/sql-table-transformation/lessons/conditional-aggregates/exercises/combining-aggregates-i?action=lesson_resume&link_content_target=interstitial_lesson
When i have the proper code, instead of showing the percentage of flights it only show either 0 or 100. So if there is any flight from DL then it shows 1 multiplied by 100.
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
430,SQL Analyzing Business Matrices 2/12 Daily counts,"Get Help,SQL",,2,"
I don’t understand the meaning of daily count of orders. It should mean total number of orders in a day but output is showing something else.
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>


```
Replace this line with your code.
<do not remove the three backticks above>
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
431,SQL Lessons need improvements,"Get Help,SQL",,2,"
Does anyone else feel like they are just transcribing text? I wish it would talk about command functions, and then invite some exploration, but instead it’s all been “type the following text into the console and then run it, great job! You’re learning so much!”





","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
432,Inner Join fails as select param is not contained in Group By?,"Get Help,SQL",,3,"
I am trying to run an inner join with a case query. This is what I have so far:
SELECT jobs.ID,
SUM(CASE WHEN jobresponses.result = 'true' THEN 1 ELSE 0 END) as True,
SUM(CASE WHEN jobresponses.result = 'false' THEN 1 ELSE 0 END) as False
FROM jobresponses 
JOIN jobs on jobresponses.jobId = job.ID
GROUP BY jobs.ID

This works fine, however if I add jobs.title to the select parameters, I get the error:

Column ‘jobs.title’ is invalid in the select list because it is not contained in either an aggregate function or a GROUP BY clause.

Have I miss understood something? What am I doing wrong?
","
May reading a few articles will give you a better knwledge…
Found with google-search
Inner Join fails as select param is not contained in Group By site:stackoverflow
for instance
https://stackoverflow.com/questions/8857090/group-by-using-parameters-in-sql

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
433,Find the actual MAX time (6/9),"Get Help,SQL",,2,"
https://www.codecademy.com/courses/sql-table-transformation/lessons/date-number-string-functions/exercises/numbers-ii?action=lesson_resume
People have commented that the results of the “correct” code are wonky because the cook_time and cool_down_time are actually TEXT fields from the schema table, not numeric fields. You can CAST the data elements to integer for real results.
Command:

select id, max(cast(cook_time as integer), cast(cool_down_time as integer)) 
FROM baked_goods;


Results:

1b51ceca47aad78ee4685ea2c5c0b5ed016df1f0.png3840×2080

","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
434,13.3 day retention,"Get Help,SQL",,2,"
wat is wrong with the code?
I don’t know what to type
select
date(g1.created_at) as dt,
round(100 * count(distinct (g2.user_id))) /
count(distinct (g1.user_id)) as retention
from gameplays as g1
left join gameplays as g2 on
g1.user_id = g2.user_id
and date(g1.created_at) = date(datetime(g2.created_at, ‘-1 day’))
group by 1
order by 1
limit 100;
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
435,Combining aggregates II question,"Get Help,SQL",,3,"
SELECT state, 100.0 * sum(CASE WHEN elevation >= 2000 THEN 1 ELSE 0 END) / count(*) as percentage_high_elevation_airports
FROM airports
GROUP BY state;
this is the answer that given by codeacademy,  my question is, what is the meaning of “1” in the line of
THEN 1 ELSE 0 END ?
","



 scriptjumper74738:

sum(CASE WHEN elevation >= 2000 THEN 1 ELSE 0 END)


Example
elevation   CASE-when
 column      Result
 1000         0
 2400         1
  800         0
 1500         0
 3000         1
              ==
  SUM-Result  2


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
436,Grouping with Case Statements - Step 2,"Get Help,SQL",,6,"
Can’t complete stage 2.
This is the code.
select
case name
when ‘kale-smoothie’    then ‘smoothie’
when ‘banana-smoothie’  then ‘smoothie’
when ‘orange-juice’     then ‘drink’
when ‘soda’             then ‘drink’
when ‘blt’              then ‘sandwich’
when ‘grilled-cheese’   then ‘sandwich’
when ‘tikka-masala’     then ‘dinner’
when ‘chicken-parm’     then ‘dinner’
else ‘other’
end as category, round(1.0 * sum(amount_paid) /
(select sum(amount_paid) from order_items) * 100, 2) as pct
from order_items
group by 1
order by 2 desc;


select
  case name
    when 'kale-smoothie'    then 'smoothie'
    when 'banana-smoothie'  then 'smoothie'
    when 'orange-juice'     then 'drink'
    when 'soda'             then 'drink'
    when 'blt'              then 'sandwich'
    when 'grilled-cheese'   then 'sandwich'
    when 'tikka-masala'     then 'dinner'
    when 'chicken-parm'     then 'dinner'
    else 'other'
  end as category, round(1.0 * sum(amount_paid) /
    (select sum(amount_paid) from order_items) * 100, 2) as pct
from order_items
group by 1
order by 2 desc;
 



","
i too have the same issue. the interactive screen is not working!

Same here, browser suspends when trying to execute this code.

I came up with the exact same code and system tells me it’s the wrong answer.  Bug or wrong code?

Having the same issue

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
437,RE: Correlated Subqueries II #6,"Get Help,SQL",,2,"
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/correlated-ii?action=lesson_resume
I was hoping to explain to @jordanw9000 (Post @ Correlated Subqueries II #6) (as well as myself) “How are we able to find an id column less than another id column from the same table?”
If you, or other seekers are still questioning the logic, I figure that the alias f, creates a temporary table that is a copy of the flights table. In this way, it can perform the operations between the original and copy. In this case, the query counts the number of flight.id integers that are less than f.id, then add 1, so if there are none less than it, leaving only itself, then it gets Flight Sequence Number “1”.
This is totally open for discussion, so if anyone else has information to add, feel free to do so.
Moreover, I know I was stuck for a while after the instructions said, “For instance, assuming flight_id increments with each additional flight…”, I was looking at the table schemas searching for it…  but I guess it was supposed to be flight.id
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
438,Bit confused on Step 4,"Get Help,SQL",,9,"
This seems to be the answer:
CREATE TABLE tracks (id INTEGER PRIMARY KEY, title TEXT, album_ID INTEGER);

INSERT INTO tracks(id, title, album_id) VALUES (1, 'Smooth Criminal', 8);

INSERT INTO tracks(id, title, album_id) VALUES (2, 'Hey Jude', 5);

SELECT * FROM albums JOIN tracks ON albums.id = tracks.album_id ORDER BY album_id;

But it doesn’t really make sense with what we were taught within the course. From the course it would make more sense to write albums.artists_id = tracks.id because id is the primary key of tracks. See the explanation in this exercise for what I’m talking about. To me it seems like album_id in tracks should be the primary key here.
Edit: Being told id in albums is the primary key would make album_id in tracks the foreign key, and would result in:
SELECT * FROM tracks JOIN albums ON tracks.album_id = albums.id ORDER BY album_id;

Maybe I’m missing something here?
","
Also looking forward to find the answer on that task

Perhaps:
SELECT * FROM albums JOIN tracks ON tracks.id = albums.id ORDER BY album_id;


9b92ccd0e209be910be71e34cc6067ac8f831a90.png920×878

You have to consider what each table represents.  The ID for each table represents that “thing”.
So if you look at tracks.id it represents the unique ID of the tracks listed in that table.
The albums.id represents the unique ID of all the albums listed.
These are two different things (tracks versus albums).  However, one of the attributes inside the TRACKS tables is called album_id.  This means that the field tracks.album_id is the same thing as album.id.
Imagine if you were to draw a line from the ALBUMS table I attached above from the ID field.  I would join the ALBUMS.ID field with the one in the tracks table called TRACKS.ALBUM_ID because these mean the same thing.

I should point out that it is always best to uniquely name fields to avoid this kind of confusion.  If I were to design this database I would have the tables structured as such:
ALBUMS

album_id
album_name

TRACKS

track_id
track_title
album_id


Hi
Try this
SELECT * FROM albums JOIN tracks ON tracks.album_id = albums.id;

Select
a.ID,
a.name,
a.artist_id,
a.year,
t.id,
t.title,
t.albumn_id
from albums as a
inner join tracks  as t on t.album_id=a.id
order by album_ID;

Looking back on this, I was trying to use what I learned in the lessons way too hard.
How it should be done makes sense to me now.

I have the same code as you and this is the outcome:
id  name            artist id year  id  title                album id
2	Elvis Presley	     2	  1956	1	Smooth Criminal	      2
3	1989		              2014	2	Heathens	          3
4	Yellow Submarine	 1	  1968	3	Love the way you lie  4
5	Hey Jude	         1    1970	4	Papaoutai             5

My issue is that the table is showing a null value under artists id which shouldn’t since inner joins only can accept the command if the condition is true, which in this case, isn’t.
"
439,Selecting table,"Get Help,SQL",,4,"

3bf02470a62e7ca5a70e5be0c5e9a92fff289438.png1360×768

","
how to select it help me

SELECT * FROM flights LIMIT 10;

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
440,"Q 1/7 instead of ""limit 0,10"" can I use ""select top 10""?","Get Help,SQL",,3,"
Hi there,
At my job we use SQL and often we will select the top 1000 rows using the syntax below.
I discovered the solution to this question using limit 0,10 however I don’t see why it wouldn’t also work to use Top.
Am I using a different version of SQL at work?
Thanks
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/non-correlated-ii?action=lesson_resume
Error: near line 1: near “10”: syntax error

f8f21e64d75f2aa8bec2abda0ebf10e6deb144f3.png1440×810


select top 10 *
from flights;




","
select * from flights
limit 10;

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
441,Table Transformation subqueries 1,"Get Help,SQL",,3,"
<PLEASE USE THE FOLLOWING TEMPLATE TO HELP YOU CREATE A GREAT POST!>
SELECT code
FROM airports
WHERE elevation < 2000;
SELECT *
FROM flights
WHERE origin in (
SELECT code
FROM airports
WHERE elevation < 2000);
please help. I Don’t know why my code doesn’t work.No error message is displayed.
<Below this line, add a link to the EXACT exercise that you are stuck at.>
<In what way does your code behave incorrectly? Include ALL error messages.>
<What do you expect to happen instead?>

```python
Replace this line with your code.
<do not remove the three backticks above>
","
And what happens if you kick out the code
SELECT code
 FROM airports
 WHERE elevation < 2000;



This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
442,"Mapping these exercises to MongoDB, Need data for experiments","Get Help,SQL",,2,"
I’ve worked through these exercises and am trying to map the lessons to MongoDB. I would like a JSON file that contains all of the data sets from this lesson group so I can practice. I’d be more than happy to share my progress on these forums for anyone else that would like to try something similar.
Would it be better to request an email with the file or download it with some goofy http query?
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
443,About max and min,"Get Help,SQL",,11,"
Dear all,
Thank you for your time. I encounter a question which min and max. With fake_apps table, I want to show the name and category of the most downloaded app.
select name, category from fake_apps order by downloads desc limit 1;
this line would return what am i aiming for.
however, it seems i am supposed to use something related to max.
select name, category, max(downloads) from fake_apps;
it would return 3 columns and I only need the first two columns.
I am trying to write something like:
select name, category from fake_apps where downloads = max(downloads);
but it doesn’t work.
any thoughts on what should i do?
","
There was an exercise, 5. max, that sounds just like what you are asking for.
It looked like this:
SELECT name, category, MAX(downloads)
FROM fake_apps
GROUP BY category;


Your code would display the most downloaded app per category. I am hoping to get the most downloaded app. and only include column of name and category.

I see, that query gets this:

but you just want the name and category of the most downloaded app in the whole database?

yes, thats what i want

You could do this:
SELECT name, category
FROM fake_apps
ORDER BY downloads DESC
LIMIT 1;


that is what i did, and plz read the post. I am asking if i could use max




 frank021227:

I am asking if i could use max


I definitely didn’t read it all 
You could do this:
SELECT name, category
FROM fake_apps
WHERE downloads=(
  SELECT max(downloads) FROM fake_apps
  );

but this SO post that I found it at doesn’t seem to recommend it:


stackoverflow.com






SQL SELECT row FROM table WHERE id=max(id)


mysql, sql


  
  answered by
  
    unutbu
  
  on 12:49AM - 30 Sep 11 UTC








that is exactly what i am looking for. thanks a lot man!

When I use avg(downloads) instead of max or min, why does the name of the app change? How does the query decide which name to use in the row to describe the average downloads within the category?
The code would be same as above, but instead of max or min, you would type “avg”. I am just curious because I am interested in the logic of SQL as someone who is serious about learning more and improving my SQL coding abilities. Max and min are easy to understand, but what logic is used to decide the name for avg?
Thank you in advance for your answer and time.

Remember SQL statement ALWAYS return a table of some sort.
Apparently, when you use MAX, the query returns a table with a row that contains the value for MAX(downloads) in downloads column. I think if the fake_app table contains two apps with the same largest values for the downloads column will return the table with two rows.
Conversely, when you use AVG what it gets returned should be a table with one row having one name, and one averaged value. But the name should come from name column. I think in this case (and usually) you get names from the last row in the fake_app table in each category. In fact, you get the same app names if you run:
SELECT name, category, downloads FROM fake_apps GROUP BY category;
"
444,Strings II - Manipulate Many Criteria,"Get Help,SQL",,6,"
Hi All,
What if I want to clean the ingredients column?
SELECT
REPLACE(ingredients,'enriched_',' ') as item_ingredients,
replace(ingredients,'_',' ') as item_ingredients

FROM
baked_goods;

Tried this, but the result is 2 columns.
How to combine it into 1 column?
Or to manipulate many criteria of strings in a column?
Thank you in advance.
","
Maybe this helps
Step 8/9: Replace enriched_flour with just flour
 https://discuss.codecademy.com/t/step-8-9-replace-enriched-flour-with-just-flour/40025

SELECT id, REPLACE(REPLACE(ingredients,'enriched_flour','flour'),'_',' ') as item_ingredients
from baked_goods;


Hi Leon, thank you for the link.
This one works, so is this the same concept with inner join?

I do not understand the question
may this will help
P. 4 - Combine the albums and tracks tables using an INNER JOIN. Order the query by album_id
or
=for the near future=
PHP: 'While' loop skipping 'echo' when 'if' statement returns false

Hi Leon, I mean to make all the underscore disappear and at the same time making other changes like enriched flour into flour, etc.
It’s ok, I grasp the concept now. Thank you. 

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
445,Using CASE WHEN as a GROUP,"Get Help,SQL",,3,"
I’ve been playing around with the GROUP BY syntax trying to understand it better.
In the exercise for CASE WHEN, the “passing” syntax requires “GROUP BY 1”.I attempted to change that to GROUP BY 2 and then GROUP BY COUNT() but get an error code stating aggregate functions are not allowed in the GROUP BY clause.
My confusion comes from my understanding that the CASE WHEN process is an aggregate function as well.  Why does the CASE WHEN language work with GROUP BY but COUNT() does not.

```
Replace this line with your code.
<do not remove the three backticks above>
","
If you use the group-by as
GROUP BY 1
you are grouping on the first field mentioned in your select
count() will produce a total of ROWS-nr
do a google search
sql where can count() be used site:stackoverflow.com
or for possible solutions to your problem
sql aggregate functions are not allowed in the GROUP BY clause. site:stackoverflow

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
446,Why do I neeed WHERE carrier = f.carrier,"Get Help,SQL",,5,"
<PLEASE USE THIS TEMPLATE TO HELP YOU CREATE A GREAT POST!>
<Below this line, add a link to the EXACT exercise that you are stuck at.>
https://www.codecademy.com/courses/sql-table-transformation/lessons/subqueries/exercises/correlated-i?action=lesson_resume
<Below this line, in what way does your code behave incorrectly? Include ALL error messages.>
<In this course, it often helps to include a screenshot of your whole web browser – that lets everyone see what you see. If you wish to include a screenshot, add it below this line.>
<If you wish to copy/paste in your code, you can use this next section.  This will allow others to copy/paste your code for testing – something that they won’t be able to do with just a screenshot.>

I can’t understand what   WHERE carrier = f.carrier does in this code.
How is ‘carrier’ and ’ f.carrier’ different?

```
SELECT id, carrier, distance
FROM flights AS f
WHERE distance > (
SELECT AVG(distance)
FROM flights;
<do not remove the three backticks above>
","
That is how you join the subquery to the main query to match the carrier to the carrier.

I didnt understand it really.

I just got it myself, but the reason is that you don’t want to compare the flight distance of any flight to the overall average, but only to the average of a certain carrier. ( …you could also compare it to the average of flights from a certain company only, or those who start at a certain city maybe)
There are many averages this way, like MA = 167, or UAH = 731.33 … .
Now you want to only list the ids of those flights who are below the average for their certain carrier specification. (so, only “list those MA who are under 167”, then “those UAH who are under 731.33”)
That way the average changes on every row of the outer query, because the name of the carrier of every row changes, making it necessary to calculate the subquery again. The carrier = f.carrier then just ensures that you get the average of the carrier of the row you are currently in with the outer query.
.
Add:
Maybe a precalculated list of averages would be more merciful with the resources if it could be created somehow, so you don’t have to do that potentially lenghty query again and again when you already finished calculating some of the same results before. …But this is how it works for here and now.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
447,MySQL to SQL,"Get Help,SQL",,3,"
Hello,
Can someone help me convert my MySQL querie to SQL?
I can’t use “limit 5” in SQL.

```
SELECT sum(tid), student.Namn FROM student, mingle WHERE mingle.Student=student.id GROUP BY namn ORDER BY sum(tid) DESC limit 5
","



 blogrunner28391:

SELECT sum(tid), student.Namn FROM student, mingle WHERE mingle.Student=student.id GROUP BY namn ORDER BY sum(tid) DESC limit 5


From
https://community.oracle.com/thread/417724
cj  27-nov-2006 19:25  (in antwoord op 56877)
The preferred solution is to make use of the analytic function ROW_NUMBER. There is a description in the Oracle documentation. The final example shown returns only the fifty-first through one-hundredth row of the EMPLOYEES table:
SELECT last_name FROM 
   (SELECT last_name, ROW_NUMBER() OVER (ORDER BY last_name) R FROM employees)
   WHERE R BETWEEN 51 and 100;
An alternative is to use:
    select * 
      from ( select a.*, rownum rnum
            from ( YOUR_QUERY_GOES_HERE -- including the order by ) a
           where rownum <= MAX_ROWS )
     where rnum >= MIN_ROWS;


This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
448,Non-Correlated Subqueries II,"Get Help,SQL",,2,"
This subquery in example code in Learn section return empty results, because fac_type column in airports TABLE contains airport type without underscore sign “_”
    SELECT code 
    FROM airports 
    WHERE fac_type = 'SEAPLANE_BASE';

This requests is correct:
    SELECT code 
    FROM airports 
    WHERE fac_type = 'SEAPLANE BASE';

or
    SELECT code 
    FROM airports 
    WHERE fac_type LIKE 'SEAPLANE_BASE';

But in total it doesn’t matter. There are no flights from SEAPLANE BASE airports.
","
This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
449,Won't let me advance (9.1),"Get Help,SQL",,4,"
my code is below and I am pretty sure it should work but it gives me an error every time.
What did I misplace?
SELECT *,
CASE name
WHEN ‘kale-smoothie’  THEN ‘smoothie’
WHEN ’ banana-smoothie’ THEN ‘smoothie’
WHEN ‘soda’ THEN ‘drink’
WHEN ‘orange-juice’ THEN ‘drink’
WHEN ‘blt’ THEN ‘samdwich’
WHEN ‘grilled-cheese’ THEN ‘snadwich’
WHEN ‘tikka-masala’ THEN ‘dinner’
WHEN ‘chicken-parm’ THEN ‘dinner’
ELSE ‘other’
END AS category
FROM order_items
ORDER BY id
limit 100;


Replace this line with your code. 



","
Have a close look at
snadwich
and
samdwich

Haha holy crap. I got so mad and it was a little tiny mistake.
Thank you so much.

This topic was automatically closed 7 days after the last reply. New replies are no longer allowed.
"
